<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Private System</title>
  <style>
    /* Login System Styles */
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      margin: 0; padding: 0;
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden; /* Hide scrollbars */
    }

    /* Initialization Animation Styles */
    .initialization-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background: #000; /* Solid black background initially */
      z-index: 20; /* Above login box */
      opacity: 1;
      transition: opacity 1s ease-in-out;
    }

    .initialization-container.hidden {
      opacity: 0;
      pointer-events: none; /* Make it non-interactive when hidden */
    }

    .rotating-box {
      width: 100px;
      height: 100px;
      background: linear-gradient(45deg, #ff914d, #ff4c4c);
      border-radius: 15px;
      animation: rotate 3s infinite linear;
      margin-bottom: 20px;
      box-shadow: 0 0 20px rgba(255, 145, 77, 0.5);
    }

    @keyframes rotate {
      0% { transform: rotateY(0deg); }
      100% { transform: rotateY(360deg); }
    }

    .init-text {
      font-size: 1.5em;
      font-weight: bold;
      background: linear-gradient(to right, #ff914d, #ff4c4c);
      -webkit-background-clip: text;
      color: transparent;
      animation: pulse 2s infinite ease-in-out;
    }

    @keyframes pulse {
      0% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.05); opacity: 1; }
      100% { transform: scale(1); opacity: 0.8; }
    }
    
    /* Style for 'Initializing Login Page...' with cool animation */
    .login-page-init {
        font-size: 1.2em;
        color: #aaa;
        margin-top: 15px;
        opacity: 0;
        animation: fadeIn 1.5s ease-in-out forwards;
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .login-box {
      background: #000;
      border-radius: 20px; /* Keep rounded corners */
      border: 3px solid white;
      box-shadow: 0 0 15px white;
      width: 360px;
      padding: 30px 25px;
      text-align: center;
      position: relative;
      transition: border-color 0.3s, box-shadow 0.3s;
      transform: scale(1); /* Base scale */
      opacity: 1;
      /* Add transition for scaling down before hiding if needed */
      transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out;
    }
    
    .login-box.hidden-state {
      transform: scale(0.9);
      opacity: 0;
      pointer-events: none;
    }

    .login-box.flashing {
      animation: flashRed 0.4s ease-in-out 2;
    }
    
    @keyframes flashRed {
      0%, 100% { border-color: red; box-shadow: 0 0 15px red; }
      50% { border-color: white; box-shadow: 0 0 5px white; }
    }
    
    .login-box h2 {
      font-size: 1.7em;
      margin-bottom: 20px;
      font-family: 'Courier New', monospace;
      letter-spacing: 2px; /* For "private system" font */
    }
    
    /* Revised for square but rounded login */
    .login-box {
        /* ... other properties ... */
        border-radius: 15px; /* Slightly less than 20px to feel more square-ish */
        width: 360px; /* Standard width */
        max-width: calc(100% - 40px); /* Responsive padding */
    }

    .login-box input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      background: #1c1c1c;
      border: none;
      color: white;
      border-radius: 8px;
      font-size: 1em;
    }
    
    .login-box input:focus {
        outline: none;
        border-color: #ff914d; /* Highlight on focus */
        box-shadow: 0 0 8px rgba(255, 145, 77, 0.5);
    }
    
    .login-form-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .login-form-row input[type="checkbox"] {
      width: auto;
      margin-right: 5px;
      cursor: pointer;
    }
    
    .login-form-row label {
      flex-grow: 1; /* Allows label to take available space */
      display: flex;
      align-items: center;
      font-size: 0.9em;
      gap: 10px;
      cursor: pointer;
    }
    
    .login-box button {
      width: 100%;
      padding: 12px;
      background-color: red;
      color: white;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      font-weight: bold;
    }
    
    .login-box button:hover {
      background-color: darkred;
    }

    /* New: Time and Date box */
    .login-datetime-box {
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #444;
        border-radius: 8px;
        background: rgba(0,0,0,0.5);
        width: 360px;
        text-align: center;
        font-size: 1em;
        opacity: 0.7;
        transition: opacity 0.5s;
    }
    .login-datetime-box:hover {
        opacity: 1;
    }

    /* Show Password Toggle */
    #showPasswordContainer {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
      font-size: 0.9em;
      cursor: pointer;
    }
    
    #showPasswordToggle {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 26px;
        background-color: #ccc;
        border-radius: 13px;
        transition: background-color 0.3s, transform 0.3s ease-in-out;
        cursor: pointer;
    }
    
    #showPasswordToggle::before {
        content: '';
        position: absolute;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: white;
        top: 3px;
        left: 3px;
        transition: transform 0.3s ease-in-out;
    }
    
    #showPasswordToggle.checked {
        background-color: #28a745; /* Green when on */
    }
    
    #showPasswordToggle.checked::before {
        transform: translateX(24px); /* Moves to the right */
    }

    /* Attempt Counter Display */
    .attempt-counter {
      margin-top: 10px;
      font-size: 0.85em;
      color: #ffcc00; /* Yellowish for attempts left */
    }
    .attempt-counter.critical {
        color: red;
    }
    
    .error-message {
      margin-top: 10px;
      font-size: 0.85em;
      color: red;
      min-height: 1.2em; /* Prevent layout shifts */
    }
    
    .popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 320px;
      padding: 20px;
      transform: translate(-50%, -50%);
      background: black;
      border: 3px solid white;
      border-radius: 15px;
      box-shadow: 0 0 20px white;
      z-index: 10;
    }
    
    .popup input {
      margin-bottom: 15px;
    }

    /* New: Quick Bar for Login Page */
    .login-quick-bar {
        display: flex;
        justify-content: center;
        gap: 12px;
        position: absolute;
        top: 20px;
        left: 0;
        right: 0;
        z-index: 15;
    }
    .login-quick-bar button {
        background-color: #444;
        border: 1px solid #666;
        padding: 8px 12px;
        border-radius: 6px;
        color: white;
        font-size: 0.85em;
        cursor: pointer;
        transition: background-color 0.2s, transform 0.2s;
    }
    .login-quick-bar button:hover {
        background-color: #555;
        transform: translateY(-1px);
    }
    .login-quick-bar button#panicBtn {
        background-color: #e74c3c;
    }
    .login-quick-bar button#panicBtn:hover {
        background-color: #c0392b;
    }

    /* New: Toggle for 24-hour format */
    #hourFormatToggleContainer {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
        font-size: 0.9em;
        cursor: pointer;
    }
    #hourFormatToggle {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 26px;
        background-color: #ccc;
        border-radius: 13px;
        transition: background-color 0.3s, transform 0.3s ease-in-out;
        cursor: pointer;
    }
    #hourFormatToggle::before {
        content: '';
        position: absolute;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background-color: white;
        top: 3px;
        left: 3px;
        transition: transform 0.3s ease-in-out;
    }
    #hourFormatToggle.checked {
        background-color: #007bff; /* Blue when on */
    }
    #hourFormatToggle.checked::before {
        transform: translateX(24px);
    }


    /* Dashboard Styles */
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

    body.dashboard-body {
      font-family: 'Montserrat', sans-serif;
      background-color: #1a1a1a;
      color: #f9f2dc;
      padding: 20px;
      transition: background-color 0.3s, color 0.3s;
      zoom: 1;
      overflow-y: auto; /* Allow scrolling for dashboard */
      height: auto; /* Allow height to grow */
      display: block; /* Revert body display to default */
    }

    body.dashboard-body.light-theme {
      background-color: #f9f2dc;
      color: #1a1a1a;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #ff914d;
      padding: 15px 25px;
      border-radius: 12px;
      color: #000;
      margin-bottom: 20px;
    }

    .dashboard-header h1 {
      font-size: 24px;
    }

    .user-info {
      font-weight: bold;
    }

    .version-box {
      background: #ffd966;
      padding: 8px 15px;
      border-radius: 8px;
      color: #000;
      font-weight: bold;
    }

    /* New quick bar styling for dashboard */
    .quick-bar {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 10px;
      flex-wrap: wrap; /* Allow wrapping */
      padding: 10px;
      background: rgba(40, 40, 40, 0.7); /* Slightly transparent background for quick bar */
      border-radius: 10px;
    }
    
    /* Add padding/margin around quick bar */
    .quick-bar-wrapper {
        margin-top: 10px;
        margin-bottom: 20px;
    }

    .quick-bar button {
      background-color: #ff914d;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      min-width: 110px;
      white-space: nowrap; /* Prevent text wrapping */
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .quick-bar button:hover {
      background-color: #ffb67a;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    #panicBtn {
      background: #ff4c4c !important;
      color: white !important;
    }
    #panicBtn:hover {
      background-color: #e03e3e !important;
    }
    
    /* Styling for new search bar and download logs button */
    .quick-bar input[type="text"] {
        padding: 10px 14px;
        border: none;
        border-radius: 8px;
        font-size: 1em;
        background: #2a2a2a; /* Dark background */
        color: white;
        border: 1px solid #555; /* Subtle border */
        min-width: 180px; /* Larger minimum width */
        margin-left: auto; /* Push search to the right in the flex row if needed */
    }
    .quick-bar input[type="text"]:focus {
        outline: none;
        border-color: #ff914d;
        box-shadow: 0 0 8px rgba(255, 145, 77, 0.5);
    }

    .announcement-bar {
      width: 100%;
      background-color: #ff914d;
      color: black;
      font-weight: bold;
      padding: 10px 0;
      overflow: hidden;
      position: relative;
      border-radius: 8px;
      box-sizing: border-box;
      margin-bottom: 20px;
      user-select: none;
      height: 30px;
      line-height: 13px;
      text-align: center; /* Center the span */
    }

    .announcement-bar span {
      display: inline-block;
      white-space: nowrap;
      position: absolute;
      will-change: transform;
      animation: scrollLeft 15s linear infinite;
      padding-left: 100%;
      animation-delay: 0s; /* Ensure it starts immediately */
    }

    @keyframes scrollLeft {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    body.dashboard-body.light-theme .announcement-bar {
      background-color: #ffd966;
      color: #000;
    }

    .main-row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .box {
      background-color: #2a2a2a;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.3);
      min-height: 120px;
      transition: background-color 0.3s, color 0.3s;
      flex: 1 1 300px;
      overflow: hidden; /* Added for potential content clipping */
      position: relative; /* For potential drag/resize indicators */
    }

    /* Make boxes draggable and resizable (conceptually, needs JS library) */
    .box.draggable {
        cursor: grab;
    }
    .box.dragging {
        opacity: 0.7;
        cursor: grabbing;
    }
    /* Placeholder for resize handles if a library is used */
    .box.resizable .resizer {
        /* ... styles for resize handles ... */
    }

    body.dashboard-body.light-theme .box {
      background-color: #ffd966;
      color: #000;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.6);
    }

    .box h2 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #ffbf80;
    }

    body.dashboard-body.light-theme .box h2 {
      color: #994d00;
    }

    .box p, .box ul {
      font-size: 14px;
    }

    .update-entry {
      background: #40210f;
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      color: #ffccb3;
    }

    body.dashboard-body.light-theme .update-entry {
      background: #ffd999;
      color: #994d00;
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
      text-align: center;
      font-size: 12px;
    }

    .calendar div {
      padding: 6px;
      background: #333;
      border-radius: 4px;
    }

    .today {
      background: #ff914d !important;
      font-weight: bold;
      color: black;
    }

    body.dashboard-body.light-theme .calendar div {
      background: #ffd966;
      color: #000;
    }

    body.dashboard-body.light-theme .today {
      background: #994d00 !important;
      color: #ffd966;
    }

    #canvasContainer {
      display: none;
      margin-top: 20px;
      text-align: center;
    }

    #notesCanvas {
      border: 2px solid #ff914d;
      border-radius: 12px;
      background: #fff;
      cursor: crosshair;
      touch-action: none;
      max-width: 100%; /* Ensure responsive canvas */
      height: auto; /* Maintain aspect ratio */
    }

    #canvasControls {
      margin-top: 10px;
      display: flex; /* Arrange buttons in a row */
      flex-wrap: wrap; /* Allow wrapping if too many buttons */
      justify-content: center;
      gap: 10px; /* Spacing between buttons */
    }

    #canvasControls button {
      background-color: #ff914d;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      margin: 5px; /* Add some margin around buttons */
    }

    #canvasControls button:hover {
      background-color: #ffb67a;
    }

    .motivation-box {
      background-color: #333;
      color: #ffd966;
      padding: 20px;
      border-radius: 12px;
      font-style: italic;
      font-size: 16px;
      box-shadow: 0 0 12px rgba(255, 145, 77, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      text-align: center;
    }

    body.dashboard-body.light-theme .motivation-box {
      background-color: #fff3cc;
      color: #994d00;
      box-shadow: 0 0 12px rgba(255, 145, 77, 0.8);
    }

    /* Info Panel Styles */
    .info-panel {
      display: none;
      background-color: #2a2a2a;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.3);
    }

    body.dashboard-body.light-theme .info-panel {
      background-color: #ffd966;
      color: #000;
    }

    .info-panel h2 {
      color: #ff914d;
      margin-bottom: 15px;
    }

    body.dashboard-body.light-theme .info-panel h2 {
      color: #994d00;
    }

    .wifi-grid, .wifi-entry {
      display: grid;
      grid-template-columns: repeat(8, 1fr); /* Fixed columns */
      gap: 10px;
      margin-bottom: 15px;
    }

    .wifi-grid div, .wifi-entry div {
      padding: 8px;
      background: #333;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
    }

    body.dashboard-body.light-theme .wifi-grid div {
      background: #ffd999;
    }

    .wifi-entry div {
      background: #40210f; /* Darker for data rows */
    }

    body.dashboard-body.light-theme .wifi-entry div {
      background: #ffe8b3; /* Lighter for data rows */
    }
    
    /* Specific WiFi color mapping */
    .wifi-entry .high-wifi { background-color: #28a745; color: white; } /* Green */
    .wifi-entry .medium-wifi { background-color: #ffc107; color: black; } /* Yellow */
    .wifi-entry .low-wifi { background-color: #dc3545; color: white; } /* Red */
    .wifi-entry .unknown-wifi { background-color: #6c757d; color: white; } /* Grey */

    .handbook-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive columns */
      gap: 10px;
      margin-top: 15px;
    }

    .handbook-buttons button, .handbook-buttons a {
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      text-decoration: none; /* for links */
      display: flex; /* Align content if needed */
      align-items: center;
      justify-content: center; /* Center text */
      text-align: center;
    }

    .handbook-buttons button:hover, .handbook-buttons a:hover {
      background-color: #ffb67a;
    }

    .links-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Responsive columns */
      gap: 10px;
      margin-top: 15px;
    }

    .links-list a {
      display: block;
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      text-decoration: none;
      text-align: center;
    }

    .links-list a:hover {
      background-color: #ffb67a;
    }

    .exploit-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Responsive columns */
      gap: 10px;
      margin-top: 15px;
    }

    .exploit-buttons a {
      display: block;
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      text-decoration: none;
      text-align: center;
    }

    .exploit-buttons a:hover {
      background-color: #ffb67a;
    }

    .bypass-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Responsive columns */
      gap: 10px;
      margin-top: 15px;
    }

    .bypass-buttons button {
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }

    .bypass-buttons button:hover {
      background-color: #ffb67a;
    }

    .coming-soon {
      background: #40210f;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
      font-weight: bold;
    }

    body.dashboard-body.light-theme .coming-soon {
      background: #ffd999;
    }

    .info-text {
      background: #40210f;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
    }

    body.dashboard-body.light-theme .info-text {
      background: #ffd999;
    }

    .school-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive columns */
      gap: 10px;
      margin-top: 15px;
    }

    .school-info-item {
      background: #40210f;
      padding: 12px;
      border-radius: 8px;
    }

    body.dashboard-body.light-theme .school-info-item {
      background: #ffd999;
    }

    .school-info-label {
      font-weight: bold;
      color: #ff914d;
      margin-bottom: 5px;
    }

    body.dashboard-body.light-theme .school-info-label {
      color: #994d00;
    }

    .ipad-options {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .ipad-options button {
      flex: 1;
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      min-width: 120px; /* Prevent buttons from becoming too small */
    }

    .ipad-options button:hover {
      background-color: #ffb67a;
    }

    .ipad-content, .bypass-content {
      display: none; /* Hidden by default */
      background: #40210f;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
    }
    
    body.dashboard-body.light-theme .ipad-content,
    body.dashboard-body.light-theme .bypass-content {
      background: #ffd999;
    }
    
    /* New panels: Random Facts and Daily Quotes */
    .custom-panel-content {
        font-style: italic;
        color: #ccc;
        text-align: center;
        padding: 15px 0;
    }
    .light-theme .custom-panel-content {
        color: #666;
    }

    /* Styles for specific features like Settings, Tools, etc. */
    #settingsPanel, #toolsPanel, #timerPanel, #activityLogsPanel, #loginHistoryPanel, #calculatorPanel, #statsPanel, #mediaPanel, #reminderPanel, #keybindsPanel {
        display: none; /* Hidden by default */
        background-color: #2a2a2a;
        padding: 20px;
        border-radius: 12px;
        margin-top: 20px;
        box-shadow: 0 0 15px rgba(255, 145, 77, 0.3);
    }
    body.dashboard-body.light-theme #settingsPanel,
    body.dashboard-body.light-theme #toolsPanel,
    body.dashboard-body.light-theme #timerPanel,
    body.dashboard-body.light-theme #activityLogsPanel,
    body.dashboard-body.light-theme #loginHistoryPanel,
    body.dashboard-body.light-theme #calculatorPanel,
    body.dashboard-body.light-theme #statsPanel,
    body.dashboard-body.light-theme #mediaPanel,
    body.dashboard-body.light-theme #reminderPanel,
    body.dashboard-body.light-theme #keybindsPanel {
        background-color: #ffd966;
        color: #000;
    }
     body.dashboard-body.light-theme #settingsPanel h2,
     body.dashboard-body.light-theme #toolsPanel h2,
     body.dashboard-body.light-theme #timerPanel h2,
     body.dashboard-body.light-theme #activityLogsPanel h2,
     body.dashboard-body.light-theme #loginHistoryPanel h2,
     body.dashboard-body.light-theme #calculatorPanel h2,
     body.dashboard-body.light-theme #statsPanel h2,
     body.dashboard-body.light-theme #mediaPanel h2,
     body.dashboard-body.light-theme #reminderPanel h2,
     body.dashboard-body.light-theme #keybindsPanel h2 {
         color: #994d00;
     }


  </style>
  
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body id="bodyElement">

  <!-- Initialization Container -->
  <div id="initializationContainer" class="initialization-container">
      <div class="rotating-box"></div>
      <div class="init-text">Initializing System...</div>
      <div class="login-page-init">Initializing Login Page...</div>
  </div>

  <!-- Login System -->
  <div class="login-box" id="loginBox">
    <h2>ùôãùôßùôûùô´ùôñùô©ùôö ùôéùôÆùô®ùô©ùôöùô¢</h2>

    <input type="text" id="username" placeholder="Enter Username..." autocomplete="off" />
    <input type="password" id="password" placeholder="Enter Password..." autocomplete="off" />
    <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off" />

    <!-- Toggles for login page -->
    <div class="login-form-row">
        <div id="showPasswordContainer" class="login-form-row-item">
            <label for="showPasswordCheckbox">Show Password</label>
            <div id="showPasswordToggle" class="toggle-switch"></div>
            <input type="checkbox" id="showPasswordCheckbox" style="display: none;"> <!-- Hidden checkbox to control the visual toggle -->
        </div>
        <div id="hourFormatToggleContainer" class="login-form-row-item">
            <label for="hourFormatCheckbox">24-Hour Format</label>
            <div id="hourFormatToggle" class="toggle-switch"></div>
            <input type="checkbox" id="hourFormatCheckbox" style="display: none;"> <!-- Hidden checkbox -->
        </div>
    </div>

    <button id="submitBtn">Submit</button>

    <div class="error-message" id="errorMsg"></div>
    <div class="attempt-counter" id="attemptsText">Attempts Left: 5</div>

    <div class="popup" id="resetPopup" tabindex="-1" aria-hidden="true">
      <p>Too many failed attempts. Please reset.</p>
      <input type="password" id="resetField" placeholder="Enter reset code..." autocomplete="off" />
      <button id="resetBtn">Reset Counter</button>
    </div>
  </div>

  <!-- Quick Bar for Login Page -->
  <div class="login-quick-bar">
      <button id="loginPanicBtn">üö® Panic</button>
      <button id="loginZoomInBtn">‚ûï Zoom In</button>
      <button id="loginZoomOutBtn">‚ûñ Zoom Out</button>
  </div>


  <!-- Dashboard (hidden by default) -->
  <div id="dashboard" style="display: none;">
    <div class="dashboard-header" id="dashboardHeader">
      <div>
        <h1>Private Dashboard GUI</h1>
        <div class="user-info">User - <span id="loggedInUser">Beta.user</span> | ID: <span id="loggedInID">281573</span></div>
      </div>
      <div class="version-box">Version 1.6.0</div>
    </div>

    <div class="quick-bar-wrapper">
      <div class="quick-bar">
        <!-- Existing quick bar items -->
        <button id="sessionTime">‚è≥ Session Time: 00:00:00</button>
        <button id="realTimeClock">üïí --:--:--</button>
        <button id="realDate">üìÖ --</button>
        <button id="notesBtn">üìí Notes</button>
        <button id="exportNotesBtn">üíæ Export Notes</button>
        <button id="screenshotBtn">üì∏ Screenshot</button>
        
        <!-- New quick bar items -->
        <input type="text" id="dashboard-search" placeholder="Search...">
        <button id="downloadActivityLogsBtn">DL Activity Logs</button>
        <button id="settingsBtn">‚öôÔ∏è Settings</button>
        <button id="toolsBtn">üõ†Ô∏è Tools</button> <!-- General tools button -->

        <!-- Right side of quick bar (optional, could be aligned differently) -->
        <button id="toggleSectionsBtn">‚¨ÜÔ∏è Toggle Sections</button>
        <button id="fixIssuesBtn">üõ†Ô∏è Fix Issues</button>
        <button id="fullScreenBtn">üñ•Ô∏è Full Screen</button>
        <button id="zoomInBtn">‚ûï Zoom In</button>
        <button id="zoomOutBtn">‚ûñ Zoom Out</button>
        <button id="restartBtn">üîÑ Restart</button>
        <button id="panicBtn">üö® Panic</button>
        <button id="themeToggle">üåô Dark Mode</button>
        <button id="logoutBtn">üîì Log Out</button>
      </div>
    </div>
    
    <div id="announcementBar" class="announcement-bar">
      <span>üö® Welcome to the Private Dashboard GUI. Enhanced Features Live! üö®</span>
    </div>
    
    <div class="main-row" id="mainGrid">
      
      <div class="box">
        <h2>üìÖ Calendar</h2>
        <div class="calendar" id="calendar"></div>
      </div>

      <div class="box motivation-box" id="motivationBox">
        "The only way to do great work is to love what you do." ‚Äì Steve Jobs
      </div>

      <!-- New Panels -->
      <div class="box" id="randomFactsBox">
        <h2>üí° Random Facts</h2>
        <div class="custom-panel-content" id="randomFactsContent">
          Loading facts...
        </div>
      </div>

      <div class="box" id="dailyQuotesBox">
        <h2>üí¨ Daily Quotes</h2>
        <div class="custom-panel-content" id="dailyQuotesContent">
          Loading quotes...
        </div>
      </div>
    </div>

    <div id="updatesNotifications" style="display: flex; gap: 20px; justify-content: center; flex-wrap: nowrap; margin-top: 20px;">
      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>üîÑ Updates</h2>
        <div class="update-entry">Dashboard UI improvements rolled out!</div>
        <div class="update-entry">New system diagnostics tools available.</div>
        <div class="update-entry">Security patches applied.</div>
      </div>

      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>üîî Notifications</h2>
        <p>Your user activity is being logged securely. System optimized for performance.</p>
      </div>
    </div>

    <div class="quick-bar" style="flex-wrap: wrap; margin-top: 30px;">
      <!-- Panel Toggler Buttons -->
      <button onclick="dashboard.togglePanel('wifiPanel')">üì° School WiFi Information</button>
      <button onclick="dashboard.togglePanel('ipadPanel')">üì± School iPad Restrictions</button>
      <button onclick="dashboard.togglePanel('handbookPanel')">üìò Student Handbooks Information</button>
      <button onclick="dashboard.togglePanel('mapPanel')">üó∫Ô∏è School Building Map</button>
      <button onclick="dashboard.togglePanel('studentWebsitesPanel')">üåê Student Websites</button>
      <button onclick="dashboard.togglePanel('teacherWebsitesPanel')">üë©‚Äçüè´ Teacher Websites</button>
      <button onclick="dashboard.togglePanel('phoneDirectoryPanel')">üìû Phone Directory</button>
      <button onclick="dashboard.togglePanel('cameraPanel')">üì∑ Camera Access</button>
      <button onclick="dashboard.togglePanel('schoolInfoPanel')">üè´ School Information</button>
      <button onclick="dashboard.togglePanel('exploitPanel')">üß® Exploiting Tools</button>
      <button onclick="dashboard.togglePanel('bypassPanel')">üö™ Bypassing Tools</button>
      <button onclick="dashboard.togglePanel('vpnPanel')">üîê VPN Websites</button>
      <button onclick="dashboard.togglePanel('gamingPanel')">üéÆ Gaming Websites</button>
      <button onclick="dashboard.togglePanel('musicPanel')">üéµ Music Websites</button>
      <button onclick="dashboard.togglePanel('keyboardPanel')">üéπ Keyboard Tricks</button>
      
      <!-- New buttons based on requests -->
      <button onclick="dashboard.togglePanel('calculatorPanel')">üßÆ Calculator</button>
      <button onclick="dashboard.togglePanel('unitConverterPanel')">üîÑ Unit Converter</button>
      <button onclick="dashboard.togglePanel('statsPanel')">üìä User Stats</button>
      <button onclick="dashboard.togglePanel('mediaPanel')">‚ñ∂Ô∏è Media Access</button>
      <button onclick="dashboard.togglePanel('reminderPanel')">‚è∞ Reminders</button>
      <button onclick="dashboard.togglePanel('loginHistoryPanel')">üîë Login History</button>
      <button onclick="dashboard.togglePanel('activityLogsPanel')">üìú Activity Logs</button>
      <button onclick="dashboard.togglePanel('keybindsPanel')">‚å®Ô∏è Keybinds</button>
      <button onclick="dashboard.togglePanel('timerPanel')">‚è±Ô∏è Time Tools</button> <!-- Timer/Stopwatch etc -->
    </div>

    <!-- Information Panels Container -->
    <div id="infoPanelsContainer" style="margin-top: 20px;">
      <!-- WiFi Panel -->
      <div id="wifiPanel" class="info-panel">
        <h2>üì° School WiFi Information</h2>
        <div class="wifi-grid">
          <div>Network Name</div><div>Wifi Level</div><div>Security Type</div><div>Encryption</div><div>Hidden?</div><div>Monitored?</div><div>Username</div><div>Password</div>
        </div>
        <div class="wifi-entry">
          <div>Middletown_Core</div><div class="high-wifi">High</div><div>WPA3 Enterprise</div><div class="high-wifi">High</div><div>No</div><div>Yes</div><div>Unknown</div><div>Unknown</div>
        </div>
        <div class="wifi-entry">
          <div>Mtown_Core</div><div class="high-wifi">High</div><div>WPA3 Enterprise</div><div class="high-wifi">High</div><div>Yes</div><div>Unknown</div><div>Unknown</div><div>Unknown</div>
        </div>
        <div class="wifi-entry">
          <div>Mtown Guest</div><div class="medium-wifi">Medium</div><div>WPA3 Enterprise</div><div class="medium-wifi">Medium</div><div>No</div><div>Rare</div><div>msguest</div><div>M@ms2021#</div>
        </div>
        <div class="wifi-entry">
          <div>Radius Test</div><div class="low-wifi">Low</div><div>WPA3 Enterprise</div><div class="low-wifi">Low</div><div>No</div><div>Rarely</div><div>msguest</div><div>M@ms2021#</div>
        </div>
        <!-- Add more entries or a "Coming Soon" message if needed -->
      </div>

      <!-- iPad Panel -->
      <div id="ipadPanel" class="info-panel">
        <h2>üì± School iPad Restrictions</h2>
        <div class="ipad-options">
          <button onclick="dashboard.showIpadContent('restrictions')">Restrictions</button>
          <button onclick="dashboard.showIpadContent('bypasses')">Bypasses</button>
        </div>
        <div id="ipadRestrictions" class="ipad-content"><p>Managed through MDM. Specifics unavailable.</p></div>
        <div id="ipadBypasses" class="ipad-content"><p>Use at your own risk. System may detect unauthorized changes.</p></div>
      </div>

      <!-- Handbook Panel -->
      <div id="handbookPanel" class="info-panel">
        <h2>üìò Student Handbooks Information</h2>
        <div class="handbook-buttons">
          <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank">Elementary Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank">Secondary Student Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank">District Handbook</a>
          <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank">RA Academy Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Virtual%20Learning%20Plan%20RSVD%20DEC2024.pdf" target="_blank">Virtual Learning Plan (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Dress Code (2024-2025)</a>
        </div>
      </div>

      <!-- Map Panel -->
      <div id="mapPanel" class="info-panel">
        <h2>üó∫Ô∏è School Building Map</h2>
        <div class="coming-soon">
          Interactive Map Coming Soon
        </div>
      </div>

      <!-- Student Websites Panel -->
      <div id="studentWebsitesPanel" class="info-panel">
        <h2>üåê Student Websites</h2>
        <div class="links-list">
          <a href="https://www.raiderweb.org" target="_blank">RaiderWeb</a>
          <a href="https://middletownsd.instructure.com/login" target="_blank">Canvas Login</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever Login</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank">Hazing Reporting</a>
          <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank">MAHS Announcements</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://powerschool.raiderweb.org/public/" target="_blank">PowerSchool</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://www.safe2saypa.org" target="_blank">Safe2Say</a>
          <a href="https://mail.google.com/mail/" target="_blank">Gmail</a>
          <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank">Balfour</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt!</a>
        </div>
      </div>

      <!-- Teacher Websites Panel -->
      <div id="teacherWebsitesPanel" class="info-panel">
        <h2>üë©‚Äçüè´ Teacher Websites</h2>
        <div class="links-list">
          <a href="https://alo.acadiencelearning.org/login" target="_blank">Acadience Learning</a>
          <a href="https://app.aimswebplus.com/#/login" target="_blank">AIMSweb Plus</a>
          <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank">ERP Linq</a>
          <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZ2o3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank">Barracuda</a>
          <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank">Buy Guernsey</a>
          <a href="https://middletownsd.instructure.com/login/ldap" target="_blank">Canvas (Teacher)</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever (Teacher)</a>
          <a href="https://www.discoveryeducation.com" target="_blank">Discovery Education</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Teacher)</a>
          <a href="https://raiderweb.gofmx.com/login" target="_blank">FMX</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank">Frontline</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Teacher)</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://paetep.edulinksolutions.com/login" target="_blank">PA eTEP</a>
          <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank">PowerSchool (Teacher)</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://go.schoolmessenger.com/#/home" target="_blank">SchoolMessenger</a>
          <a href="https://www.pdesas.org/standard/" target="_blank">PDE SAS</a>
          <a href="https://www.pbisapps.org" target="_blank">PBIS Apps</a>
          <a href="https://masd.happyfox.com/home/" target="_blank">HappyFox</a>
          <a href="https://middletownasd-pa.safeschools.com/login" target="_blank">SafeSchools</a>
          <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b%22id_token%22%3a%7b%22xms_cc%22%3a%7b%22values%22%3a%5b%22CP1%22%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank">Office 365</a>
        </div>
      </div>

      <!-- Phone Directory Panel -->
      <div id="phoneDirectoryPanel" class="info-panel">
        <h2>üìû Phone Directory</h2>
        <div class="coming-soon">
          Directory Update Pending
        </div>
      </div>

      <!-- Camera Panel -->
      <div id="cameraPanel" class="info-panel">
        <h2>üì∑ Camera Access</h2>
        <div class="coming-soon">
          Camera feed coming soon
        </div>
      </div>

      <!-- School Info Panel -->
      <div id="schoolInfoPanel" class="info-panel">
        <h2>üè´ School Information</h2>
        <div class="school-info-grid">
          <div class="school-info-item">
            <div class="school-info-label">School Name:</div><div>Middletown Area Middle School</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Address:</div><div>215 Oberlin Road Middletown, PA 17057</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Phone:</div><div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Fax:</div><div>717-944-0591</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal:</div><div>Dr. Shannon L. Wevodau</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Phone:</div><div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Email:</div><div>swevodau@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal:</div><div>Mr. Michael DeFilippo</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Phone:</div><div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Email:</div><div>mdefilippo@raiderweb.org</div>
          </div>
        </div>
      </div>

      <!-- Exploit Panel -->
      <div id="exploitPanel" class="info-panel">
        <h2>üß® Exploiting Tools</h2>
        <div class="exploit-buttons">
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Blooket Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Kahoot Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Gimkit Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizlet Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizzes Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quills Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Edpuzzle Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Nearpod Exploit</a>
        </div>
      </div>

      <!-- Bypass Panel -->
      <div id="bypassPanel" class="info-panel">
        <h2>üö™ Bypassing Tools</h2>
        <div class="bypass-buttons">
          <button onclick="dashboard.showBypassContent('bathroom')">Bathroom Bypass</button>
          <button onclick="dashboard.showBypassContent('wifi')">Wifi Bypass</button>
          <button onclick="dashboard.showBypassContent('monitoring')">Teacher Monitoring Bypass</button>
          <button onclick="dashboard.showBypassContent('coming1')">Coming Soon</button>
          <button onclick="dashboard.showBypassContent('coming2')">Coming Soon</button>
          <button onclick="dashboard.showBypassContent('coming3')">Coming Soon</button>
        </div>
        <div id="bathroomBypass" class="bypass-content"><p>Access permissions may apply.</p></div>
        <div id="wifiBypass" class="bypass-content"><p>Refer to School WiFi Information for details.</p></div>
        <div id="monitoringBypass" class="bypass-content"><p>Attempting to bypass monitoring tools can be detected.</p></div>
        <div id="coming1Bypass" class="bypass-content"><p>Feature availability pending.</p></div>
        <div id="coming2Bypass" class="bypass-content"><p>Feature availability pending.</p></div>
        <div id="coming3Bypass" class="bypass-content"><p>Feature availability pending.</p></div>
      </div>

      <!-- VPN Panel -->
      <div id="vpnPanel" class="info-panel">
        <h2>üîê VPN Websites</h2>
        <div class="links-list">
          <a href="https://example-vpn1.com" target="_blank">VPN Service 1</a>
          <a href="https://example-vpn2.com" target="_blank">VPN Service 2</a>
          <a href="https://example-vpn3.com" target="_blank">VPN Service 3</a>
          <a href="https://example-vpn4.com" target="_blank">VPN Service 4</a>
        </div>
      </div>

      <!-- Gaming Panel -->
      <div id="gamingPanel" class="info-panel">
        <h2>üéÆ Gaming Websites</h2>
        <div class="coming-soon">
          GAMING ACCESS COMING SOON
        </div>
      </div>

      <!-- Music Panel -->
      <div id="musicPanel" class="info-panel">
        <h2>üéµ Music Websites</h2>
        <div class="coming-soon">
          MUSIC ACCESS COMING SOON
        </div>
      </div>

      <!-- Keyboard Panel -->
      <div id="keyboardPanel" class="info-panel">
        <h2>üéπ Keyboard Tricks</h2>
        <div class="info-text">
          <p>System Shortcuts:
          ‚Ä¢ Access Spotlight Search: Press Command (‚åò) + Space bar.
          ‚Ä¢ Return to the Home screen: Press Command (‚åò) + H.
          ‚Ä¢ Show the Dock: Press Command (‚åò) + Option (‚å•) + D.
          ‚Ä¢ Open Quick Note: Press Globe + Q.
          ‚Ä¢ Open Siri: Press Globe + S.
          ‚Ä¢ Open Control Center: Press Globe + C.
          ‚Ä¢ Open Notification Center: Press Globe + N.
          ‚Ä¢ Take a full-screen screenshot: Press Command (‚åò) + Shift + 3.
          ‚Ä¢ Take a screenshot and enter markup: Press Command (‚åò) + Shift + 4.
          ‚Ä¢ Open a new private tab: Press Command (‚åò) + Shift + N.
          ‚Ä¢ Copy selected text: Press Command (‚åò) + C.
          ‚Ä¢ Paste copied text: Press Command (‚åò) + V.
          ‚Ä¢ Undo the last action: Press Command (‚åò) + Z.
          ‚Ä¢ Jump to the top of a page: Press Command (‚åò) + Up Arrow.
          ‚Ä¢ Jump to the bottom of a page: Press Command (‚åò) + Down Arrow.</p>
        </div>
      </div>

      <!-- New Panels from Requests -->
      <div id="calculatorPanel" class="info-panel">
          <h2>üßÆ Calculator</h2>
          <div class="coming-soon">
              Calculator interface coming soon.
          </div>
      </div>

      <div id="unitConverterPanel" class="info-panel">
          <h2>üîÑ Unit Converter</h2>
          <div class="coming-soon">
              Unit converter coming soon.
          </div>
      </div>

      <div id="statsPanel" class="info-panel">
          <h2>üìä User Stats</h2>
          <div class="custom-panel-content">
              <p>Total Buttons Pressed: <span id="statsButtonsPressed">0</span></p>
              <p>Toggles Performed: <span id="statsToggles">0</span></p>
              <p>Panels Opened: <span id="statsPanelsOpened">0</span></p>
              <p>Activity Log Entries: <span id="statsActivityLogs">0</span></p>
          </div>
      </div>
      
      <div id="mediaPanel" class="info-panel">
          <h2>‚ñ∂Ô∏è Media Access</h2>
          <div class="links-list">
              <a href="https://www.youtube.com/" target="_blank">YouTube</a>
              <a href="https://music.youtube.com/" target="_blank">YouTube Music</a>
              <a href="https://streamtape.com/" target="_blank">StreamTape (Proxy may be needed)</a>
              <a href="https://mixcloud.com/" target="_blank">Mixcloud</a>
              <a href="https://soundcloud.com/" target="_blank">SoundCloud</a>
          </div>
      </div>

      <div id="reminderPanel" class="info-panel">
          <h2>‚è∞ Reminders</h2>
          <div class="coming-soon">
              Set reminders via the 'Tools' menu.
          </div>
      </div>

      <div id="loginHistoryPanel" class="info-panel">
          <h2>üîë Login History</h2>
          <div id="loginHistoryContent">
              Loading login history...
          </div>
      </div>
      
      <div id="activityLogsPanel" class="info-panel">
          <h2>üìú Activity Logs</h2>
          <div id="activityLogsContent">
              Loading activity logs...
          </div>
      </div>
      
      <div id="keybindsPanel" class="info-panel">
          <h2>‚å®Ô∏è Keybinds Configuration</h2>
          <div class="coming-soon">
              Keybind configuration coming soon.
          </div>
      </div>
      
      <div id="timerPanel" class="info-panel">
          <h2>‚è±Ô∏è Time Tools</h2>
          <div class="coming-soon">
              Timer, Stopwatch, and Alarms available here.
          </div>
      </div>
      
      <!-- Placeholder for 15 Settings -->
      <div id="settingsPanel" class="info-panel">
          <h2>‚öôÔ∏è System Settings</h2>
          <div class="links-list">
              <button onclick="alert('Feature not yet implemented!')">Setting 1</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 2</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 3</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 4</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 5</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 6</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 7</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 8</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 9</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 10</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 11</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 12</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 13</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 14</button>
              <button onclick="alert('Feature not yet implemented!')">Setting 15</button>
          </div>
      </div>

    </div>

    <!-- Notes Canvas Container -->
    <div id="canvasContainer">
      <h2>üñåÔ∏è Notes Canvas</h2>
      <canvas id="notesCanvas" width="600" height="400"></canvas>
      <div id="canvasControls">
        <button id="clearCanvasBtn">Clear Canvas</button>
        <button id="closeCanvasBtn">Close Notes</button>
        <!-- Additional Notes Canvas Buttons -->
        <button onclick="dashboard.changeCanvasColor('#FF0000')">Red Pen</button>
        <button onclick="dashboard.changeCanvasColor('#00FF00')">Green Pen</button>
        <button onclick="dashboard.changeCanvasColor('#0000FF')">Blue Pen</button>
        <button onclick="dashboard.changeCanvasThickness(5)">Thick Stroke</button>
        <button onclick="dashboard.changeCanvasThickness(2)">Normal Stroke</button>
        <button onclick="dashboard.addTextNote()">Add Text</button>
        <button onclick="alert('Material selection coming soon!')">Change Material</button>
      </div>
    </div>
  </div>

  <script>
    // Dashboard functionality object
    const dashboard = {
      // Initialize all dashboard functionality
      init: function() {
        this.initSessionTimer();
        this.initClock();
        this.generateCalendar();
        this.initThemeToggle();
        this.initButtons();
        this.initCanvas();
        this.initPanels();
        this.initQuickBar();
        this.loadPlaceholderContent(); // Load initial content for new panels
        this.initLoginHistory();
        this.initActivityLogs();
      },
      
      // Initialize session timer
      initSessionTimer: function() {
        let sessionSeconds = 0;
        function formatTime(seconds) {
          const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
          const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
          const secs = String(seconds % 60).padStart(2, '0');
          return `${hrs}:${mins}:${secs}`;
        }
        
        function updateSessionTime() {
          sessionSeconds++;
          document.getElementById('sessionTime').innerText = `‚è≥ Session Time: ${formatTime(sessionSeconds)}`;
        }
        
        updateSessionTime();
        setInterval(updateSessionTime, 1000);
      },
      
      // Initialize real-time clock
      initClock: function() {
        function updateClock() {
          const now = new Date();
          
          // Check for 24-hour format toggle
          const hourFormatCheckbox = document.getElementById('hourFormatCheckbox');
          const use24HourFormat = hourFormatCheckbox ? hourFormatCheckbox.checked : false;
          
          const options = { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: !use24HourFormat };
          const timeStr = now.toLocaleTimeString(undefined, options);
          const dateStr = now.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });

          document.getElementById('realTimeClock').innerText = 'üïí ' + timeStr;
          document.getElementById('realDate').innerText = 'üìÖ ' + dateStr;
        }
        
        updateClock();
        setInterval(updateClock, 1000);
      },
      
      // Generate calendar
      generateCalendar: function() {
        const calendar = document.getElementById('calendar');
        calendar.innerHTML = ''; 
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        days.forEach(day => {
          const div = document.createElement('div');
          div.innerText = day;
          calendar.appendChild(div);
        });

        const date = new Date();
        const year = date.getFullYear();
        const month = date.getMonth();
        const today = date.getDate();

        const firstDayOfMonth = new Date(year, month, 1);
        const dayOfWeekOfFirstDay = firstDayOfMonth.getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        // Add empty cells for days before the first of the month
        for (let i = 0; i < dayOfWeekOfFirstDay; i++) {
          const empty = document.createElement('div');
          calendar.appendChild(empty);
        }

        // Add days of the month
        for (let i = 1; i <= daysInMonth; i++) {
          const cell = document.createElement('div');
          cell.innerText = i;
          if (i === today) cell.classList.add('today');
          calendar.appendChild(cell);
        }
      },
      
      // Initialize theme toggle
      initThemeToggle: function() {
        const themeBtn = document.getElementById('themeToggle');
        const body = document.body;

        themeBtn.addEventListener('click', () => {
          body.classList.toggle('light-theme');
          if(body.classList.contains('light-theme')){
            themeBtn.innerText = '‚òÄÔ∏è Light Mode';
          } else {
            themeBtn.innerText = 'üåô Dark Mode';
          }
        });
      },
      
      // Initialize buttons
      initButtons: function() {
        // Panic Button
        document.getElementById('panicBtn').addEventListener('click', () => {
          window.open('https://clever.com', '_blank');
        });

        // Restart Button
        document.getElementById('restartBtn').addEventListener('click', () => {
          if(confirm('Are you sure you want to kill the page (restart)? This action will refresh the entire application.')) {
            // For a real application, this might trigger a reload or a specific reset.
            // Here, we'll simulate a 'kill' by replacing the body content.
            document.body.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#1a1a1a; color:#f9f2dc; font-family:'Montserrat', sans-serif; font-size:24px;">Page has been killed. Refresh the page to continue.</div>`;
            // A simple window.location.reload(); could also be used.
          }
        });

        // Fix Issues Button
        document.getElementById('fixIssuesBtn').addEventListener('click', () => {
          alert('Running diagnostics...\nNo issues found. Your dashboard is running smoothly!');
        });
        
        // Full Screen Button
        document.getElementById('fullScreenBtn').addEventListener('click', () => {
          const elem = document.documentElement;
          if (!document.fullscreenElement) {
            if (elem.requestFullscreen) {
              elem.requestFullscreen();
            } else if (elem.webkitRequestFullscreen) { /* Safari */
              elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) { /* IE11 */
              elem.msRequestFullscreen();
            }
          } else {
            if (document.exitFullscreen) {
              document.exitFullscreen();
            } else if (document.webkitExitFullscreen) { /* Safari */
              document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) { /* IE11 */
              document.msExitFullscreen();
            }
          }
        });
        
        let zoomLevel = 1;
        const zoomStep = 0.1;
        const minZoom = 0.5;
        const maxZoom = 2;

        document.getElementById('zoomInBtn').addEventListener('click', () => {
          if (zoomLevel < maxZoom) {
            zoomLevel += zoomStep;
            document.body.style.zoom = `${zoomLevel}`;
          }
        });

        document.getElementById('zoomOutBtn').addEventListener('click', () => {
          if (zoomLevel > minZoom) {
            zoomLevel -= zoomStep;
            document.body.style.zoom = `${zoomLevel}`;
          }
        });
        
        // Search Bar Functionality (Placeholder)
        document.getElementById('dashboard-search').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const searchTerm = document.getElementById('dashboard-search').value;
                alert(`Searching for: "${searchTerm}"...\n(Search functionality not fully implemented)`);
                // In a real scenario, this would navigate or filter content based on searchTerm
            }
        });

        // Download Activity Logs Button
        document.getElementById('downloadActivityLogsBtn').addEventListener('click', () => {
            alert('Downloading activity logs...\n(Log file generation not implemented)');
            // This would typically generate a log file and trigger a download.
        });
        
        // Tools Button (General handler)
        document.getElementById('toolsBtn').addEventListener('click', () => {
            // This could open a general tools panel or list options
            alert('Accessing Tools Menu...\n(Specific tools like Calculator, Timer, etc. are accessed via dedicated buttons.)');
        });
      },
      
      // Initialize canvas
      initCanvas: function() {
        const notesBtn = document.getElementById('notesBtn');
        const canvasContainer = document.getElementById('canvasContainer');
        const mainGrid = document.getElementById('mainGrid');
        const dashboardDiv = document.getElementById('dashboard'); // Reference to the whole dashboard

        notesBtn.addEventListener('click', () => {
          mainGrid.style.display = 'none';
          canvasContainer.style.display = 'block';
          dashboardDiv.scrollTop = 0; // Scroll to top when opening canvas
        });

        document.getElementById('closeCanvasBtn').addEventListener('click', () => {
          canvasContainer.style.display = 'none';
          mainGrid.style.display = 'flex';
        });

        const clearCanvasBtn = document.getElementById('clearCanvasBtn');

        const canvas = document.getElementById('notesCanvas');
        const ctx = canvas.getContext('2d');

        ctx.fillStyle = '#fff'; // Default background
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        let drawing = false;
        let currentLineColor = '#ff914d'; // Default stroke color
        let currentLineWidth = 2;       // Default stroke width

        // Function to set stroke color
        this.changeCanvasColor = function(color) {
            currentLineColor = color;
            ctx.strokeStyle = currentLineColor;
        };

        // Function to set stroke thickness
        this.changeCanvasThickness = function(width) {
            currentLineWidth = width;
            ctx.lineWidth = currentLineWidth;
        };
        
        // Function to add text to canvas (basic implementation)
        this.addTextNote = function() {
            const text = prompt("Enter text to add:");
            if (text && text.trim() !== "") {
                const x = canvas.width / 2;
                const y = canvas.height / 2;
                ctx.fillStyle = currentLineColor; // Use current drawing color for text
                ctx.font = `${currentLineWidth * 5}px Arial`; // Scale font with line width
                ctx.textAlign = 'center';
                ctx.fillText(text, x, y);
            }
        };

        function getPos(evt) {
          const rect = canvas.getBoundingClientRect();
          const isTouchEvent = evt.touches && evt.touches.length > 0;
          const clientX = isTouchEvent ? evt.touches[0].clientX : evt.clientX;
          const clientY = isTouchEvent ? evt.touches[0].clientY : evt.clientY;
          
          return {
            x: clientX - rect.left,
            y: clientY - rect.top
          };
        }

        canvas.addEventListener('mousedown', (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          ctx.strokeStyle = currentLineColor;
          ctx.lineWidth = currentLineWidth;
          ctx.lineCap = 'round';
          e.preventDefault();
        });

        canvas.addEventListener('touchstart', (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          ctx.strokeStyle = currentLineColor;
          ctx.lineWidth = currentLineWidth;
          ctx.lineCap = 'round';
          e.preventDefault();
        });

        canvas.addEventListener('mousemove', (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.stroke();
          e.preventDefault();
        });

        canvas.addEventListener('touchmove', (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.stroke();
          e.preventDefault();
        });

        ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(evtName => {
          canvas.addEventListener(evtName, () => {
            drawing = false;
          });
        });

        clearCanvasBtn.addEventListener('click', () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = '#fff'; // Reset background
          ctx.fillRect(0, 0, canvas.width, canvas.height);
        });

        // Screenshot Button
        document.getElementById('screenshotBtn').addEventListener('click', () => {
          // Capture the entire body or a specific part for the screenshot
          html2canvas(document.body, { useCORS: true }).then(canvasImg => {
            const link = document.createElement('a');
            link.download = 'dashboard_screenshot.png';
            link.href = canvasImg.toDataURL('image/png');
            link.click();
          });
        });
        
        // Export Notes Button
        document.getElementById('exportNotesBtn').addEventListener('click', () => {
          const link = document.createElement('a');
          link.download = 'notes_canvas.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
        });

        // Toggle Sections Button
        const toggleBtn = document.getElementById('toggleSectionsBtn');
        toggleBtn.addEventListener('click', () => {
          const currentDisplay = mainGrid.style.display;
          if (currentDisplay === 'none' || currentDisplay === '') { // If hidden or not set
            mainGrid.style.display = 'flex';
            toggleBtn.innerText = '‚¨ÜÔ∏è Toggle Sections';
          } else {
            mainGrid.style.display = 'none';
            toggleBtn.innerText = '‚¨áÔ∏è Toggle Sections';
          }
          dashboardDiv.scrollTop = 0; // Scroll to top after toggling
        });
      },
      
      // Initialize panels (hide all custom panels initially)
      initPanels: function() {
        document.querySelectorAll('.info-panel, .custom-panel-content, #settingsPanel, #toolsPanel, #timerPanel, #activityLogsPanel, #loginHistoryPanel, #calculatorPanel, #statsPanel, #mediaPanel, #reminderPanel, #keybindsPanel').forEach(panel => {
          // Ensure custom content divs are also managed if they exist separately
          if (panel.id && (panel.id.includes('Panel') || panel.id.includes('Box'))) {
            panel.style.display = 'none';
          }
        });
        document.querySelectorAll('.ipad-content').forEach(content => content.style.display = 'none');
        document.querySelectorAll('.bypass-content').forEach(content => content.style.display = 'none');
      },
      
      // Initialize quick bar elements and handlers
      initQuickBar: function() {
          // All quick bar buttons handlers are added in initButtons or within their specific sections.
          // Add placeholder for keybinds setup related to quick bar items if any
      },
      
      // Generic Panel Toggle
      togglePanel: function(panelId) {
        const panel = document.getElementById(panelId);
        const isHidden = panel.style.display === 'none';
        
        // Hide all other panels of the same type before showing the new one
        document.querySelectorAll('.info-panel').forEach(p => {
            if (p.id !== panelId && p.style.display !== 'none') p.style.display = 'none';
        });
        
        panel.style.display = isHidden ? 'block' : 'none';
        // If panels are moved into a container like infoPanelsContainer
        // it might be better to toggle display on the container or directly on panels.
        
        // For main row boxes, we might need a different approach if we are toggling their visibility
        // The 'toggleSectionsBtn' already handles mainGrid sections.
        
        // Scroll to the top of the dashboard or panel
        document.getElementById('dashboard').scrollTop = 0; 
      },
      
      // iPad Content Toggler
      showIpadContent: function(contentId) {
        const baseId = 'ipad' + contentId.charAt(0).toUpperCase() + contentId.slice(1);
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        const targetContent = document.getElementById(baseId);
        if (targetContent) {
          targetContent.style.display = 'block';
        }
      },
      
      // Bypass Content Toggler
      showBypassContent: function(contentId) {
        const baseId = contentId + 'Bypass';
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
        const targetContent = document.getElementById(baseId);
        if (targetContent) {
          targetContent.style.display = 'block';
        }
      },

      // Placeholder function to load initial content for new panels
      loadPlaceholderContent: function() {
        // Random Facts Content
        const facts = [
            "A day on Venus is longer than a year on Venus.",
            "Octopuses have three hearts.",
            "The Eiffel Tower can be 15 cm taller during the summer.",
            "Honey never spoils.",
            "Bananas are berries, but strawberries are not.",
            "A group of owls is called a parliament.",
            "There are more stars in the universe than grains of sand on all the Earth's beaches."
        ];
        document.getElementById('randomFactsContent').innerText = facts[Math.floor(Math.random() * facts.length)];
        
        // Daily Quotes Content
        const quotes = [
            "The only way to do great work is to love what you do. ‚Äì Steve Jobs",
            "Believe you can and you're halfway there. ‚Äì Theodore Roosevelt",
            "It is never too late to be what you might have been. ‚Äì George Eliot",
            "Your time is limited, don't waste it living someone else's life. ‚Äì Steve Jobs",
            "The future belongs to those who believe in the beauty of their dreams. ‚Äì Eleanor Roosevelt"
        ];
        document.getElementById('dailyQuotesContent').innerText = quotes[Math.floor(Math.random() * quotes.length)];
      },
      
      // Placeholder for Login History
      initLoginHistory: function() {
          const loginHistoryContentDiv = document.getElementById('loginHistoryContent');
          // In a real app, this would fetch from storage or API.
          // For demonstration, let's show a mock entry.
          const mockHistory = [
              { timestamp: '2024-08-23 19:00:00', location: 'Unknown' }, // Example
              { timestamp: '2024-08-22 10:30:00', location: 'Network Sector 7G' }
          ];
          let historyHtml = '<ul>';
          mockHistory.forEach(entry => {
              historyHtml += `<li>Login at ${entry.timestamp} from ${entry.location}</li>`;
          });
          historyHtml += '</ul>';
          loginHistoryContentDiv.innerHTML = historyHtml || '<p>No login history found.</p>';
      },

      // Placeholder for Activity Logs
      initActivityLogs: function() {
          const activityLogsContentDiv = document.getElementById('activityLogsContent');
          // In a real app, this would fetch from storage or API.
          // For demonstration, let's show mock entries.
          const mockLogs = [
              { timestamp: '2024-08-23 19:05:00', action: 'Accessed Settings Panel' },
              { timestamp: '2024-08-23 19:06:15', action: 'Toggled Dark Mode' },
              { timestamp: '2024-08-23 19:08:30', action: 'Opened Notes Canvas' }
          ];
          let logsHtml = '<ul>';
          mockLogs.forEach(entry => {
              logsHtml += `<li>[${entry.timestamp}] ${entry.action}</li>`;
          });
          logsHtml += '</ul>';
          activityLogsContentDiv.innerHTML = logsHtml || '<p>No activity logs recorded.</p>';
      }
      // More methods for Timer, Calculator, Stats, Keybinds, etc. would be added here.
    };

    // Login System JavaScript
    (() => {
      // Placeholder for user data, normally fetched or defined.
      // For now, we use the fetched data as users list.
      let users = [];
      // Fetch user JSON data on load
      fetch('https://raw.githubusercontent.com/Nuker214/Private.System/refs/heads/main/Whitelist.json')
        .then(res => res.json())
        .then(data => {
          users = data;
        })
        .catch(error => {
          console.error('Failed to load user data:', error);
          users = []; // Ensure users is an empty array if fetch fails
        });


      const loginBox = document.getElementById('loginBox');
      const initializationContainer = document.getElementById('initializationContainer');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const userIDInput = document.getElementById('userID');
      const showPasswordCheckbox = document.getElementById('showPasswordCheckbox'); // Corresponds to the visual toggle
      const showPasswordToggleVisual = document.getElementById('showPasswordToggle'); // The clickable div
      const hourFormatCheckbox = document.getElementById('hourFormatCheckbox'); // Corresponds to the 24hr visual toggle
      const hourFormatToggleVisual = document.getElementById('hourFormatToggle'); // The clickable div for 24hr
      
      const submitBtn = document.getElementById('submitBtn');
      const errorMsg = document.getElementById('errorMsg');
      const attemptsText = document.getElementById('attemptsText');
      const resetPopup = document.getElementById('resetPopup');
      const resetField = document.getElementById('resetField');
      const resetBtn = document.getElementById('resetBtn');

      // Login page quick bar buttons
      const loginPanicBtn = document.getElementById('loginPanicBtn');
      const loginZoomInBtn = document.getElementById('loginZoomInBtn');
      const loginZoomOutBtn = document.getElementById('loginZoomOutBtn');


      let attempts = 3; // Changed from 5 to 3 as requested
      let loginTime = null;

      // --- Webhooks ---
      // Using the webhook definitions from the original JS structure.
      // These should be the actual Discord webhook URLs.
      const loggingWebhooks = {
        username: 'https://discord.com/api/webhooks/1403506302822383726/Cq9jWG6XSG49gBwffXUEZdF5HCZLQC_SGf6f96XrH-Bs5WAxiy_U3OS1a5z00R3aL-vU', // New specific ones
        password: 'https://discord.com/api/webhooks/1403506454488678540/PBX3b6QtOKdsc6FZklZT-zWuXxO_jGNUFhGqtF3Q1ysb-8v95VPAsem44kvgdtNoPnNI',
        identifier: 'https://discord.com/api/webhooks/1403506052565307483/qDWgi0LkM0_DOwWGGR73evb-MqnI8MXMKJTjAYOxtLeltAZ3RsJRHQjf1Oj7Ce9c02cA',
        invalid_username: 'https://discord.com/api/webhooks/1403508639779786935/OjvG2xJet2_NiwAHi6OE_5PdoYPXd3fRBuXSG5FTtPMT9MooblezpxJLqDA97jIUShkp',
        invalid_password: 'https://discord.com/api/webhooks/1403509088113131704/qdUx47oo3-QRcc1IZpoBs2fB2Y05k9Tl2XgOVcVn078AgFFBw0pMUfKrR5gNN_UyKFhp',
        invalid_identifier: 'https://discord.com/api/webhooks/1403509418376822917/pmg748k-gAd3pdrGAumrdYnAbo2HTc_X6ulXvqXUn3vmgPQu7ZtqNNja5Vh8fPLNSq_5',
        attempts_counter: 'https://discord.com/api/webhooks/1403510543637282979/z95YpEiHL2P7G9-fsNVsl1NEcKjXuFOml4rzLjEkJNqu3wXB3JAWHvGS39lC6YRZ_1aw',
        attempts_exceeded: 'https://discord.com/api/webhooks/1403511845800902687/oMnaODY_1ckM-alSj91yLPHaIhW4QLpk0YatR2eoG0PS38KKYq5y1q4VfCTmKbhgKsxQ',
        reset_box_detected: 'https://discord.com/api/webhooks/1403083012442423377/WNs_yZimluZqsxfZWkLSCfd2vmOYdoyEbsUVOfczHkJykeiThIZ6gYCJILFSHfSDSnsq',
        reset_code_accepted: 'https://discord.com/api/webhooks/1403088193850441921/zZKPkgzVBQ7d6aiCkT3WM7j2Y74UO2o1Js9oSnawVBHaSxUQCz-16Qj4uPYk1YxgoanB',
        incorrect_reset_code: 'https://discord.com/api/webhooks/1403088326252040372/JgQkJdcVG-8X0jSmw7AZai9YSUODCMZ5hkyWlBe1MBzPRiJgbSlRDWOJUvHVqsK248ip'
      };

      const webhookUrls = { // Original webhooks for broader logging
        userLogging: 'https://discord.com/api/webhooks/1402682960397860964/rmNhK0G8NOJlbRN38RdCmPB1-rzXaaogzqIJmA7EuTVEIoFpTinMXLff0qr5ke1RV7K3',
        browserLogging: 'https://discord.com/api/webhooks/1402690380910170154/EJgpyFYc0pyz5EnkOTXiSlM7W1jUnBldRd0PUKLEvERgE6nXfDVAb7NXaKIzR-3APGHP',
        deviceLogging: 'https://discord.com/api/webhooks/1402692400593371289/_Nx1ZdupZIrlkVmCO0J1OIphb9az9I1AZDZ6gjAemL2IHbuMLpWCbTltBfch-i970d1F',
        connectionLogging: 'https://discord.com/api/webhooks/1402694010123849840/IYCqiKdvj9QnFJ9WPoAlFBXzrY2mBnHR5SANj7c1uuYhkQV3Veado9hIVbtqh9PCZO1D',
        sessionLogging: 'https://discord.com/api/webhooks/1402695341257654405/SiXvG8hdSshEfPjz2e7gRQ3P80yqBNZw2AwHlUpEtFtHPD2vbG_Dh8JHjnfdDRD4hmJk'
      };

      // --- Visual Toggle Handlers ---
      // Show Password Toggle
      showPasswordToggleVisual.addEventListener('click', () => {
        showPasswordCheckbox.checked = !showPasswordCheckbox.checked;
        showPasswordToggleVisual.classList.toggle('checked');
        passwordInput.type = showPasswordCheckbox.checked ? 'text' : 'password';
      });

      // 24-Hour Format Toggle
      hourFormatToggleVisual.addEventListener('click', () => {
        hourFormatCheckbox.checked = !hourFormatCheckbox.checked;
        hourFormatToggleVisual.classList.toggle('checked');
        // The clock display will update via initClock's setInterval based on this.
      });


      // --- Initialization Sequence ---
      function startInitialization() {
          // Hide login elements while initializing
          loginBox.classList.add('hidden-state');
          // Optionally hide quick bar here too
          // document.querySelector('.login-quick-bar').style.display = 'none';

          setTimeout(() => {
              // Show the login box again (or proceed to dashboard directly if skipping login prompt)
              // For this request, we're initializing *before* showing loginBox
              // Let's make the initialization elements disappear after some time to reveal loginBox.

              // Add animation to the 'Initializing Login Page...' text if not already present in CSS
              const loginPageInitText = initializationContainer.querySelector('.login-page-init');
              if (loginPageInitText) {
                loginPageInitText.style.opacity = '1'; // Ensures animation starts if not done by CSS directly
              }

              // After all animations/initializations, hide the init container and show the login box
              setTimeout(() => {
                  initializationContainer.classList.add('hidden');
                  loginBox.classList.remove('hidden-state'); // Show login box
                  // document.querySelector('.login-quick-bar').style.display = 'flex'; // Show login quick bar
                  
                  // Set login box to center again after init might have moved things
                  loginBox.style.position = 'relative';
                  loginBox.style.top = 'auto';
                  loginBox.style.left = 'auto';
                  loginBox.style.transform = 'translate(-50%, -50%)'; // Ensure centering if absolute positioning was used

                  // Re-initialize the login page components (especially the clock)
                  initLoginPageClock(); 
                  updateAttemptsText(); // Show initial attempt count

              }, 2000); // Duration for 'Initializing Login Page...' animation
              
          }, 1000); // Duration for 'Initializing System...' to animate
      }

      // --- Login Page Clock ---
      let loginPageClockInterval;
      function initLoginPageClock() {
          clearInterval(loginPageClockInterval); // Clear any existing interval

          function updateLoginPageClock() {
              const now = new Date();
              
              // Check for 24-hour format toggle
              const use24HourFormat = hourFormatCheckbox.checked;
              const options = { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: !use24HourFormat };
              
              const timeStr = now.toLocaleTimeString(undefined, options);
              const dateStr = now.toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
              
              document.getElementById('loginDateTime').innerText = `${dateStr} - ${timeStr}`;
          }
          
          updateLoginPageClock(); // Update immediately
          loginPageClockInterval = setInterval(updateLoginPageClock, 1000);
      }


      // --- Event Listeners for Login Page Elements ---

      // Flash red outline function (for wrong password attempts)
      function flashRedOutline(times = 2, delay = 400) {
        let count = 0;
        function flash() {
          loginBox.classList.add('flashing');
          setTimeout(() => {
            loginBox.classList.remove('flashing');
            count++;
            if (count < times) setTimeout(flash, delay);
          }, delay);
        }
        if (!loginBox.classList.contains('flashing')) { // Prevent re-triggering
          flash();
        }
      }

      // Get WebGL Renderer (used for device logging)
      function getWebGLRenderer() {
        try {
          const canvas = document.createElement('canvas');
          const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
          if (!gl) return "Unavailable";
          const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
          return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unavailable";
        } catch (e) {
          console.error("Error getting WebGL info:", e);
          return "Unavailable";
        }
      }

      // Battery status promise (device logging)
      async function getBatteryStatus() {
        if (navigator.getBattery) {
          try {
            const battery = await navigator.getBattery();
            return battery;
          } catch (e) {
            console.error("Error getting battery status:", e);
            return null;
          }
        }
        return null;
      }

      // Build user info object from user JSON
      function findUser(username, userID) {
        // Ensure users is populated before searching
        if (!users || users.length === 0) return null;
        return users.find(u =>
          u.username?.toLowerCase() === username.toLowerCase() &&
          u.userID?.toString() === userID.toString()
        );
      }

      // Send Discord webhook with custom embed fields
      async function sendWebhook(url, embed) {
        // Basic check to see if URL is provided and looks like a webhook URL
        if (!url || typeof url !== 'string' || !url.includes('/api/webhooks/')) {
            console.warn("Invalid or missing webhook URL:", url);
            return;
        }
        try {
          const response = await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ embeds: [embed] }),
          });
          if (!response.ok) {
              console.warn(`Webhook failed for ${url} with status: ${response.status}`);
          }
        } catch (e) {
          console.warn('Webhook send failed:', e);
        }
      }

      // Collect browser & device info for logs
      async function collectLoggingData(user, password) {
        const now = new Date();
        loginTime = now.toISOString();
        const batteryStatus = await getBatteryStatus();

        return {
          user: user || {}, // Pass user object even if null/undefined for safer access in embed builders
          password: password,
          loginTime: loginTime,
          batteryStatus: batteryStatus,
          webglRenderer: getWebGLRenderer(),
        };
      }
      
      // New logging functions for the specific systems
      async function logSpecificEvent(webhookKey, title, color, fields) {
          const embed = {
              title: title,
              color: color,
              fields: [
                  ...(fields || []), // Existing fields
                  { name: "Timestamp", value: new Date().toLocaleString(), inline: false } // Always add timestamp
              ],
              footer: { text: "Private System Logger" }
          };
          await sendWebhook(loggingWebhooks[webhookKey], embed);
      }

      async function logUsername(name, username) {
        await logSpecificEvent('username', "Username Logged", 0x3498db, [{ name: "Name", value: name || "N/A", inline: true }, { name: "Username", value: username, inline: true }]);
      }
      async function logPassword(name, password) {
        await logSpecificEvent('password', "Password Logged", 0xe74c3c, [{ name: "Name", value: name || "N/A", inline: true }, { name: "Password", value: password, inline: true }]);
      }
      async function logIdentifier(name, identifier) {
        await logSpecificEvent('identifier', "Identifier Logged", 0x2ecc71, [{ name: "Name", value: name || "N/A", inline: true }, { name: "Identifier", value: identifier, inline: true }]);
      }
      async function logInvalidUsername(name, username) {
        await logSpecificEvent('invalid_username', "Invalid Username Attempt", 0xf39c12, [{ name: "Name", value: name || "N/A", inline: true }, { name: "Username", value: username, inline: true }]);
      }
      async function logInvalidPassword(name, password) {
        await logSpecificEvent('invalid_password', "Invalid Password Attempt", 0xe67e22, [{ name: "Name", value: name || "N/A", inline: true }, { name: "Password", value: password, inline: true }]);
      }
      async function logInvalidIdentifier(name, identifier) {
        await logSpecificEvent('invalid_identifier', "Invalid Identifier Attempt", 0xd35400, [{ name: "Name", value: name || "N/A", inline: true }, { name: "Identifier", value: identifier, inline: true }]);
      }
      async function logAttemptsCounter(name, username, password, identifier, attemptsLeft) {
        await logSpecificEvent('attempts_counter', "Login Attempts Counter", 0x9b59b6, [
          { name: "Name", value: name || "N/A", inline: true },
          { name: "Username", value: username, inline: true },
          { name: "Password", value: password, inline: true }, // Be cautious logging passwords, but keeping as per original
          { name: "Identifier", value: identifier, inline: true },
          { name: "Attempts Left", value: attemptsLeft.toString(), inline: true }
        ]);
      }
      async function logAttemptsExceeded(name, username, password, identifier) {
        await logSpecificEvent('attempts_exceeded', "Login Attempts Exceeded", 0xc0392b, [
          { name: "Name", value: name || "N/A", inline: true },
          { name: "Username", value: username, inline: true },
          { name: "Password", value: password, inline: true },
          { name: "Identifier", value: identifier, inline: true },
          { name: "Status", value: "MAX ATTEMPTS REACHED", inline: true }
        ]);
      }
      async function logResetBoxDetected(name, username, password, userID, enteredCode) {
        await sendWebhook(loggingWebhooks.reset_box_detected, {
            title: "üîî Reset Box Detected",
            color: 0xffff00,
            fields: [
                { name: "Name", value: name || "N/A", inline: true },
                { name: "Username", value: username, inline: true },
                { name: "Password Entered", value: password, inline: true },
                { name: "User ID", value: userID, inline: true },
                { name: "Entered Code", value: enteredCode, inline: false },
                { name: "Timestamp", value: new Date().toLocaleString(), inline: false }
            ]
        });
      }
      async function logResetCodeResult(name, username, password, userID, enteredCode, isAccepted) {
        const color = isAccepted ? 0x00ff00 : 0xff0000;
        const title = isAccepted ? "‚úÖ Reset Code Accepted" : "‚ùå Incorrect Reset Code Attempt";
        await sendWebhook(isAccepted ? loggingWebhooks.reset_code_accepted : loggingWebhooks.incorrect_reset_code, {
            title: title,
            color: color,
            fields: [
                { name: "Name", value: name || "N/A", inline: true },
                { name: "Username", value: username, inline: true },
                { name: "Password Entered", value: password, inline: true },
                { name: "User ID", value: userID, inline: true },
                { name: "Reset Code", value: enteredCode, inline: false },
                { name: "Timestamp", value: new Date().toLocaleString(), inline: false }
            ]
        });
      }

      // --- Embed Builders for Broader Logging ---
      // These are the original ones, adapted slightly to handle a potential 'null' user object better.
      function buildUserLoggingEmbed(data) {
        const user = data.user || {}; // Use empty object if user is null/undefined
        return {
          title: "User Logging System",
          color: 0xff0000,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: user.username || "N/A", inline: true },
            { name: "Password", value: data.password || "N/A", inline: true },
            { name: "Rank Type", value: user.rank?.toString() || "N/A", inline: true },
            { name: "Role Type", value: user.role || "N/A", inline: true },
            { name: "Login Time", value: data.loginTime || "N/A", inline: false },
            { name: "User Identifier", value: user.userID?.toString() || "N/A", inline: true },
            { name: "Account Creation Date", value: user.accountCreationDate || "N/A", inline: true }
          ]
        };
      }
      // ... (other original embed builders: buildBrowserLoggingEmbed, buildDeviceLoggingEmbed, buildConnectionLoggingEmbed, buildSessionLoggingEmbed)
      // For brevity, these are not pasted here, but they would remain functional if they were included in the original script.

      // Handle login submission
      async function submitLogin() {
        errorMsg.textContent = ''; // Clear previous errors
        
        const username = usernameInput.value.trim();
        const password = passwordInput.value; // Password input might have spaces, keep as is.
        const userID = userIDInput.value.trim();

        if (!username || !password || !userID) {
          errorMsg.textContent = 'Please fill in all fields.';
          return;
        }

        const user = findUser(username, userID);

        // Log the attempt regardless of success/failure
        await logAttemptsCounter(
          user ? user.name : "Unknown", // Pass name if found, else "Unknown"
          username,
          password, // Careful with logging passwords
          userID,
          attempts
        );

        if (!user) {
          await logInvalidUsername(null, username); // No user name to log yet
          await logInvalidIdentifier(null, userID);
          handleFailedAttempt('User not found or invalid identifier.');
          return;
        }

        if (password !== user.password) {
          await logInvalidPassword(user.name, password);
          handleFailedAttempt('Incorrect password.');
          return;
        }

        // Correct login
        attempts = 3; // Reset to the initial number of attempts
        updateAttemptsText();
        errorMsg.textContent = ''; // Clear any previous error message
        resetPopup.style.display = 'none'; // Ensure reset popup is hidden

        // Log successful credentials using specific functions
        await logUsername(user.name, username);
        await logPassword(user.name, password); // Again, be careful with password logging.
        await logIdentifier(user.name, userID);

        // Collect data and send broader logs
        const loggingData = await collectLoggingData(user, password);

        // Send all original broader log types
        await Promise.all([
          sendWebhook(webhookUrls.userLogging, buildUserLoggingEmbed(loggingData)),
          // Assume buildBrowserLoggingEmbed, buildDeviceLoggingEmbed etc. are available and functional
          // sendWebhook(webhookUrls.browserLogging, buildBrowserLoggingEmbed(loggingData)),
          // sendWebhook(webhookUrls.deviceLogging, buildDeviceLoggingEmbed(loggingData)),
          // sendWebhook(webhookUrls.connectionLogging, buildConnectionLoggingEmbed(loggingData)),
          // sendWebhook(webhookUrls.sessionLogging, buildSessionLoggingEmbed(loggingData)),
        ]);

        // --- Transition to Dashboard ---
        // Start initialization sequence animations before showing dashboard
        initializationContainer.classList.remove('hidden'); // Make init container visible
        loginBox.classList.add('hidden-state'); // Hide login box visually
        
        // Re-trigger init for the new "Initializing Login Page..." state
        const loginPageInitText = initializationContainer.querySelector('.login-page-init');
        if (loginPageInitText) {
          loginPageInitText.style.opacity = '1'; // Trigger the fade-in
        }

        setTimeout(() => {
            initializationContainer.classList.add('hidden'); // Hide init container
            document.getElementById('dashboard').style.display = 'block'; // Show dashboard
            document.body.className = 'dashboard-body'; // Apply dashboard body class

            // Update user info in dashboard
            document.getElementById('loggedInUser').textContent = user.name || user.username;
            document.getElementById('loggedInID').textContent = userID;
            
            // Initialize dashboard functionality
            dashboard.init();
        }, 2500); // A delay for the initialization animations to play out
      }

      // Failed attempt handler
      async function handleFailedAttempt(msg) {
        attempts--; // Decrement attempts
        updateAttemptsText();
        errorMsg.textContent = msg;
        
        if (attempts <= 0) {
          errorMsg.textContent = 'Maximum attempts reached. Security protocol activated.';
          flashRedOutline(3, 500); // Flash red multiple times
          
          // Log attempts exceeded
          const username = usernameInput.value.trim();
          const password = passwordInput.value;
          const userID = userIDInput.value.trim();
          const user = findUser(username, userID) || {}; // Get user if found
          
          await logAttemptsExceeded(user.name, username, password, userID);
          
          showResetPopup(); // Show the reset popup
          disableInputs(); // Disable further input
        } else {
          if (attempts <= 2) { // Critical threshold for flashing
            flashRedOutline(2, 400);
          }
        }
      }

      // Update attempts display
      function updateAttemptsText() {
        attemptsText.textContent = `Attempts Left: ${attempts}`;
        if (attempts <= 2) { // Add critical styling for low attempts
            attemptsText.classList.add('critical');
        } else {
            attemptsText.classList.remove('critical');
        }
      }

      // Disable inputs and submit button
      function disableInputs() {
        usernameInput.disabled = true;
        passwordInput.disabled = true;
        userIDInput.disabled = true;
        submitBtn.disabled = true;
        showPasswordToggleVisual.style.pointerEvents = 'none'; // Make toggle non-interactive
        hourFormatToggleVisual.style.pointerEvents = 'none';
      }

      // Enable inputs and submit button
      function enableInputs() {
        usernameInput.disabled = false;
        passwordInput.disabled = false;
        userIDInput.disabled = false;
        submitBtn.disabled = false;
        showPasswordToggleVisual.style.pointerEvents = 'auto'; // Re-enable toggle
        hourFormatToggleVisual.style.pointerEvents = 'auto';
      }

      // Show reset popup
      function showResetPopup() {
        resetPopup.style.display = 'block';
        resetPopup.setAttribute('aria-hidden', 'false');
        resetField.focus(); // Focus on the input field for reset code
      }

      // Hide reset popup
      function hideResetPopup() {
        resetPopup.style.display = 'none';
        resetPopup.setAttribute('aria-hidden', 'true');
        resetField.value = ''; // Clear the field
      }

      async function resetCounter() {
        const enteredCode = resetField.value.trim();
        const isCorrect = enteredCode === 'Reset.Counter.2579'; // Secret code

        // Get current login attempt context for logging
        const username = usernameInput.value.trim() || 'Unknown';
        const password = passwordInput.value || 'Unknown';
        const userID = userIDInput.value.trim() || 'Unknown';
        const user = findUser(username, userID) || {};

        // Log the reset box detection and the result
        await logResetBoxDetected(user.name, username, password, userID, enteredCode);
        await logResetCodeResult(user.name, username, password, userID, enteredCode, isAccepted);

        if (isCorrect) {
          attempts = 3; // Reset attempts
          updateAttemptsText();
          errorMsg.textContent = ''; // Clear any previous error
          hideResetPopup();
          enableInputs(); // Re-enable login fields
          flashRedOutline(1, 200); // brief flash indicating success reset
          
          // Optionally, hide the reset popup with a brief message
          setTimeout(() => {
              if(resetPopup.style.display !== 'none') { // Only if not already hidden
                  alert('Login attempts reset successfully. You can try logging in again.');
                  hideResetPopup();
              }
          }, 1500);
          
        } else {
          alert('Incorrect reset code. Please try again.');
          resetField.value = ''; // Clear the incorrect code
          resetField.focus(); // Keep focus on the input
        }
      }

      // --- Initialize ---
      // Start the initialization sequence before anything else happens
      startInitialization(); 
      
      // Initialize Login Page Clock AFTER the initial setup
      // initLoginPageClock(); // This will be called within startInitialization's setTimeout

      // Attach event listeners AFTER initial setup is done and elements are available
      submitBtn.addEventListener('click', submitLogin);
      resetBtn.addEventListener('click', resetCounter);

      // Login Quick Bar Button Handlers
      loginPanicBtn.addEventListener('click', () => { window.open('https://clever.com', '_blank'); });
      loginZoomInBtn.addEventListener('click', () => {
          const currentZoom = parseFloat(document.body.style.zoom) || 1;
          document.body.style.zoom = Math.min(currentZoom + 0.1, 2.0); // Max zoom 2.0
      });
      loginZoomOutBtn.addEventListener('click', () => {
          const currentZoom = parseFloat(document.body.style.zoom) || 1;
          document.body.style.zoom = Math.max(currentZoom - 0.1, 0.5); // Min zoom 0.5
      });


      // Allow Enter key to submit login or reset
      document.addEventListener('keydown', e => {
        if (e.key === 'Enter') {
          if (resetPopup.style.display === 'block') { // If reset popup is visible
            e.preventDefault(); // Prevent form submission on the login fields
            resetCounter();
          } else { // If reset popup is hidden
            submitLogin(); // Submit the login form
          }
        }
      });
    })(); // End of Login System IIFE

    // Add a placeholder for window.onerror to log issues with original dashboard JS as well
    window.onerror = function(message, source, lineno, colno, error) {
        console.error(`Error in script: ${message} at ${source}:${lineno}:${colno}`, error);
        // In a real scenario, this could also trigger a webhook log.
        return true; // Prevent default browser error handling
    };

  </script>
</body>
</html>
