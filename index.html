<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Private System</title>
  <style>
    /* Global Styles */
    * {
      box-sizing: border-box;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
        margin: 0;
        padding: 0;
        background-color: var(--main-bg, #0d0d0d); /* Use CSS variable for main background */
        color: var(--main-text-color, #e0e0e0); /* Use CSS variable for main text color */
        transition: background-color 0.4s, color 0.4s;
        font-size: 16px;
        line-height: 1.6;
        overflow-x: hidden;
    }

    body.light-theme {
        --main-bg: #f0f0f0;
        --main-text-color: #333;
        --box-bg-light: #fcfcfc;
        --item-bg-alt-light: #eee;
        --panel-bg-light: #fcfcfc;
        --heading-color-light: #994d00;
        --box-shadow-accent-light: rgba(255, 145, 77, 0.6);
        --accent-color: var(--accent-color-light, #994d00); /* Use lighter accent color for light theme if defined */
    }

    :root {
        --accent-color: #ff914d;
        --accent-color-light: #994d00; /* Define a lighter version for the light theme specifically for custom components */
        --main-bg: #0d0d0d;
        --main-text-color: #e0e0e0;
        --box-bg-dark: #2a2a2a;
        --item-bg-alt-dark: #3b3b3b;
        --panel-bg-dark: #2a2a2a;
        --heading-color-dark: #ffbf80;

        /* Dynamically set these based on custom color picker or default accent */
        --header-start-color: #ff914d;
        --header-end-color: #ffcc80;
    }

    /* NEW: Loading Screen Styles */
    .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #000;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        transition: opacity 0.5s ease-out;
        opacity: 1;
    }

    .loading-cube {
        width: 60px;
        height: 60px;
        position: relative;
        transform-style: preserve-3d;
        animation: rotate-cube 4s infinite linear;
    }

    .cube-face {
        position: absolute;
        width: 60px;
        height: 60px;
        border: 2px solid var(--accent-color);
        background: rgba(255, 145, 77, 0.1);
        box-shadow: 0 0 15px var(--accent-color);
    }

    .front  { transform: rotateY(0deg) translateZ(30px); }
    .back   { transform: rotateY(180deg) translateZ(30px); }
    .right  { transform: rotateY(90deg) translateZ(30px); }
    .left   { transform: rotateY(-90deg) translateZ(30px); }
    .top    { transform: rotateX(90deg) translateZ(30px); }
    .bottom { transform: rotateX(-90deg) translateZ(30px); }

    @keyframes rotate-cube {
        from { transform: rotateX(0deg) rotateY(0deg); }
        to   { transform: rotateX(360deg) rotateY(360deg); }
    }

    .loading-text {
        margin-top: 30px;
        font-family: 'Courier New', monospace;
        font-size: 1.5em;
        color: var(--accent-color);
        text-shadow: 0 0 8px var(--accent-color);
    }
     .loading-text.success {
        color: #28a745; /* Green for success */
        text-shadow: 0 0 8px #28a745;
     }

    .loading-screen.fade-out {
        opacity: 0;
        visibility: hidden;
    }

    /* Login System Styles */
    body.login-body {
        background: var(--main-bg, #0d0d0d);
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    .login-box {
        background: var(--box-bg-dark, #1a1a1a);
        border-radius: 15px; /* Less rounded for more square feel */
        border: 2px solid var(--accent-color);
        box-shadow: 0 0 25px rgba(255, 145, 77, 0.5);
        width: 400px; /* Adjust width to be more square-like with padding */
        padding: 40px;
        text-align: center;
        position: relative;
        transition: border-color 0.4s, box-shadow 0.4s, transform 0.3s ease-in-out;
    }

    .login-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 25px var(--accent-color-hover-shadow, rgba(255, 145, 77, 0.8));
    }

    .login-box.flashing {
        animation: flashRed 0.4s ease-in-out 2;
    }

    @keyframes flashRed {
        0%, 100% { border-color: #ff4c4c; box-shadow: 0 0 18px #ff4c4c; }
        50% { border-color: var(--accent-color); box-shadow: 0 0 10px rgba(255, 145, 77, 0.6); }
    }

    .login-box h2 {
        font-size: 1.8em;
        margin-bottom: 25px;
        font-family: 'Courier New', monospace;
        color: var(--heading-color-dark, #ffcc80);
        letter-spacing: 1px;
    }

    .login-box input {
        width: 100%;
        padding: 14px;
        margin-bottom: 18px;
        background: #2b2b2b;
        border: 1px solid #444;
        color: #fff;
        border-radius: 10px;
        font-size: 1.05em;
        transition: border-color 0.3s, box-shadow 0.3s;
    }

    .login-box input:focus {
        border-color: var(--accent-color);
        box-shadow: 0 0 8px var(--accent-color-hover-shadow, rgba(255, 145, 77, 0.8));
        outline: none;
    }
    
    /* NEW: Show Password Toggle Style */
    .show-password-container {
        display: flex;
        align-items: center;
        justify-content: flex-start; /* Align to the left */
        margin-bottom: 20px;
        cursor: pointer;
    }
    .show-password-container span {
        font-size: 0.95em;
        color: #cccccc;
        margin-left: 12px;
    }
    .show-password-container input[type="checkbox"] {
        appearance: none;
        width: 40px; /* Wider for switch look */
        height: 20px; /* Taller for switch look */
        background-color: #555;
        border-radius: 10px; /* Half of height for pill shape */
        position: relative;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .show-password-container input[type="checkbox"]::before {
        content: '';
        position: absolute;
        left: 2px;
        top: 2px;
        width: 16px; /* Slightly smaller than height to allow spacing */
        height: 16px;
        background-color: white;
        border-radius: 50%;
        transition: transform 0.3s;
    }
    .show-password-container input[type="checkbox"]:checked {
        background-color: var(--accent-color);
    }
    .show-password-container input[type="checkbox"]:checked::before {
        transform: translateX(20px); /* Move 20px (40-20-2px_padding = 18px actual travel) */
    }

    /* All login and action buttons are orange */
    .login-box button,
    .action-button {
        width: 100%;
        padding: 14px;
        background-color: var(--accent-color) !important;
        color: black !important;
        font-size: 1.1em;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease-in-out, transform 0.2s;
        font-weight: bold;
        letter-spacing: 0.5px;
        box-shadow: 0 5px 15px rgba(255, 145, 77, 0.3) !important; /* Unified shadow for orange */
    }

    .login-box button:hover,
    .action-button:hover {
        background-color: var(--accent-color-light-hover, #ffb67a) !important;
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(255, 145, 77, 0.5) !important;
    }

    .attempt-counter, .error-message {
        margin-top: 15px;
        font-size: 0.9em;
        color: #ff4c4c;
        min-height: 20px;
    }

    .popup { /* Keeping minimal style, but it's removed in HTML per instructions */
        display: none;
    }

    /* Dashboard Styles */
    body.dashboard-body {
        font-family: 'Montserrat', sans-serif;
        background-color: var(--main-bg, #1a1a1a);
        color: var(--main-text-color, #e0e0e0);
        padding: 20px;
        transition: background-color 0.3s, color 0.3s;
        zoom: 1;
    }
    
    body.dashboard-body.light-theme {
        background-color: var(--main-bg);
        color: var(--main-text-color);
    }

    .sticky-top-container {
      position: sticky;
      top: 20px;
      z-index: 10;
    }

    .dashboard-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: linear-gradient(90deg, var(--header-start-color), var(--header-end-color));
        padding: 18px 30px;
        color: #2a2a2a;
        box-shadow: 0 5px 20px var(--accent-color-hover-shadow, rgba(255, 145, 77, 0.4));
        border-radius: 15px 15px 0 0;
        animation: slideInFromTop 0.8s ease-out;
        margin-bottom: 0;
    }

    @keyframes slideInFromTop {
        0% { transform: translateY(-100px); opacity: 0; }
        100% { transform: translateY(0); opacity: 1; }
    }

    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .dashboard-header h1 { font-size: 28px; font-family: 'Orbitron', sans-serif; color: #000; text-shadow: 1px 1px 2px rgba(255,255,255,0.3); }
    .user-info { font-weight: bold; font-size: 1.05em; color: #333; }
    .version-box { background: #ffd966; padding: 10px 18px; border-radius: 10px; color: #000; font-weight: bold; box-shadow: 0 2px 10px rgba(0,0,0,0.2); }

    .quickbar-container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
        padding: 10px 20px;
        background: var(--box-bg-dark);
        border-radius: 0 0 15px 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        margin-bottom: 25px;
        transition: background-color 0.3s;
    }

    body.dashboard-body.light-theme .quickbar-container {
        background: #fdfdfd;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .quickbar-container button {
      padding: 10px 18px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 0.9em;
      min-width: 100px;
      white-space: nowrap;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    /* NEW: Grid for buttons that aren't in the quickbar */
    .button-grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 20px;
      margin-top: 20px;
      animation: fadeInUp 0.5s 0.2s ease-out backwards; /* Animation added */
    }
    .button-grid-container .box {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: center;
      padding: 15px; /* Slightly less padding for boxes with only one button */
    }
     .button-grid-container .box button,
     .button-grid-container .box a {
        width: 100%; /* Make button fill its box */
        padding: 14px;
        border-radius: 10px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1em;
        text-decoration: none;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
     }


    .main-row {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        animation: fadeInUp 0.5s 0.6s ease-out backwards; /* Animation added */
    }

    .box {
        background-color: var(--box-bg-dark);
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 0 18px var(--box-shadow-accent-dark, rgba(255, 145, 77, 0.35));
        min-height: 130px;
        transition: all 0.3s ease-in-out;
        flex: 1 1 320px;
        position: relative;
        overflow: hidden;
    }

    .box:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 22px var(--box-shadow-accent-dark-hover, rgba(255, 145, 77, 0.5));
    }

    body.dashboard-body.light-theme .box {
        background-color: var(--box-bg-light);
        color: var(--main-text-color);
        box-shadow: 0 0 18px var(--box-shadow-accent-light);
    }

    .box h2 {
        font-size: 20px;
        margin-top: 0;
        margin-bottom: 12px;
        color: var(--heading-color-dark);
        border-bottom: 2px solid rgba(255, 145, 77, 0.5);
        padding-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    body.dashboard-body.light-theme .box h2 {
        color: var(--heading-color-light);
        border-bottom-color: rgba(153, 77, 0, 0.4);
    }

    /* NEW: Alert Box System */
    .alert-box-container {
      position: fixed;
      top: 100px; /* Adjust to be below the sticky header */
      right: 20px;
      width: 320px;
      z-index: 1000;
      animation: fadeInPanel 0.4s ease-out; /* Add animation */
    }

    .alert-box {
      background-color: var(--box-bg-dark);
      color: var(--main-text-color);
      border: 1px solid var(--accent-color);
      border-radius: 10px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
    }

    .alert-box-header {
      font-weight: bold;
      padding: 10px 15px;
      border-bottom: 1px solid #444;
      display: flex;
      align-items: center;
      color: var(--accent-color); /* Match alert header to accent */
    }
    .alert-box-header span {
      margin-left: 8px;
    }
    
    .alert-log-area {
      max-height: 250px;
      overflow-y: auto;
      padding: 5px 15px;
      font-size: 0.85em;
    }
    
    .alert-log-entry {
      padding: 8px 0;
      border-bottom: 1px dashed #333;
      opacity: 0;
      transform: translateX(20px);
      animation: slideInAlert 0.4s forwards;
    }
    .alert-log-entry:last-child {
      border-bottom: none;
    }
    .alert-log-entry .timestamp {
      font-size: 0.9em;
      color: #999;
      display: block;
    }

    @keyframes slideInAlert {
      to { opacity: 1; transform: translateX(0); }
    }


    /* -- Other styles from original file, adapted or kept -- */
    .calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; margin-top: 15px; text-align: center; font-size: 13px; }
    .calendar div { padding: 7px; background: #3f3f3f; border-radius: 5px; transition: background 0.2s ease, transform 0.1s ease; }
    .calendar div:hover:not(.today) { transform: translateY(-2px); background: #5a5a5a; }
    .today { background: var(--accent-color) !important; font-weight: bold; color: black; box-shadow: 0 0 10px var(--accent-color-hover-shadow, rgba(255, 145, 77, 0.7)); }

    .info-panel { display: none; background-color: var(--panel-bg-dark); padding: 30px; border-radius: 15px; margin-top: 25px; box-shadow: 0 0 20px var(--box-shadow-accent-dark, rgba(255, 145, 77, 0.4)); animation: fadeInPanel 0.4s ease-out; }
    .info-panel h2 { color: var(--accent-color); margin-bottom: 20px; font-size: 22px; border-bottom: 2px solid rgba(255, 145, 77, 0.6); padding-bottom: 10px; display: flex; align-items: center; gap: 10px; }
    @keyframes fadeInPanel { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    /* WiFi Color Coding */
    .wifi-high { color: #4CAF50 !important; font-weight: bold !important; text-shadow: 0 0 5px rgba(76, 175, 80, 0.7); }
    .wifi-medium { color: #ffeb3b !important; font-weight: bold !important; text-shadow: 0 0 5px rgba(255, 235, 59, 0.7); }
    .wifi-low { color: #f44336 !important; font-weight: bold !important; text-shadow: 0 0 5px rgba(244, 67, 54, 0.7); }

    .wifi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 12px; margin-bottom: 15px; }
    .wifi-grid div:first-child { font-weight: bold; color: var(--heading-color-dark, #ffcc80); }
    .wifi-grid div { padding: 10px; background: #3f3f3f; border-radius: 7px; text-align: center; font-weight: normal; box-shadow: inset 0 0 5px rgba(0,0,0,0.2); }
    .wifi-entry { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 12px; margin-bottom: 10px; align-items: center; }
    .wifi-entry div { padding: 10px; background: #4a2b20; border-radius: 7px; text-align: center; font-size: 0.95em; }

    /* For other static link lists/button grids that need specific style */
    .links-list, .handbook-buttons, .exploit-buttons, .bypass-buttons {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 12px;
        margin-top: 18px;
    }
    .links-list a, .handbook-buttons a, .exploit-buttons a, .bypass-buttons button {
        background-color: var(--accent-color);
        color: black;
        transition: all 0.3s ease;
        text-shadow: none; /* remove potential white text shadow */
        box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    }
    .links-list a:hover, .handbook-buttons a:hover, .exploit-buttons a:hover, .bypass-buttons button:hover {
        background-color: var(--accent-color-light-hover);
        transform: translateY(-3px);
        box-shadow: 0 5px 12px var(--accent-color-hover-shadow);
    }

    .ipad-options { display: flex; gap: 12px; margin-top: 18px; }
    .ipad-options button { flex: 1; }
    .ipad-content, .bypass-content { display: none; background: #3c251d; padding: 20px; border-radius: 10px; margin-top: 18px; color: #ffccb3; }

    /* Reminders Specific Styling */
    .reminder-form { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; align-items: flex-end; }
    .reminder-form input, .reminder-form button { padding: 10px; border-radius: 8px; border: 1px solid #444; background-color: #3b3b3b; color: #e0e0e0; font-size: 1em; }
    .reminder-form input[type="text"] { flex: 1 1 180px; }
    .reminder-form input[type="date"], .reminder-form input[type="time"] { flex: 1 1 120px; }
    .reminder-list-container { max-height: 400px; overflow-y: auto; padding-right: 10px; }
    .reminder-item { padding: 12px 15px; margin-bottom: 8px; background: #4a2b20; border-radius: 8px; font-size: 0.95em; display: flex; justify-content: space-between; align-items: center; gap: 10px; }
    .reminder-item.completed { text-decoration: line-through; opacity: 0.7; background-color: #2b2b2b; }
    .reminder-item button { color: black !important; } /* ensures delete/complete button text is black */

    /* Stats Panel Styling */
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; }
    .stats-item { background: #3c251d; padding: 15px; border-radius: 8px; border-left: 3px solid var(--accent-color); }
    .stats-label { font-weight: bold; color: var(--heading-color-dark); margin-bottom: 5px; }
    .stats-value { font-family: 'Courier New', monospace; font-size: 1.1em; word-break: break-all; }
    
    /* Media Player aspect ratio */
    #youtubePlayer iframe {
        display: block; /* Remove extra space below iframe */
    }


    /* Icon Styling */
    .box h2::before, .info-panel h2::before, .quickbar-container button::before, .button-grid-container button::before { font-family: 'Segoe UI Symbol', sans-serif; margin-right: 8px; }
    #calendarTitle::before { content: 'üóìÔ∏è'; }
    #updatesNotificationsTitle::before { content: 'üîî'; }

    /* Icons for buttons - now explicitly applied only where needed if HTML changed */
    #sessionTime::before { content: '‚è≥'; }
    #realTimeClock::before { content: 'üïí'; }
    #realDate::before { content: 'üìÖ'; }
    #notesBtn::before { content: 'üìù'; }
    #exportNotesBtn::before { content: 'üíæ'; }
    #screenshotBtn::before { content: 'üì∏'; }
    #toggleSectionsBtn::before { content: '‚ÜîÔ∏è'; }
    #fixIssuesBtn::before { content: '‚öôÔ∏è'; }
    #fullScreenBtn::before { content: 'üíª'; }
    #zoomInBtn::before { content: '‚ûï'; }
    #zoomOutBtn::before { content: '‚ûñ'; }
    #restartBtn::before { content: 'üîÑ'; }
    #panicBtn::before { content: 'üö®'; }
    #themeToggle::before { content: 'üé®'; }
    #logoutBtn::before { content: 'üëã'; }
    #settingsBtn::before { content: 'üõ†Ô∏è'; }
    /* New/Re-added Icons */
    .button-grid-container button[onclick*='wifiPanel']::before { content: 'üì∂'; }
    .button-grid-container button[onclick*='ipadPanel']::before { content: 'üì±'; }
    .button-grid-container button[onclick*='handbookPanel']::before { content: 'üìö'; }
    .button-grid-container button[onclick*='mapPanel']::before { content: 'üó∫Ô∏è'; }
    .button-grid-container button[onclick*='studentWebsitesPanel']::before { content: 'üéì'; }
    .button-grid-container button[onclick*='teacherWebsitesPanel']::before { content: 'üçé'; }
    .button-grid-container button[onclick*='phoneDirectoryPanel']::before { content: '‚òéÔ∏è'; }
    .button-grid-container button[onclick*='cameraPanel']::before { content: 'üìπ'; }
    .button-grid-container button[onclick*='schoolInfoPanel']::before { content: 'üè¢'; }
    .button-grid-container button[onclick*='exploitPanel']::before { content: 'üí£'; }
    .button-grid-container button[onclick*='bypassPanel']::before { content: 'üîë'; }
    .button-grid-container button[onclick*='vpnPanel']::before { content: 'üõ°Ô∏è'; }
    .button-grid-container button[onclick*='gamingPanel']::before { content: 'üéÆ'; }
    .button-grid-container button[onclick*='musicPanel']::before { content: 'üéß'; }
    .button-grid-container button[onclick*='keyboardPanel']::before { content: '‚å®Ô∏è'; }
    .button-grid-container button[onclick*='reminderPanel']::before { content: '‚è∞'; }
    .button-grid-container button[onclick*='statsPanel']::before { content: 'üìà'; }
    .button-grid-container button[onclick*='mediaPanel']::before { content: 'üì∫'; }

    /* H2 Title Icons for Panels (explicit for kept panels) */
    .info-panel h2[id='wifiPanelTitle']::before { content: 'üì∂'; }
    .info-panel h2[id='ipadPanelTitle']::before { content: 'üì±'; }
    .info-panel h2[id='handbookPanelTitle']::before { content: 'üìö'; }
    .info-panel h2[id='mapPanelTitle']::before { content: 'üó∫Ô∏è'; }
    .info-panel h2[id='studentWebsitesPanelTitle']::before { content: 'üéì'; }
    .info-panel h2[id='teacherWebsitesPanelTitle']::before { content: 'üçé'; }
    .info-panel h2[id='phoneDirectoryPanelTitle']::before { content: '‚òéÔ∏è'; }
    .info-panel h2[id='cameraPanelTitle']::before { content: 'üìπ'; }
    .info-panel h2[id='schoolInfoPanelTitle']::before { content: 'üè¢'; }
    .info-panel h2[id='exploitPanelTitle']::before { content: 'üí£'; }
    .info-panel h2[id='bypassPanelTitle']::before { content: 'üîë'; }
    .info-panel h2[id='vpnPanelTitle']::before { content: 'üõ°Ô∏è'; }
    .info-panel h2[id='gamingPanelTitle']::before { content: 'üéÆ'; }
    .info-panel h2[id='musicPanelTitle']::before { content: 'üéß'; }
    .info-panel h2[id='keyboardPanelTitle']::before { content: '‚å®Ô∏è'; }
    .info-panel h2[id='reminderPanelTitle']::before { content: '‚è∞'; }
    .info-panel h2[id='statsPanelTitle']::before { content: 'üìà'; }
    .info-panel h2[id='mediaPanelTitle']::before { content: 'üì∫'; }
    .info-panel h2[id='settingsPanelTitle']::before { content: 'üõ†Ô∏è'; }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</head>
<body class="login-body" id="bodyElement">

    <!-- NEW: Loading Screen (replaces LoadingScreen1 and LoadingScreen2) -->
    <div id="loadingScreen" class="loading-screen">
      <div class="loading-cube">
        <div class="cube-face front"></div><div class="cube-face back"></div>
        <div class="cube-face right"></div><div class="cube-face left"></div>
        <div class="cube-face top"></div><div class="cube-face bottom"></div>
      </div>
      <span id="loadingText" class="loading-text">Initializing System...</span>
    </div>

    <!-- Login System -->
    <div class="login-box" id="loginBox" style="display: none;">
        <h2>ùôãùôßùôûùô´ùôñùô©ùôö ùôéùôÆùô®ùô©ùôöùô¢</h2>
        <input type="text" id="username" placeholder="Enter Username..." autocomplete="off" />
        <input type="password" id="password" placeholder="Enter Password..." autocomplete="off" />
        <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off" />

        <!-- NEW: Improved show password toggle -->
        <label for="showPassword" class="show-password-container">
            <input type="checkbox" id="showPassword" />
            <span>Show Password</span>
        </label>

        <button id="submitBtn">Submit</button>

        <div class="error-message" id="errorMsg"></div>
        <div class="attempt-counter" id="attemptsText">Attempts Left: 3</div>
    </div>

    <!-- Dashboard (hidden by default) -->
    <div id="dashboard" style="display: none;">
      <div class="sticky-top-container">
        <div class="dashboard-header" id="dashboardHeader">
            <div>
                <h1>Private Dashboard GUI</h1>
                <div class="user-info">User - <span id="loggedInUser"></span> | ID: <span id="loggedInID"></span></div>
            </div>
            <div class="version-box">Version 2.0.0</div>
        </div>

        <div class="quickbar-container">
            <button id="sessionTime">Session Time: 00:00:00</button>
            <button id="realTimeClock">--:--:--</button>
            <button id="realDate">--</button>
            <button id="notesBtn">Notes</button>
            <button id="exportNotesBtn">Export Notes</button>
            <button id="screenshotBtn">Screenshot</button>
            <button id="toggleSectionsBtn">Toggle Sections</button>
            <button id="fixIssuesBtn">Fix Issues</button>
            <button id="fullScreenBtn">Full Screen</button>
            <button id="zoomInBtn">Zoom In</button>
            <button id="zoomOutBtn">Zoom Out</button>
            <button id="restartBtn">Restart</button>
            <button id="panicBtn">Panic</button>
            <button id="themeToggle">Theme</button>
            <button id="logoutBtn">Log Out</button>
            <button id="settingsBtn">Settings</button>
        </div>
      </div>

       <!-- NEW: Alert Box System -->
      <div class="alert-box-container">
        <div class="alert-box">
          <div class="alert-box-header">üí°<span>Alert Information</span></div>
          <div class="alert-log-area" id="alertLogArea">
            <div class="alert-log-entry"><span class="timestamp">--:--:--</span>System Initialized. Ready for actions.</div>
          </div>
        </div>
      </div>

        <div class="main-row" id="mainGrid">
            <div class="box">
                <h2 id="calendarTitle">üóìÔ∏è Calendar</h2> <!-- Fixed emoji directly in HTML title here too -->
                <div class="calendar" id="calendar"></div>
            </div>

            <div class="box motivation-box" id="motivationBox">
                "Success is not final, failure is not fatal: It is the courage to continue that counts." ‚Äì Winston Churchill
            </div>
             <div class="box" id="updatesNotifications">
                <h2 id="updatesNotificationsTitle">üîî Updates & Notifications</h2>
                <p>Welcome to Private System v2.0! Enjoy the new features and cleaner layout.</p>
                <div class="update-entry">New Advanced Statistics Panel!</div>
                <div class="update-entry">Proxied Media Player for YouTube!</div>
                <div class="update-entry">Refreshed Login Screen!</div>
                <div class="update-entry">New top-right Alert System!</div>
            </div>
        </div>
      
        <!-- NEW: Button Grid Layout -->
        <div class="button-grid-container" id="panelButtonGrid">
          <div class="box"><button onclick="dashboard.togglePanel('wifiPanel')">üì∂ School WiFi Info</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('ipadPanel')">üì± School iPad Restrictions</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('handbookPanel')">üìö Student Handbooks</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('mapPanel')">üó∫Ô∏è School Map Info</button></div>

          <div class="box"><button onclick="dashboard.togglePanel('studentWebsitesPanel')">üéì Student Websites</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('teacherWebsitesPanel')">üçé Teacher Websites</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('phoneDirectoryPanel')">‚òéÔ∏è Phone Directory</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('cameraPanel')">üìπ School Camera Info</button></div>
          
          <div class="box"><button onclick="dashboard.togglePanel('schoolInfoPanel')">üè¢ School Information</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('exploitPanel')">üí£ Exploiting Tools</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('bypassPanel')">üîë Bypassing Tools</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('vpnPanel')">üõ°Ô∏è VPN Websites</button></div>
          
          <div class="box"><button onclick="dashboard.togglePanel('gamingPanel')">üéÆ Gaming Websites</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('musicPanel')">üéß Music Websites</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('keyboardPanel')">‚å®Ô∏è Keyboard Tricks</button></div>

          <!-- NEW / RE-ADDED Panels as buttons -->
          <div class="box"><button onclick="dashboard.togglePanel('reminderPanel')">‚è∞ Reminders</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('statsPanel')">üìà Usage Statistics</button></div>
          <div class="box"><button onclick="dashboard.togglePanel('mediaPanel')">üì∫ Media Player</button></div>
        </div>


        <!-- Information Panels Container -->
        <div id="infoPanelsContainer" style="margin-top: 20px;">

            <!-- ADDED BACK/NEW: Reminder Panel -->
            <div id="reminderPanel" class="info-panel">
                <h2 id="reminderPanelTitle">‚è∞ Reminders</h2>
                <div class="reminder-form">
                    <input type="text" id="reminderText" placeholder="Enter reminder text...">
                    <input type="date" id="reminderDate">
                    <input type="time" id="reminderTime">
                    <button id="addReminderBtn">Add Reminder</button>
                </div>
                <div class="reminder-list-container">
                    <ul id="remindersList"></ul>
                </div>
                <button id="clearAllRemindersBtn">Clear All Reminders</button>
            </div>
            
            <!-- ADDED BACK/NEW: Advanced Statistics Panel -->
            <div id="statsPanel" class="info-panel">
              <h2 id="statsPanelTitle">üìà Super Advanced Usage Statistics</h2>
              <div class="stats-grid">
                  <div class="stats-item"><div class="stats-label">Dashboard Uptime</div><span class="stats-value" id="statsUptime">0</span></div>
                  <div class="stats-item"><div class="stats-label">Total Button Clicks</div><span class="stats-value" id="statsClicks">0</span></div>
                  <div class="stats-item"><div class="stats-label">Panels Toggled</div><span class="stats-value" id="statsPanelsOpened">0</span></div>
                  <div class="stats-item"><div class="stats-label">Themes Toggled</div><span class="stats-value" id="statsThemeToggles">0</span></div>
                  <div class="stats-item"><div class="stats-label">Reminders Set</div><span class="stats-value" id="statsRemindersSet">0</span></div>
                  <div class="stats-item"><div class="stats-label">Canvas Saves</div><span class="stats-value" id="statsCanvasUsed">0</span></div>
                  <div class="stats-item"><div class="stats-label">Screenshots Taken</div><span class="stats-value" id="statsScreenshots">0</span></div>
                  <div class="stats-item"><div class="stats-label">Media Items Loaded</div><span class="stats-value" id="statsMediaLoaded">0</span></div>
                  <div class="stats-item"><div class="stats-label">Browser</div><span class="stats-value" id="statsBrowser">...</span></div>
                  <div class="stats-item"><div class="stats-label">Operating System</div><span class="stats-value" id="statsOS">...</span></div>
                  <div class="stats-item"><div class="stats-label">Screen Resolution</div><span class="stats-value" id="statsScreenRes">...</span></div>
                  <div class="stats-item"><div class="stats-label">Viewport Size</div><span class="stats-value" id="statsViewportSize">...</span></div>
                  <div class="stats-item"><div class="stats-label">Device Memory (GB)</div><span class="stats-value" id="statsMemory">...</span></div>
                  <div class="stats-item"><div class="stats-label">CPU Cores</div><span class="stats-value" id="statsCpus">...</span></div>
                  <div class="stats-item"><div class="stats-label">Online Status</div><span class="stats-value" id="statsOnline">...</span></div>
                  <div class="stats-item"><div class="stats-label">Current Zoom Level</div><span class="stats-value" id="statsZoom">100%</span></div>
              </div>
            </div>

            <!-- ADDED BACK/NEW: Media Player Panel with Proxy -->
            <div id="mediaPanel" class="info-panel">
                <h2 id="mediaPanelTitle">üì∫ Proxied Media Player</h2>
                <div class="info-text">
                    <p>Enter a YouTube video ID or full URL to watch through a private proxy:</p>
                    <input type="text" id="youtubeIdInput" placeholder="e.g., dQw4w9WgXcQ" style="width: 100%; padding: 8px; border-radius: 8px; border: 1px solid #555; background: #2b2b2b; color: #e0e0e0; margin-top: 5px; margin-bottom: 10px;">
                    <button id="loadYoutubeBtn">Load Video</button>
                    <div id="youtubePlayer" style="margin-top: 20px; width: 100%; aspect-ratio: 16 / 9; background: #000; display: flex; justify-content: center; align-items: center; color: #eee; font-style: italic; border-radius: 8px;">
                        Video player will load here...
                    </div>
                </div>
            </div>


            <!-- Other kept panels -->
            <div id="wifiPanel" class="info-panel">
                <h2 id="wifiPanelTitle">üì∂ School WiFi Information</h2>
                <div class="wifi-grid">
                    <div>Network Name</div>
                    <div>Wifi Level</div>
                    <div>Security Type</div>
                    <div>Encryption</div>
                    <div>Hidden?</div>
                    <div>Monitored?</div>
                    <div>Username</div>
                    <div>Password</div>
                </div>

                <div class="wifi-entry">
                    <div>Middletown_Core</div>
                    <div class="wifi-high">High</div>
                    <div>WPA3 Enterprise</div>
                    <div>High</div>
                    <div>No</div>
                    <div>Yes</div>
                    <div>Unknown</div>
                    <div>Unknown</div>
                </div>

                <div class="wifi-entry">
                    <div>Mtown_Core</div>
                    <div class="wifi-high">High</div>
                    <div>WPA3 Enterprise</div>
                    <div>High</div>
                    <div>Yes</div>
                    <div>Unknown</div>
                    <div>Unknown</div>
                    <div>Unknown</div>
                </div>

                <div class="wifi-entry">
                    <div>Mtown Guest</div>
                    <div class="wifi-medium">Medium</div>
                    <div>WPA3 Enterprise</div>
                    <div>Medium</div>
                    <div>No</div>
                    <div>Rare</div>
                    <div>msguest</div>
                    <div>M@ms2021#</div>
                </div>

                <div class="wifi-entry">
                    <div>Radius Test</div>
                    <div class="wifi-low">Low</div>
                    <div>WPA3 Enterprise</div>
                    <div>Low</div>
                    <div>No</div>
                    <div>Rarely</div>
                    <div>msguest</div>
                    <div>M@ms2021#</div>
                </div>
            </div>

            <div id="ipadPanel" class="info-panel">
                <h2 id="ipadPanelTitle">üì± School iPad Restrictions</h2>
                <div class="ipad-options">
                    <button onclick="dashboard.showIpadContent('restrictions')">Restrictions</button>
                    <button onclick="dashboard.showIpadContent('bypasses')">Bypasses</button>
                </div>
                <div id="ipadRestrictions" class="ipad-content"><p>Coming soon</p></div>
                <div id="ipadBypasses" class="ipad-content"><p>Coming soon</p></div>
            </div>

            <div id="handbookPanel" class="info-panel">
                <h2 id="handbookPanelTitle">üìö Student Handbooks Information</h2>
                <div class="handbook-buttons">
                    <a href="https://cdnsm5-ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Elementary%20Handbook.pdf" target="_blank">Elementary Handbook (Jan 2025)</a>
                    <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025A%20Secondary%20Student%20Handbook.pdf" target="_blank">Secondary Student Handbook (Jan 2025)</a>
                    <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/District%20Handbook%20copy.pdf" target="_blank">District Handbook</a>
                    <a href="https://middletown.ss19.sharpschool.com/UserFiles/Servers/Server_344046/File/For%20Parents/Handbooks/JAN2025B%20RA%20Academy%20Handbook%20copy.pdf" target="_blank">RA Academy Handbook (Jan 2025)</a>
                    <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Virtual Learning Plan (2024-2025)</a>
                    <a href="https://www.raiderweb.org/UserFiles/Servers/Server_344046/File/For%20Parents/2024-2025%20Dress%20Code.docx.pdf" target="_blank">Dress Code (2024-2025)</a>
                </div>
            </div>

            <div id="mapPanel" class="info-panel">
                <h2 id="mapPanelTitle">üó∫Ô∏è School Building Map Information</h2>
                <p>Building Map Display</p>
                <div class="coming-soon">Building Map Coming Soon</div>
            </div>

            <div id="studentWebsitesPanel" class="info-panel">
                <h2 id="studentWebsitesPanelTitle">üéì Student Website's Information</h2>
                <div class="links-list">
                    <a href="https://www.raiderweb.org" target="_blank">RaiderWeb</a>
                    <a href="https://middletownsd.instructure.com/login" target="_blank">Canvas Login</a>
                    <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
                    <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever Login</a>
                    <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge</a>
                    <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
                    <a href="https://www.raiderweb.org/student_services/hazing_reporting" target="_blank">Hazing Reporting</a>
                    <a href="https://www.youtube.com/user/MAHSAnnouncements?app=desktop" target="_blank">MAHS Announcements</a>
                    <a href="https://id.naviance.com" target="_blank">Naviance</a>
                    <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
                    <a href="https://powerschool.raiderweb.org/public/" target="_blank">PowerSchool</a>
                    <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
                    <a href="https://www.safe2saypa.org" target="_blank">Safe2Say</a>
                    <a href="https://mail.google.com/mail/" target="_blank">Gmail</a>
                    <a href="https://www.balfour.com/pennsylvania/middletown/middletown-area-high-school" target="_blank">Balfour</a>
                    <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt!</a>
                </div>
            </div>

            <div id="teacherWebsitesPanel" class="info-panel">
                <h2 id="teacherWebsitesPanelTitle">üçé Teacher Websites Information</h2>
                <div class="links-list">
                    <a href="https://alo.acadiencelearning.org/login" target="_blank">Acadience Learning</a>
                    <a href="https://app.aimswebplus.com/#/login" target="_blank">AIMSweb Plus</a>
                    <a href="https://ep1.erplinq.com/MIDDLETOWN/" target="_blank">ERP Linq</a>
                    <a href="https://sso.barracuda.com/u/login/identifier?state=hKFo2SBFYnNBRjVRYmczc2t0ZjlSNmwxel9GT25LZ2o3QzVDV6Fur3VuaXZlcnNhbC1sb2dpbqN0aWTZIDQ1U0hHOGVubzF0eE10WlhiSkRZRnNQSmJqY1dwcnFlo2NpZNkgQk1yY2JuRWdkS3BkSjZRWGVjN0hiRHdlTkpMUW1MSUk" target="_blank">Barracuda</a>
                    <a href="https://shop.buyguernsey.com/thmBootstrapHome.aspx" target="_blank">Buy Guernsey</a>
                    <a href="https://middletownsd.instructure.com/login/ldap" target="_blank">Canvas (Teacher)</a>
                    <a href="https://caresolace.com/site/middletownarea" target="_blank">Care Solace</a>
                    <a href="https://clever.com/oauth/authorize?channel=clever&client_id=4c63c1cf623dce82caac&confirmed=true&redirect_uri=https%3A%2F%2Fclever.com%2Fin%2Fauth_callback&response_type=code&state=27d11080794f14661a58c2ec9edba8d87e50eb0160eeb669cc1bea184ce72062&district_id=55b90d2693d0390100000379" target="_blank">Clever (Teacher)</a>
                    <a href="https://www.discoveryeducation.com" target="_blank">Discovery Education</a>
                    <a href="https://sso.rumba.pk12ls.com/sso/login?service=https://cat.easybridge.pk12ls.com/ca/dashboard.htm&idpmetadata=%20https://www.raiderweb.org" target="_blank">EasyBridge (Teacher)</a>
                    <a href="https://raiderweb.gofmx.com/login" target="_blank">FMX</a>
                    <a href="https://myhealthyzone.fitnessgram.net" target="_blank">FitnessGram</a>
                    <a href="https://login.frontlineeducation.com/login?signin=d0e98b785fd46dad06ce5509e61ef781&productId=ABSMGMT&clientId=ABSMGMT#/login" target="_blank">Frontline</a>
                    <a href="https://raiderweb.linkit.com/Account/LogOn?ReturnUrl=%2f#" target="_blank">LinkIt! (Teacher)</a>
                    <a href="https://id.naviance.com" target="_blank">Naviance</a>
                    <a href="https://raiderweb.follettdestiny.com/portal/portal?appId=destiny-SD5T-TB6F" target="_blank">Destiny Library</a>
                    <a href="https://paetep.edulinksolutions.com/login" target="_blank">PA eTEP</a>
                    <a href="https://powerschool.raiderweb.org/teachers/pw.html" target="_blank">PowerSchool (Teacher)</a>
                    <a href="https://idp-awsprod1.education.scholastic.com/idp/" target="_blank">Scholastic</a>
                    <a href="https://go.schoolmessenger.com/#/home" target="_blank">SchoolMessenger</a>
                    <a href="https://www.pdesas.org/standard/" target="_blank">PDE SAS</a>
                    <a href="https://www.pbisapps.org" target="_blank">PBIS Apps</a>
                    <a href="https://masd.happyfox.com/home/" target="_blank">HappyFox</a>
                    <a href="https://middletownasd-pa.safeschools.com/login" target="_blank">SafeSchools</a>
                    <a href="https://login.microsoftonline.com/common/oauth2/authorize?client_id=00000002-0000-0ff1-ce00-000000000000&redirect_uri=https%3a%2f%2foutlook.office.com%2fowa%2f&resource=00000002-0000-0ff1-ce00-000000000000&response_mode=form_post&response_type=code+id_token&scope=openid&msafed=1&msaredir=1&client-request-id=2318564a-0ba1-6e05-dc95-01e3d532fa2a&protectedtoken=true&claims=%7b%22id_token%22%3a%7b%22xms_cc%22%3a%7b%22values%22%3a%5b%22CP1%22%5d%7d%7d%7d&nonce=637946967978129696.e952fd14-38f0-4c99-9385-0e633dcd181b&state=DYu5EYAwDMAcOMYxiePgZxzI01KyPi6kU6MEAHuwBamEQIXVm7ioq1H1qHP6VdeghmyrYOvu6GwXlinMow8yelK8R36_O_8" target="_blank">Office 365</a>
                </div>
            </div>

            <div id="phoneDirectoryPanel" class="info-panel">
                <h2 id="phoneDirectoryPanelTitle">‚òéÔ∏è School Phone Directory Information</h2>
                <div class="coming-soon">Update Coming Soon!</div>
            </div>

            <div id="cameraPanel" class="info-panel">
                <h2 id="cameraPanelTitle">üìπ School Camera Information</h2>
                <div class="coming-soon">Update Coming Soon</div>
            </div>

            <div id="schoolInfoPanel" class="info-panel">
                <h2 id="schoolInfoPanelTitle">üè¢ School Information</h2>
                <div class="school-info-grid">
                    <div class="school-info-item"><div class="school-info-label">School Name:</div><div>Middletown Area Middle School</div></div>
                    <div class="school-info-item"><div class="school-info-label">School Address:</div><div>215 Oberlin Road Middletown, PA 17057</div></div>
                    <div class="school-info-item"><div class="school-info-label">School Phone:</div><div>717-930-0739</div></div>
                    <div class="school-info-item"><div class="school-info-label">School Fax:</div><div>717-944-0591</div></div>
                    <div class="school-info-item"><div class="school-info-label">School Principal:</div><div>Dr. Shannon L. Wevodau</div></div>
                    <div class="school-info-item"><div class="school-info-label">Principal's Phone:</div><div>717-930-0739</div></div>
                    <div class="school-info-item"><div class="school-info-label">Principal's Email:</div><div>swevodau@raiderweb.org</div></div>
                    <div class="school-info-item"><div class="school-info-label">Assistant Principal:</div><div>Mr. Michael DeFilippo</div></div>
                    <div class="school-info-item"><div class="school-info-label">Assistant Principal's Phone:</div><div>717-930-0739</div></div>
                    <div class="school-info-item"><div class="school-info-label">Assistant Principal's Email:</div><div>mdefilippo@raiderweb.org</div></div>
                </div>
            </div>

            <div id="exploitPanel" class="info-panel">
                <h2 id="exploitPanelTitle">üí£ Exploiting Tools</h2>
                <div class="exploit-buttons">
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Blooket Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Kahoot Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Gimkit Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizlet Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quizzes Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Quills Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Edpuzzle Exploit</a>
                    <a href="https://sites.google.com/view/tools-2/blooket-exploit" target="_blank">Nearpod Exploit</a>
                </div>
            </div>

            <div id="bypassPanel" class="info-panel">
                <h2 id="bypassPanelTitle">üîë Bypassing Tools</h2>
                <div class="bypass-buttons">
                    <button onclick="dashboard.showBypassContent('bathroom')">Bathroom Bypass</button>
                    <button onclick="dashboard.showBypassContent('wifi')">Wifi Bypass</button>
                    <button onclick="dashboard.showBypassContent('monitoring')">Teacher Monitoring Bypass</button>
                    <button onclick="dashboard.showBypassContent('coming1')">Coming Soon</button>
                    <button onclick="dashboard.showBypassContent('coming2')">Coming Soon</button>
                    <button onclick="dashboard.showBypassContent('coming3')">Coming Soon</button>
                </div>

                <div id="bathroomBypass" class="bypass-content"><p>COMING SOON</p></div>
                <div id="wifiBypass" class="bypass-content"><p>Go to School Wifi Information</p></div>
                <div id="monitoringBypass" class="bypass-content"><p>COMING SOON</p></div>
                <div id="coming1Bypass" class="bypass-content"><p>COMING SOON</p></div>
                <div id="coming2Bypass" class="bypass-content"><p>COMING SOON</p></div>
                <div id="coming3Bypass" class="bypass-content"><p>COMING SOON</p></div>
            </div>

            <div id="vpnPanel" class="info-panel">
                <h2 id="vpnPanelTitle">üõ°Ô∏è VPN Websites</h2>
                <div class="links-list">
                    <a href="https://example-vpn1.com" target="_blank">VPN Service 1</a>
                    <a href="https://example-vpn2.com" target="_blank">VPN Service 2</a>
                    <a href="https://example-vpn3.com" target="_blank">VPN Service 3</a>
                    <a href="https://example-vpn4.com" target="_blank">VPN Service 4</a>
                </div>
            </div>

            <div id="gamingPanel" class="info-panel">
                <h2 id="gamingPanelTitle">üéÆ Gaming Websites</h2>
                <div class="coming-soon">COMING SOON</div>
            </div>

            <div id="musicPanel" class="info-panel">
                <h2 id="musicPanelTitle">üéß Music Websites</h2>
                <div class="coming-soon">COMING SOON</div>
            </div>

            <div id="keyboardPanel" class="info-panel">
                <h2 id="keyboardPanelTitle">‚å®Ô∏è Keyboard Tricks</h2>
                <div class="info-text">
                    <p>System Shortcuts:
‚Ä¢ Access Spotlight Search: Press Command (‚åò) + Space bar.
‚Ä¢ Return to the Home screen: Press Command (‚åò) + H.
‚Ä¢ Show the Dock: Press Command (‚åò) + Option (‚å•) + D.
‚Ä¢ Show the App Library: Press Shift (‚áß) + Globe + A.
‚Ä¢ Open Quick Note: Press Globe + Q.
‚Ä¢ Open Siri: Press Globe + S.
‚Ä¢ Open Control Center: Press Globe + C.
‚Ä¢ Open Notification Center: Press Globe + N.
‚Ä¢ Show all windows: Press Globe + Down Arrow.
‚Ä¢ Open the App Switcher: Press Globe + Up Arrow.

Multitasking Shortcuts:
‚Ä¢ Switch to the last active app: Press Command (‚åò) + Tab.
‚Ä¢ View all active apps: Press and hold Command (‚åò) + Tab.
‚Ä¢ Open Split View: Press Control (‚åÉ) + Globe + Left Arrow to move an app to the left, or Control (‚åÉ) + Globe + Right Arrow to move it to the right.
‚Ä¢ Switch the position of apps in Split View: Press Control (‚åÉ) + Globe + Left or Right Arrow.
‚Ä¢ Open Slide Over: Press Globe + Backslash.
‚Ä¢ Move the Slide Over window: Press Option (‚å•) + Globe + Left or Right Arrow.

Safari and App-Specific Shortcuts:
‚Ä¢ Take a full-screen screenshot: Press Command (‚åò) + Shift + 3.
‚Ä¢ Take a screenshot and enter markup immediately: Press Command (‚åò) + Shift + 4.
‚Ä¢ Open a new private tab: Press Command (‚åò) + Shift + N.
‚Ä¢ Open a new tab: Press Command (‚åò) + T or Command (‚åò) + N.
‚Ä¢ Close the current tab: Press Command (‚åò) + W.
‚Ä¢ Close all tabs in Tab Grid: Press Shift + Command (‚åò) + W.
‚Ä¢ Go to the next tab: Press Option (‚å•) + Command (‚åò) + Right Arrow, or Control (‚åÉ) + Tab, or Command (‚åò) + }.
‚Ä¢ Go to the previous tab: Press Option (‚å•) + Command (‚åò) + Left Arrow, or Shift + Control (‚åÉ) + Tab, or Command (‚åò) + {.
‚Ä¢ Reopen the last closed tab: Press Shift + Command (‚åò) + T.
‚Ä¢ Go to a specific tab (1-8): Press Command (‚åò) + (1-8).
‚Ä¢ Go to the last tab: Press Command (‚åò) + 9.
‚Ä¢ Open the Tab Grid: Press Shift + Command (‚åò) + .
‚Ä¢ Open a new Incognito tab: Press Shift + Command (‚åò) + N.
‚Ä¢ Open a new Incognito window: Press Option (‚å•) + Shift + Command (‚åò) + N.
‚Ä¢ Open a new window: Press Option (‚å•) + Command (‚åò) + N.

General Navigation and Text Editing:
‚Ä¢ Navigate between elements in an app (like fields, lists, buttons): Press Tab.
‚Ä¢ Select all text: Press Command (‚åò) + A.
‚Ä¢ Copy selected text: Press Command (‚åò) + C.
‚Ä¢ Cut selected text: Press Command (‚åò) + X.
‚Ä¢ Paste copied text: Press Command (‚åò) + V.
‚Ä¢ Undo the last action: Press Command (‚åò) + Z.
‚Ä¢ Redo the last undone action: Press Command (‚åò) + Shift + Z.
‚Ä¢ Jump to the top of a page: Press Command (‚åò) + Up Arrow.
‚Ä¢ Jump to the bottom of a page: Press Command (‚åò) + Down Arrow.
‚Ä¢ Highlight text one character at a time: Press Shift + Left or Right Arrow.
To view all available shortcuts for the specific app you are using, press and hold the Command (‚åò) key. For a complete list of system-wide shortcuts, press and hold the Globe key on a compatible keyboard.</p>
                </div>
            </div>

            <!-- Settings Panel -->
            <div id="settingsPanel" class="info-panel">
                <h2 id="settingsPanelTitle">üõ†Ô∏è Settings</h2>
                <div class="settings-grid">
                    <div class="setting-group">
                        <h3>General</h3>
                        <div class="setting-item">
                            <label for="themeSelector">Theme:</label>
                            <select id="themeSelector">
                                <option value="dark">Dark</option>
                                <option value="light">Light</option>
                            </select>
                        </div>
                        <!-- Removed auto-hide notifications as per instructions (old system) -->
                        <div class="setting-item">
                            <label for="announcementScrollSpeed">Announcement Scroll Speed:</label>
                            <input type="range" id="announcementScrollSpeed" min="5" max="30" value="20">
                            <span id="announcementScrollSpeedValue">20s</span>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>Dashboard Display</h3>
                        <div class="setting-item">
                            <label for="dashboardLayout">Layout:</label>
                            <select id="dashboardLayout">
                                <option value="default">Default</option>
                                <option value="compact">Compact</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="enableMotivationQuote">Motivation Quote:</label>
                            <input type="checkbox" id="enableMotivationQuote" checked>
                        </div>
                        <div class="setting-item">
                            <label for="calendarDisplay">Calendar View:</label>
                            <select id="calendarDisplay">
                                <option value="month">Month</option>
                                <option value="week">Week</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>Reminders & Notifications</h3>
                        <div class="setting-item">
                            <label for="reminderSound">Reminder Sound:</label>
                            <input type="checkbox" id="reminderSound" checked>
                        </div>
                        <div class="setting-item">
                            <label for="desktopNotifications">Desktop Notifications:</label>
                            <input type="checkbox" id="desktopNotifications">
                        </div>
                         <!-- Removed Notification Duration (old system) -->
                    </div>

                    <div class="setting-group">
                        <h3>Customization</h3>
                        <div class="setting-item">
                            <label for="accentColorPicker">Accent Color:</label>
                            <div class="color-picker">
                                <input type="color" id="accentColorPicker" value="#ff914d">
                                <button class="action-button small" onclick="dashboard.resetAccentColor()">Reset</button>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label for="mainBgColorPicker">Main Background Color:</label>
                            <div class="color-picker">
                                <input type="color" id="mainBgColorPicker" value="#1a1a1a">
                                <button class="action-button small" onclick="dashboard.resetMainBgColor()">Reset</button>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label for="headerBgColorPicker">Header Background:</label>
                            <div class="color-picker">
                                <input type="color" id="headerBgColorPicker" value="#ff914d">
                                <button class="action-button small" onclick="dashboard.resetHeaderBgColor()">Reset</button>
                            </div>
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3>Advanced</h3>
                        <div class="setting-item">
                            <label for="enableLogging">Enable Analytics Logging:</label>
                            <input type="checkbox" id="enableLogging" checked>
                        </div>
                        <div class="setting-item">
                            <label for="dataExportBtn">Export User Data:</label>
                            <button id="dataExportBtn" class="action-button">Export JSON</button>
                        </div>
                        <div class="setting-item">
                            <label for="clearCacheBtn">Clear Cache:</label>
                            <button id="clearCacheBtn" class="action-button">Clear</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="canvasContainer" style="display:none;">
            <h2 class="box-h2">üñåÔ∏è Notes Canvas</h2>
            <canvas id="notesCanvas" width="800" height="500"></canvas>
            <div id="canvasControls">
                <button id="clearCanvasBtn">Clear Canvas</button>
                <button id="closeCanvasBtn">Close Notes</button>
            </div>
        </div>
    </div>

    <script>
        const dashboard = {
            activePanel: null,
            // Track dynamic usage stats
            stats: {
                clicks: parseInt(localStorage.getItem('stats_clicks') || '0'),
                panelsOpened: parseInt(localStorage.getItem('stats_panels_opened') || '0'),
                themeToggles: parseInt(localStorage.getItem('stats_theme_toggles') || '0'),
                remindersSet: parseInt(localStorage.getItem('stats_reminders_set') || '0'),
                canvasSaves: parseInt(localStorage.getItem('stats_canvas_used') || '0'), // Renamed from canvasUsed
                screenshotsTaken: parseInt(localStorage.getItem('stats_screenshots') || '0'),
                mediaLoaded: parseInt(localStorage.getItem('stats_media_loaded') || '0'),
                sessionUptime: 0 // Reset per session, updated by timer
            },

            init: function() {
                this.initSessionTimer();
                this.initClock();
                this.generateCalendar();
                this.initThemeToggle();
                this.initButtons();
                this.initCanvas();
                this.initPanels(); // Initialize ALL panels hidden first
                this.initReminders(); // Re-add Reminders
                this.initStatsListeners(); // Initialize stats listeners for panel and button actions
                this.initSuperAdvancedStatsDisplay(); // Update advanced stats display
                this.initMediaPlayer(); // Re-add Media Player
                this.initSettings(); // Init settings first, before applying custom styles on theme loads
                this.colorizeWifiLevels(); // Color code the wifi panel
            },

            // --- NEW: ALERT SYSTEM (TOP-RIGHT) ---
            logAlert: function(message) {
                const logArea = document.getElementById('alertLogArea');
                const entry = document.createElement('div');
                entry.classList.add('alert-log-entry');
                
                const timestamp = new Date().toLocaleTimeString();
                entry.innerHTML = `<span class="timestamp">${timestamp}</span> ${message}`;
                
                // Add new entry to the top
                logArea.prepend(entry);
                
                // Keep the log from getting too long (e.g., max 10-15 entries)
                while(logArea.children.length > 15) {
                    logArea.lastChild.remove();
                }
            },

            // Replaces dashboard.showNotification calls
            displayActionMessage: function(message) {
                this.logAlert(message);
                // Also increment total button clicks/actions
                this.stats.clicks++;
                localStorage.setItem('stats_clicks', this.stats.clicks);
                this.updateStatsDisplay();
            },

            // --- Session Timer (with stats integration) ---
            initSessionTimer: function() {
              let sessionSeconds = 0;
              setInterval(() => {
                  sessionSeconds++;
                  const hrs = String(Math.floor(sessionSeconds / 3600)).padStart(2, '0');
                  const mins = String(Math.floor((sessionSeconds % 3600) / 60)).padStart(2, '0');
                  const secs = String(sessionSeconds % 60).padStart(2, '0');
                  const formattedTime = `${hrs}:${mins}:${secs}`;
                  
                  document.getElementById('sessionTime').innerText = `Session Time: ${formattedTime}`;
                  this.stats.sessionUptime = formattedTime; // Store formatted uptime
                  this.updateStatsDisplay();
              }, 1000);
            },

            initClock: function() {
                function updateClock() {
                    const now = new Date();
                    document.getElementById('realTimeClock').innerText = now.toLocaleTimeString();
                    document.getElementById('realDate').innerText = now.toLocaleDateString();
                }
                updateClock();
                setInterval(updateClock, 1000);
            },
            
            // --- Calendar ---
            generateCalendar: function() {
                const calendar = document.getElementById('calendar');
                calendar.innerHTML = '';
                const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                days.forEach(day => {
                    const div = document.createElement('div');
                    div.innerText = day;
                    calendar.appendChild(div);
                });
                const date = new Date(), year = date.getFullYear(), month = date.getMonth();
                const firstDay = new Date(year, month, 1).getDay();
                const lastDate = new Date(year, month + 1, 0).getDate();
                for (let i = 0; i < firstDay; i++) calendar.appendChild(document.createElement('div'));
                for (let i = 1; i <= lastDate; i++) {
                    const cell = document.createElement('div');
                    cell.innerText = i;
                    if (i === date.getDate()) cell.classList.add('today');
                    calendar.appendChild(cell);
                }
            },

            // --- Theme Toggle ---
            initThemeToggle: function() {
                const themeBtn = document.getElementById('themeToggle');
                themeBtn.addEventListener('click', () => {
                    const isLightTheme = document.body.classList.toggle('light-theme');
                    localStorage.setItem('theme', isLightTheme ? 'light' : 'dark');
                    // Removed theme selector in settings but keeping logic just in case
                    // document.getElementById('themeSelector').value = isLightTheme ? 'light' : 'dark'; 
                    
                    this.applyCustomStyles(); // Apply accent color specific adjustments
                    this.displayActionMessage(`Theme toggled to ${isLightTheme ? 'Light' : 'Dark'}.`);

                    this.stats.themeToggles++;
                    localStorage.setItem('stats_theme_toggles', this.stats.themeToggles);
                    this.updateStatsDisplay();
                });

                // Apply saved theme on load
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'light') {
                    document.body.classList.add('light-theme');
                } else {
                    document.body.classList.remove('light-theme');
                }
                this.applyCustomStyles(); // Apply initial custom styles
            },

            // --- Quickbar & Main Buttons ---
            initButtons: function() {
                document.getElementById('panicBtn').addEventListener('click', () => {
                    window.open('https://clever.com', '_blank');
                    this.displayActionMessage('üö® Panic button activated! Redirecting...');
                });

                document.getElementById('restartBtn').addEventListener('click', () => {
                    if(confirm('Are you sure you want to terminate and restart the system?')) {
                        document.body.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#1a1a1a; color:#ff914d; font-family:'Montserrat', sans-serif; font-size:24px;">System terminated. Refresh page to restart.</div>`;
                    }
                    this.displayActionMessage('üîÑ System Restart initiated.');
                });

                document.getElementById('fixIssuesBtn').addEventListener('click', () => {
                    this.displayActionMessage('‚öôÔ∏è Running diagnostics... No critical issues detected.');
                });

                document.getElementById('fullScreenBtn').addEventListener('click', () => {
                    if (!document.fullscreenElement) {
                        document.documentElement.requestFullscreen().catch(err => {
                            this.displayActionMessage(`Error attempting fullscreen: ${err.message}`);
                        });
                        this.displayActionMessage('üíª Fullscreen mode enabled.');
                    } else {
                        document.exitFullscreen();
                        this.displayActionMessage('üíª Fullscreen mode disabled.');
                    }
                });

                let zoomLevel = 1;
                document.getElementById('zoomInBtn').addEventListener('click', () => {
                    zoomLevel = Math.min(2, zoomLevel + 0.1);
                    document.body.style.zoom = zoomLevel;
                    this.displayActionMessage(`‚ûï Zoom In (${Math.round(zoomLevel * 100)}%)`);
                    this.updateStatsDisplay(); // Update zoom level stat
                });
                document.getElementById('zoomOutBtn').addEventListener('click', () => {
                    zoomLevel = Math.max(0.5, zoomLevel - 0.1);
                    document.body.style.zoom = zoomLevel;
                    this.displayActionMessage(`‚ûñ Zoom Out (${Math.round(zoomLevel * 100)}%)`);
                    this.updateStatsDisplay(); // Update zoom level stat
                });
                document.getElementById('statsZoom') && (document.getElementById('statsZoom').innerText = `${Math.round(zoomLevel * 100)}%`);

                document.getElementById('logoutBtn').addEventListener('click', () => {
                    if (confirm('Are you sure you want to log out?')) {
                        location.reload();
                    }
                    this.displayActionMessage('üëã User logged out.');
                });

                document.getElementById('settingsBtn').addEventListener('click', () => {
                    this.togglePanel('settingsPanel');
                    this.displayActionMessage('üõ†Ô∏è Settings panel accessed.');
                });

                // Attach to screenshot count
                document.getElementById('screenshotBtn').addEventListener('click', () => {
                    this.stats.screenshotsTaken++;
                    localStorage.setItem('stats_screenshots', this.stats.screenshotsTaken);
                    this.updateStatsDisplay();
                });
            },

            // --- Notes Canvas ---
            initCanvas: function() {
                const notesBtn = document.getElementById('notesBtn');
                const canvasContainer = document.getElementById('canvasContainer');
                const mainGrid = document.getElementById('mainGrid');
                const panelButtonGrid = document.getElementById('panelButtonGrid');
                const updatesNotifications = document.getElementById('updatesNotifications'); // Kept this as it existed in HTML


                notesBtn.addEventListener('click', () => {
                    // Hide other main content to show canvas
                    mainGrid.style.display = 'none';
                    panelButtonGrid.style.display = 'none';
                    updatesNotifications.style.display = 'none';

                    canvasContainer.style.display = 'block';
                    this.displayActionMessage('üìù Notes canvas opened.');

                    this.stats.canvasSaves++;
                    localStorage.setItem('stats_canvas_used', this.stats.canvasSaves);
                    this.updateStatsDisplay();
                });

                document.getElementById('closeCanvasBtn').addEventListener('click', () => {
                    canvasContainer.style.display = 'none';
                    // Restore other main content visibility
                    mainGrid.style.display = 'flex';
                    panelButtonGrid.style.display = 'grid';
                    updatesNotifications.style.display = 'flex';

                    this.displayActionMessage('üìù Notes canvas closed.');
                });

                const canvas = document.getElementById('notesCanvas');
                const ctx = canvas.getContext('2d');
                
                // Set default white background for canvas if not already
                if (!localStorage.getItem('notesCanvasData')) {
                    ctx.fillStyle = '#fff';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }

                // Load saved notes from localStorage
                const savedNotes = localStorage.getItem('notesCanvasData');
                if (savedNotes) {
                    const img = new Image();
                    img.onload = () => {
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    };
                    img.src = savedNotes;
                } else {
                    ctx.fillStyle = '#fff';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }

                let drawing = false;

                function getPos(evt) {
                    const rect = canvas.getBoundingClientRect();
                    return {
                        x: (evt.clientX || (evt.touches && evt.touches[0].clientX)) - rect.left,
                        y: (evt.clientY || (evt.touches && evt.touches[0].clientY)) - rect.top
                    };
                }

                ['mousedown', 'touchstart'].forEach(evtName => {
                    canvas.addEventListener(evtName, (e) => {
                        drawing = true;
                        const pos = getPos(e);
                        ctx.beginPath();
                        ctx.moveTo(pos.x, pos.y);
                        e.preventDefault();
                    });
                });

                ['mousemove', 'touchmove'].forEach(evtName => {
                    canvas.addEventListener(evtName, (e) => {
                        if (!drawing) return;
                        const pos = getPos(e);
                        ctx.lineTo(pos.x, pos.y);
                        ctx.strokeStyle = localStorage.getItem('accentColor') || '#ff914d';
                        ctx.lineWidth = 3;
                        ctx.lineCap = 'round';
                        ctx.lineJoin = 'round';
                        ctx.stroke();
                        e.preventDefault();
                    });
                });

                ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(evtName => {
                    canvas.addEventListener(evtName, () => {
                        drawing = false;
                        localStorage.setItem('notesCanvasData', canvas.toDataURL());
                    });
                });

                document.getElementById('clearCanvasBtn').addEventListener('click', () => {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = '#fff';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    localStorage.removeItem('notesCanvasData');
                    this.displayActionMessage('üé® Notes canvas cleared.');
                });

                document.getElementById('exportNotesBtn').addEventListener('click', () => {
                    const link = document.createElement('a');
                    link.download = 'notes_canvas.png';
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                    this.displayActionMessage('üíæ Notes exported as image.');
                });
                
                // Toggle sections functionality for main dashboard content
                document.getElementById('toggleSectionsBtn').addEventListener('click', () => {
                    const mainRowDisplay = mainGrid.style.display;
                    const panelGridDisplay = panelButtonGrid.style.display;

                    if (mainRowDisplay === 'none' || mainRowDisplay === '') {
                        mainGrid.style.display = 'flex';
                        panelButtonGrid.style.display = 'grid';
                        updatesNotifications.style.display = 'flex'; // Also show this
                        this.displayActionMessage('‚ÜîÔ∏è Dashboard sections revealed.');
                    } else {
                        mainGrid.style.display = 'none';
                        panelButtonGrid.style.display = 'none';
                        updatesNotifications.style.display = 'none'; // Also hide this
                        this.displayActionMessage('‚ÜîÔ∏è Dashboard sections hidden.');
                    }
                    // Hide notes canvas if open
                    canvasContainer.style.display = 'none'; 
                    // Hide any active info panel
                    if (this.activePanel) {
                        this.activePanel.style.display = 'none';
                        this.activePanel = null;
                    }
                });

            },

            // --- Panel Management ---
            initPanels: function() {
                // Ensure all info panels are hidden by default initially
                document.querySelectorAll('.info-panel').forEach(panel => {
                    panel.style.display = 'none';
                });
                document.querySelectorAll('.ipad-content').forEach(content => {
                    content.style.display = 'none';
                });
                document.querySelectorAll('.bypass-content').forEach(content => {
                    content.style.display = 'none';
                });
            },

            togglePanel: function(panelId) {
                const panel = document.getElementById(panelId);
                const isActive = panel.style.display === 'block';

                // Always close currently active panel if there is one and it's not the current panel
                if(this.activePanel && this.activePanel.id !== panelId) {
                    this.activePanel.style.display = 'none';
                    this.logAlert(`Panel Closed: ${this.activePanel.querySelector('h2').innerText}`);
                }

                // Toggle the requested panel
                if (!isActive) {
                    panel.style.display = 'block';
                    this.activePanel = panel;
                    this.logAlert(`Panel Opened: ${panel.querySelector('h2').innerText}`);
                    // Increment stat when a panel is opened, but not for toggling the *same* open panel
                    if (document.getElementById('statsPanelsOpened')) {
                        this.stats.panelsOpened++;
                        localStorage.setItem('stats_panels_opened', this.stats.panelsOpened);
                    }
                } else {
                    panel.style.display = 'none';
                    this.activePanel = null;
                    this.logAlert(`Panel Closed: ${panel.querySelector('h2').innerText}`);
                }
                this.updateStatsDisplay();
            },

            showIpadContent: function(contentId) {
                document.querySelectorAll('.ipad-content').forEach(content => {
                    content.style.display = 'none';
                });
                const targetElement = document.getElementById('ipad' + contentId.charAt(0).toUpperCase() + contentId.slice(1));
                if (targetElement) {
                    targetElement.style.display = 'block';
                    this.displayActionMessage(`üì± iPad ${contentId} information displayed.`);
                }
            },

            showBypassContent: function(contentId) {
                document.querySelectorAll('.bypass-content').forEach(content => {
                    content.style.display = 'none';
                });
                const targetElement = document.getElementById(contentId + 'Bypass');
                if (targetElement) {
                    targetElement.style.display = 'block';
                    this.displayActionMessage(`üîë Bypass ${contentId} information displayed.`);
                }
            },

            colorizeWifiLevels: function() {
                document.querySelectorAll('.wifi-entry').forEach(entry => {
                    const levelDiv = entry.children[1];
                    if (levelDiv) {
                        const level = levelDiv.textContent.trim().toLowerCase();
                        levelDiv.classList.remove('wifi-high', 'wifi-medium', 'wifi-low');
                        if (level === 'high') {
                            levelDiv.classList.add('wifi-high');
                        } else if (level === 'medium') {
                            levelDiv.classList.add('wifi-medium');
                        } else if (level === 'low') {
                            levelDiv.classList.add('wifi-low');
                        }
                    }
                });
            },

            // --- RE-ADDED: Reminder System Functions ---
            reminders: [],
            initReminders: function() {
                const addReminderBtn = document.getElementById('addReminderBtn');
                const reminderText = document.getElementById('reminderText');
                const reminderDate = document.getElementById('reminderDate');
                const reminderTime = document.getElementById('reminderTime');
                const remindersList = document.getElementById('remindersList');
                const clearAllRemindersBtn = document.getElementById('clearAllRemindersBtn');

                // Load reminders from LocalStorage
                this.loadReminders();

                // Display reminders
                this.renderReminders();

                addReminderBtn.addEventListener('click', () => {
                    const text = reminderText.value.trim();
                    const date = reminderDate.value;
                    const time = reminderTime.value;

                    if (text && date && time) {
                        const newReminder = {
                            id: Date.now(),
                            text,
                            date,
                            time,
                            timestamp: new Date(`${date}T${time}`).getTime(),
                            completed: false,
                            notified: false
                        };
                        this.reminders.push(newReminder);
                        this.saveReminders();
                        this.renderReminders();
                        reminderText.value = '';
                        reminderDate.value = '';
                        reminderTime.value = '';
                        this.displayActionMessage(`‚è∞ Reminder "${text}" added for ${date} at ${time}.`);

                        this.stats.remindersSet++;
                        localStorage.setItem('stats_reminders_set', this.stats.remindersSet);
                        this.updateStatsDisplay();
                    } else {
                        this.logAlert('‚ùóÔ∏è Please fill all reminder fields.', 5000);
                    }
                });

                clearAllRemindersBtn.addEventListener('click', () => {
                    if (confirm('Are you sure you want to delete all reminders?')) {
                        this.reminders = [];
                        this.saveReminders();
                        this.renderReminders();
                        this.displayActionMessage('‚è∞ All reminders cleared.');
                    }
                });

                // Periodically check for reminders (every minute)
                setInterval(() => {
                    const currentTime = Date.now();
                    this.reminders.forEach(r => {
                        // Trigger within a 60-second window *after* the due time to ensure it fires reliably
                        if (!r.completed && !r.notified && r.timestamp <= currentTime && (currentTime - r.timestamp) < 60000) {
                            this.logAlert(`üîî Reminder Alert: "${r.text}"! This reminder was due at ${r.time} on ${r.date}.`);
                            r.notified = true; // Mark as notified
                            this.saveReminders();
                            // Optional: play a sound if enabled in settings
                            if (localStorage.getItem('reminderSound') === 'true') {
                                new Audio('https://www.soundjay.com/buttons/beep-07.mp3').play().catch(e => console.error("Sound play failed", e));
                            }
                            if (Notification.permission === "granted" && localStorage.getItem('desktopNotifications') === 'true') {
                                new Notification("Private Dashboard Reminder", {
                                    body: r.text,
                                    icon: 'https://cdn-icons-png.flaticon.com/512/2907/2907159.png'
                                });
                            }
                        }
                    });
                }, 10000); // Check every 10 seconds to catch within a minute (to avoid missing)
            },
            saveReminders: function() {
                localStorage.setItem('reminders', JSON.stringify(this.reminders));
            },
            loadReminders: function() {
                const storedReminders = localStorage.getItem('reminders');
                if (storedReminders) {
                    this.reminders = JSON.parse(storedReminders);
                }
            },
            renderReminders: function() {
                const remindersList = document.getElementById('remindersList');
                remindersList.innerHTML = '';
                const sortedReminders = [...this.reminders].sort((a, b) => {
                    if (a.completed !== b.completed) return a.completed ? 1 : -1;
                    return a.timestamp - b.timestamp;
                });

                sortedReminders.forEach(r => {
                    const li = document.createElement('li');
                    li.classList.add('reminder-item');
                    if (r.completed) li.classList.add('completed');
                    li.innerHTML = `
                        <span>${r.text} - ${r.date} ${r.time}</span>
                        <div>
                            <button class="complete-btn" data-id="${r.id}">${r.completed ? 'Unmark' : 'Complete'}</button>
                            <button class="delete-btn" data-id="${r.id}">Delete</button>
                        </div>
                    `;
                    remindersList.appendChild(li);
                });

                remindersList.querySelectorAll('.delete-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        this.reminders = this.reminders.filter(r => r.id !== id);
                        this.saveReminders();
                        this.renderReminders();
                        this.displayActionMessage('‚è∞ Reminder deleted.');
                    });
                });
                remindersList.querySelectorAll('.complete-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const id = parseInt(e.target.dataset.id);
                        const reminder = this.reminders.find(r => r.id === id);
                        if (reminder) {
                            reminder.completed = !reminder.completed;
                            this.saveReminders();
                            this.renderReminders();
                            this.displayActionMessage(`‚è∞ Reminder "${reminder.text}" marked as ${reminder.completed ? 'completed' : 'incomplete'}.`);
                        }
                    });
                });
            },

            // --- Settings Panel Functions (adjusted for new alert system and removals) ---
            initSettings: function() {
                document.getElementById('themeSelector').value = localStorage.getItem('theme') || 'dark';
                // autoHideNotifications is removed because the system is persistent
                document.getElementById('announcementScrollSpeed').value = localStorage.getItem('announcementScrollSpeed') || '20';
                document.getElementById('announcementScrollSpeedValue').textContent = document.getElementById('announcementScrollSpeed').value + 's';
                document.getElementById('enableMotivationQuote').checked = localStorage.getItem('enableMotivationQuote') !== 'false';
                if (!document.getElementById('enableMotivationQuote').checked) {
                    document.getElementById('motivationBox').style.display = 'none';
                }
                document.getElementById('desktopNotifications').checked = localStorage.getItem('desktopNotifications') === 'true';
                if (document.getElementById('desktopNotifications').checked && Notification.permission !== "granted") {
                    Notification.requestPermission();
                }
                document.getElementById('reminderSound').checked = localStorage.getItem('reminderSound') !== 'false';
                // notificationDuration is removed (old notification system)
                document.getElementById('accentColorPicker').value = localStorage.getItem('accentColor') || '#ff914d';
                document.getElementById('mainBgColorPicker').value = localStorage.getItem('mainBgColor') || '#1a1a1a';
                document.getElementById('headerBgColorPicker').value = localStorage.getItem('headerBgColor') || '#ff914d';
                document.getElementById('enableLogging').checked = localStorage.getItem('enableLogging') !== 'false';

                this.applySettingsToDOM();

                document.getElementById('themeSelector').addEventListener('change', (e) => {
                    const theme = e.target.value;
                    if (theme === 'light') document.body.classList.add('light-theme');
                    else document.body.classList.remove('light-theme');
                    localStorage.setItem('theme', theme);
                    this.applyCustomStyles();
                    this.displayActionMessage(`Theme set to ${theme}.`);
                    this.stats.themeToggles++;
                    localStorage.setItem('stats_theme_toggles', this.stats.themeToggles);
                    this.updateStatsDisplay();
                });

                document.getElementById('announcementScrollSpeed').addEventListener('input', (e) => {
                    const speed = e.target.value;
                    document.getElementById('announcementScrollSpeedValue').textContent = speed + 's';
                    localStorage.setItem('announcementScrollSpeed', speed);
                    document.getElementById('announcementBar').style.animationDuration = speed + 's';
                });
                document.getElementById('enableMotivationQuote').addEventListener('change', (e) => {
                    document.getElementById('motivationBox').style.display = e.target.checked ? 'flex' : 'none';
                    localStorage.setItem('enableMotivationQuote', e.target.checked);
                    this.displayActionMessage(`Motivation quote: ${e.target.checked ? 'Shown' : 'Hidden'}.`);
                });
                document.getElementById('reminderSound').addEventListener('change', (e) => {
                    localStorage.setItem('reminderSound', e.target.checked);
                    this.displayActionMessage(`Reminder sound: ${e.target.checked ? 'On' : 'Off'}.`);
                });
                document.getElementById('desktopNotifications').addEventListener('change', (e) => {
                    localStorage.setItem('desktopNotifications', e.target.checked);
                    if (e.target.checked && Notification.permission !== "granted") {
                        Notification.requestPermission();
                    }
                    this.displayActionMessage(`Desktop notifications: ${e.target.checked ? 'Enabled' : 'Disabled'}.`);
                });
                document.getElementById('accentColorPicker').addEventListener('input', (e) => {
                    localStorage.setItem('accentColor', e.target.value);
                    this.applyCustomStyles();
                    this.displayActionMessage(`Accent color changed to ${e.target.value}.`);
                });
                document.getElementById('mainBgColorPicker').addEventListener('input', (e) => {
                    const color = e.target.value;
                    localStorage.setItem('mainBgColor', color);
                    document.documentElement.style.setProperty('--main-bg', color);
                });
                document.getElementById('headerBgColorPicker').addEventListener('input', (e) => {
                    const color = e.target.value;
                    localStorage.setItem('headerBgColor', color);
                    document.getElementById('dashboardHeader').style.background = `linear-gradient(90deg, ${color}, ${this.lightenColor(color, 30)})`;
                });
                document.getElementById('enableLogging').addEventListener('change', (e) => {
                    localStorage.setItem('enableLogging', e.target.checked);
                    this.displayActionMessage(`Analytics logging: ${e.target.checked ? 'Enabled' : 'Disabled'}.`);
                });

                document.getElementById('clearCacheBtn').addEventListener('click', () => {
                    if (confirm('Are you sure you want to clear all local data (notes, reminders, settings)? This cannot be undone.')) {
                        localStorage.clear();
                        alert('All local data cleared. Page will now reload.');
                        location.reload();
                    }
                });
                document.getElementById('dataExportBtn').addEventListener('click', () => {
                    const data = {};
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        data[key] = localStorage.getItem(key);
                    }
                    const jsonString = JSON.stringify(data, null, 2);
                    const blob = new Blob([jsonString], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'private_system_data.json';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    this.displayActionMessage('üì§ User data exported.');
                });
                document.querySelectorAll('.color-picker button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const pickerId = e.target.previousElementSibling.id;
                        this.resetColorSetting(pickerId);
                    });
                });
            },
            applySettingsToDOM: function() {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'light') document.body.classList.add('light-theme');
                else document.body.classList.remove('light-theme');

                const scrollSpeed = localStorage.getItem('announcementScrollSpeed') || '20';
                document.getElementById('announcementBar').style.animationDuration = scrollSpeed + 's';
                document.getElementById('announcementScrollSpeedValue').textContent = scrollSpeed + 's';

                if (localStorage.getItem('enableMotivationQuote') === 'false') document.getElementById('motivationBox').style.display = 'none';
                else document.getElementById('motivationBox').style.display = 'flex';

                this.applyCustomStyles();

                const mainBgColor = localStorage.getItem('mainBgColor');
                if (mainBgColor) document.documentElement.style.setProperty('--main-bg', mainBgColor);
                else document.documentElement.style.setProperty('--main-bg', document.body.classList.contains('light-theme') ? '#f0f0f0' : '#1a1a1a');
                document.getElementById('mainBgColorPicker').value = localStorage.getItem('mainBgColor') || (document.body.classList.contains('light-theme') ? '#f0f0f0' : '#1a1a1a');
                document.getElementById('headerBgColorPicker').value = localStorage.getItem('headerBgColor') || (document.body.classList.contains('light-theme') ? this.lightenColor(localStorage.getItem('accentColor') || '#ff914d', 10) : (localStorage.getItem('accentColor') || '#ff914d'));
            },
            resetColorSetting: function(pickerId) {
                switch (pickerId) {
                    case 'accentColorPicker':
                        localStorage.removeItem('accentColor');
                        document.getElementById('accentColorPicker').value = '#ff914d';
                        this.displayActionMessage('Accent color reset.');
                        break;
                    case 'mainBgColorPicker':
                        localStorage.removeItem('mainBgColor');
                        document.getElementById('mainBgColorPicker').value = '#1a1a1a';
                        document.documentElement.style.setProperty('--main-bg', document.body.classList.contains('light-theme') ? '#f0f0f0' : '#1a1a1a');
                        this.displayActionMessage('Main background color reset.');
                        break;
                    case 'headerBgColorPicker':
                        localStorage.removeItem('headerBgColor');
                        document.getElementById('headerBgColorPicker').value = '#ff914d';
                        document.getElementById('dashboardHeader').style.background = `linear-gradient(90deg, ${document.getElementById('accentColorPicker').value}, ${this.lightenColor(document.getElementById('accentColorPicker').value, 30)})`;
                        this.displayActionMessage('Header background reset.');
                        break;
                }
                this.applyCustomStyles();
            },
            applyCustomStyles: function() {
                const root = document.documentElement;
                if (document.body.classList.contains('light-theme')) {
                    root.style.setProperty('--main-bg', '#f0f0f0');
                    root.style.setProperty('--main-text-color', '#333');
                    root.style.setProperty('--box-bg-dark', '#fcfcfc');
                    root.style.setProperty('--item-bg-alt-dark', '#eee');
                    root.style.setProperty('--panel-bg-dark', '#fcfcfc');
                    root.style.setProperty('--heading-color-dark', '#994d00');
                } else {
                    root.style.setProperty('--main-bg', '#1a1a1a');
                    root.style.setProperty('--main-text-color', '#e0e0e0');
                    root.style.setProperty('--box-bg-dark', '#2a2a2a');
                    root.style.setProperty('--item-bg-alt-dark', '#3b3b3b');
                    root.style.setProperty('--panel-bg-dark', '#2a2a2a');
                    root.style.setProperty('--heading-color-dark', '#ffbf80');
                }
                const accentColor = localStorage.getItem('accentColor') || '#ff914d';
                root.style.setProperty('--accent-color', accentColor);
                root.style.setProperty('--accent-color-light-hover', this.lightenColor(accentColor, 20));
                root.style.setProperty('--accent-color-hover-shadow', this.lightenColor(accentColor, 20, true));
                const headerBgCustom = localStorage.getItem('headerBgColor') || accentColor;
                document.getElementById('dashboardHeader').style.background = `linear-gradient(90deg, ${headerBgCustom}, ${this.lightenColor(headerBgCustom, 30)})`;

                // All buttons now inherit generic orange style from CSS classes, so no need for JS here to set individual buttons
                document.querySelectorAll('.info-panel h2').forEach(h2 => h2.style.color = accentColor);
                document.querySelectorAll('.box h2').forEach(h2 => {
                  if (document.body.classList.contains('light-theme')) h2.style.color = 'var(--heading-color-light)';
                  else h2.style.color = this.lightenColor(accentColor, 15);
                });
                document.getElementById('loginBox').style.borderColor = accentColor;
                document.getElementById('loginBox').style.boxShadow = `0 0 20px ${this.lightenColor(accentColor, 20, true)}`;
                document.querySelectorAll('.box').forEach(box => {
                    if(!box.classList.contains('motivation-box')) {
                         box.style.boxShadow = `0 0 18px ${this.lightenColor(accentColor, 20, true)}`;
                         box.style.backgroundColor = document.body.classList.contains('light-theme') ? 'var(--box-bg-light)' : 'var(--box-bg-dark)';
                    }
                });
                document.querySelectorAll('.info-panel').forEach(panel => {
                    panel.style.boxShadow = `0 0 20px ${this.lightenColor(accentColor, 20, true)}`;
                    panel.style.backgroundColor = document.body.classList.contains('light-theme') ? 'var(--panel-bg-light)' : 'var(--panel-bg-dark)';
                });
            },
            lightenColor: function(hex, percent, addAlpha = false) {
                let f=parseInt(hex.slice(1),16),t=percent<0?0:255,p=percent<0?percent*-1:percent,R=f>>16,G=(f>>8)&0x00ff,B=f&0x0000ff;
                let newR = Math.round((t-R)*p/100)+R;
                let newG = Math.round((t-G)*p/100)+G;
                let newB = Math.round((t-B)*p/100)+B;
                
                if (addAlpha) {
                    let alpha = 0.5;
                    if (percent > 0) alpha = Math.min(0.8, percent / 100 + 0.3);
                    else alpha = Math.max(0.2, 1 - (percent * -1) / 100);
                    return `rgba(${newR}, ${newG}, ${newB}, ${alpha})`;
                }
                return "#"+(0x1000000 + newR*0x10000 + newG*0x100 + newB).toString(16).slice(1);
            },


            // --- NEW: Super Advanced Statistics ---
            initStatsListeners: function() {
                // Ensure default stats exist in localStorage for initial display
                if (localStorage.getItem('stats_clicks') === null) localStorage.setItem('stats_clicks', '0');
                if (localStorage.getItem('stats_panels_opened') === null) localStorage.setItem('stats_panels_opened', '0');
                if (localStorage.getItem('stats_theme_toggles') === null) localStorage.setItem('stats_theme_toggles', '0');
                if (localStorage.getItem('stats_reminders_set') === null) localStorage.setItem('stats_reminders_set', '0');
                if (localStorage.getItem('stats_canvas_used') === null) localStorage.setItem('stats_canvas_used', '0');
                if (localStorage.getItem('stats_screenshots') === null) localStorage.setItem('stats_screenshots', '0');
                if (localStorage.getItem('stats_media_loaded') === null) localStorage.setItem('stats_media_loaded', '0');
            },
            initSuperAdvancedStatsDisplay: function() {
                const getBrowser = () => {
                    const ua = navigator.userAgent;
                    if(ua.includes("Firefox")) return "Firefox";
                    if(ua.includes("SamsungBrowser")) return "Samsung Browser";
                    if(ua.includes("Opera") || ua.includes("OPR")) return "Opera";
                    if(ua.includes("Trident")) return "Internet Explorer";
                    if(ua.includes("Edge")) return "Edge";
                    if(ua.includes("Chrome")) return "Chrome";
                    if(ua.includes("Safari")) return "Safari";
                    return "Unknown";
                }
                const getOS = () => {
                    const ua = navigator.userAgent;
                    if(ua.includes("Win")) return "Windows";
                    if(ua.includes("Mac")) return "MacOS";
                    if(ua.includes("Linux")) return "Linux";
                    if(ua.includes("Android")) return "Android";
                    if(ua.includes("like Mac")) return "iOS";
                    return "Unknown";
                }
                document.getElementById('statsBrowser') && (document.getElementById('statsBrowser').innerText = getBrowser());
                document.getElementById('statsOS') && (document.getElementById('statsOS').innerText = getOS());
                document.getElementById('statsScreenRes') && (document.getElementById('statsScreenRes').innerText = `${screen.width}x${screen.height}`);
                document.getElementById('statsViewportSize') && (document.getElementById('statsViewportSize').innerText = `${window.innerWidth}x${window.innerHeight}`);
                document.getElementById('statsMemory') && (document.getElementById('statsMemory').innerText = navigator.deviceMemory ? `${navigator.deviceMemory} GB` : 'N/A');
                document.getElementById('statsCpus') && (document.getElementById('statsCpus').innerText = navigator.hardwareConcurrency || 'N/A');
                
                const updateOnlineStatus = () => {
                    document.getElementById('statsOnline') && (document.getElementById('statsOnline').innerText = navigator.onLine ? 'Online' : 'Offline');
                }
                window.addEventListener('online', updateOnlineStatus);
                window.addEventListener('offline', updateOnlineStatus);
                updateOnlineStatus();

                // Initial load of stats from localStorage
                this.stats.clicks = parseInt(localStorage.getItem('stats_clicks') || '0');
                this.stats.panelsOpened = parseInt(localStorage.getItem('stats_panels_opened') || '0');
                this.stats.themeToggles = parseInt(localStorage.getItem('stats_theme_toggles') || '0');
                this.stats.remindersSet = parseInt(localStorage.getItem('stats_reminders_set') || '0');
                this.stats.canvasSaves = parseInt(localStorage.getItem('stats_canvas_used') || '0');
                this.stats.screenshotsTaken = parseInt(localStorage.getItem('stats_screenshots') || '0');
                this.stats.mediaLoaded = parseInt(localStorage.getItem('stats_media_loaded') || '0');
                
                this.updateStatsDisplay();
            },
            updateStatsDisplay: function() {
                // Update Uptime separately as it's session-based, handled by timer
                document.getElementById('statsUptime') && (document.getElementById('statsUptime').innerText = this.stats.sessionUptime);

                document.getElementById('statsClicks') && (document.getElementById('statsClicks').innerText = this.stats.clicks);
                document.getElementById('statsPanelsOpened') && (document.getElementById('statsPanelsOpened').innerText = this.stats.panelsOpened);
                document.getElementById('statsThemeToggles') && (document.getElementById('statsThemeToggles').innerText = this.stats.themeToggles);
                document.getElementById('statsRemindersSet') && (document.getElementById('statsRemindersSet').innerText = this.stats.remindersSet);
                document.getElementById('statsCanvasUsed') && (document.getElementById('statsCanvasUsed').innerText = this.stats.canvasSaves);
                document.getElementById('statsScreenshots') && (document.getElementById('statsScreenshots').innerText = this.stats.screenshotsTaken);
                document.getElementById('statsMediaLoaded') && (document.getElementById('statsMediaLoaded').innerText = this.stats.mediaLoaded);
                
                // Update zoom in real-time
                const zoomElement = document.getElementById('statsZoom');
                if (zoomElement) {
                    zoomElement.innerText = `${Math.round(parseFloat(document.body.style.zoom || 1) * 100)}%`;
                }
            },

            // --- NEW: Proxied Media Player ---
            initMediaPlayer: function() {
              document.getElementById('loadYoutubeBtn').addEventListener('click', () => {
                  const input = document.getElementById('youtubeIdInput').value.trim();
                  let videoId;

                  const urlRegex = /(?:v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                  const match = input.match(urlRegex);
                  if (match && match[1]) {
                      videoId = match[1];
                  } else if (input.length === 11 && /^[a-zA-Z0-9_-]+$/.test(input)) {
                      videoId = input;
                  } else {
                       this.logAlert('‚ùóÔ∏è Invalid YouTube URL or Video ID. Please provide a valid ID or full URL.');
                       document.getElementById('youtubePlayer').innerHTML = "Video player will load here...";
                       return;
                  }

                  if(videoId) {
                      // Using a well-known Invidious instance (replace with another if this one goes down)
                      const proxyUrl = `https://invidious.io.lol/embed/${videoId}`;
                      document.getElementById('youtubePlayer').innerHTML = `<iframe width="100%" height="100%" src="${proxyUrl}" frameborder="0" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>`;
                      this.displayActionMessage(`üì∫ Proxied YouTube video loaded: ${videoId}`);
                      this.stats.mediaLoaded++;
                      localStorage.setItem('stats_media_loaded', this.stats.mediaLoaded);
                      this.updateStatsDisplay();
                  }
              });
            },
        };

        // Pre-Login and Login Logic
        document.addEventListener('DOMContentLoaded', () => {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingCube = document.querySelector('.loading-cube');
            const loadingText = document.getElementById('loadingText');
            const loginBox = document.getElementById('loginBox');

            // --- NEW: Loading Animation Sequence ---
            loadingScreen.style.display = 'flex'; // Ensure it's visible initially
            
            setTimeout(() => {
                loadingText.innerText = "Initializing Login Page...";
                dashboard.logAlert("System initialization phase 1 complete.");
            }, 2000);
            
            setTimeout(() => {
                loadingScreen.classList.add('fade-out');
                loadingScreen.addEventListener('transitionend', () => {
                    loadingScreen.style.display = 'none';
                    loginBox.style.display = 'block';
                    dashboard.logAlert("Login page initialized.");
                }, { once: true });
            }, 4000);

            // --- Login System ---
            let attempts = 3; // NEW: Attempts changed to 3
            const submitBtn = document.getElementById('submitBtn');
            const usernameInput = document.getElementById('username');
            const passwordInput = document.getElementById('password');
            const userIDInput = document.getElementById('userID');
            const attemptsText = document.getElementById('attemptsText'); // Get reference for attemptsText

            document.getElementById('showPassword').addEventListener('change', (e) => {
              passwordInput.type = e.target.checked ? 'text' : 'password';
              dashboard.logAlert(`Password visibility toggled ${e.target.checked ? 'on' : 'off'}.`);
            });
            
            submitBtn.addEventListener('click', async () => { // Made async for potential webhook calls (removed, but good practice)
                // Hardcoded user for example
                const validUser = "Beta.user", validPass = "password123", validId = "281573";
                
                document.getElementById('errorMsg').innerText = ""; // Clear previous errors

                if (usernameInput.value === validUser && passwordInput.value === validPass && userIDInput.value === validId) {
                    // Success Login Animation
                    loginBox.style.display = 'none';
                    loadingScreen.classList.remove('fade-out'); // Ensure loading screen reappears if it faded out
                    loadingScreen.style.display = 'flex';
                    loadingScreen.style.opacity = '1';
                    loadingText.innerText = `Welcome, ${usernameInput.value}! Loading Dashboard...`;
                    loadingText.classList.add('success');
                    dashboard.logAlert(`Login successful for ${usernameInput.value}.`);

                    setTimeout(() => {
                      loadingScreen.classList.add('fade-out');
                      loadingScreen.addEventListener('transitionend', () => {
                            loadingScreen.style.display = 'none';
                            document.getElementById('dashboard').style.display = 'block';
                            document.body.className = 'dashboard-body'; // Apply dashboard body class
                            // Update user info in dashboard
                            document.getElementById('loggedInUser').innerText = usernameInput.value;
                            document.getElementById('loggedInID').innerText = userIDInput.value;
                            dashboard.init(); // Initialize the dashboard functionalities
                            dashboard.logAlert("Dashboard loaded and ready!");
                      }, {once: true});
                    }, 2500); // Short delay before dashboard shows

                } else {
                    // Failure
                    attempts--;
                    attemptsText.innerText = `Attempts Left: ${attempts}`;
                    loginBox.classList.add('flashing'); // Animation for failed attempt
                    setTimeout(() => loginBox.classList.remove('flashing'), 800); // Remove flashing after animation
                    
                    dashboard.logAlert(`Login failed. Attempts left: ${attempts}`);

                    if (attempts <= 0) {
                        submitBtn.disabled = true;
                        document.getElementById('errorMsg').innerText = "Max login attempts reached. Please contact support.";
                        dashboard.logAlert("MAX LOGIN ATTEMPTS REACHED.");
                    } else {
                        document.getElementById('errorMsg').innerText = "Invalid credentials. Try again.";
                    }
                }
            });

            // Initialize display for attempts
            attemptsText.innerText = `Attempts Left: ${attempts}`;
        });
    </script>
</body>
</html>
