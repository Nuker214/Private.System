<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Enhanced Private System</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <!-- Link to your external CSS file -->
  <link rel="stylesheet" href="/style.css"> 
  
  <style>
    /*
        ATTENTION: The extensive inline CSS from your original file is now located
        in static/style.css for better organization and maintainability.
        This <style> block here is left intentionally empty to avoid repetition.
        Ensure you create 'static/style.css' and paste your CSS there.
    */
  </style>
</head>
<body>

<!-- Initialization Screen -->
<div id="initScreen" class="init-screen">
  <div class="rotating-cube">
    <div class="cube-face front"></div>
    <div class="cube-face back"></div>
    <div class="cube-face right"></div>
    <div class="cube-face left"></div>
    <div class="cube-face top"></div>
    <div class="cube-face bottom"></div>
  </div>
  <div id="initText" class="init-text">Initializing System...</div>
  <div class="code-rain" id="codeRain"></div>
</div>

<!-- Login Screen -->
<div id="loginScreen" class="login-container hidden">
  <div class="login-quickbar">
    <div class="flex items-center gap-2">
      <button class="panic-btn" onclick="window.open('https://clever.com', '_blank')">
        <i class="fas fa-exclamation-triangle"></i> Panic
      </button>
    </div>
    <div class="flex items-center gap-2">
      <button onclick="adjustZoom(0.1)"><i class="fas fa-search-plus"></i> Zoom In</button>
      <button onclick="adjustZoom(-0.1)"><i class="fas fa-search-minus"></i> Zoom Out</button>
    </div>
  </div>

  <div class="login-box" id="loginBox">
    <h2><i class="fas fa-shield-alt"></i> Private System</h2>
    
    <div class="input-group">
      <input type="text" id="username" placeholder="Enter Username..." autocomplete="off">
    </div>
    
    <div class="input-group">
      <input type="password" id="password" placeholder="Enter Password..." autocomplete="off">
    </div>
    
    <div class="input-group">
      <input type="text" id="userID" placeholder="Enter User Identifier..." autocomplete="off">
    </div>

    <div class="toggle-container">
      <span>Show Password</span>
      <div class="toggle-switch" id="showPasswordToggle">
        <div class="toggle-slider"></div>
      </div>
    </div>

    <button class="submit-btn" id="submitBtn">
      <i class="fas fa-sign-in-alt"></i> ACCESS SYSTEM
    </button>

    <div id="errorMsg" class="text-red-400 mt-4 text-sm"></div>
    <div id="attemptsText" class="text-yellow-400 mt-2 text-sm">Attempts Left: 5</div>
  </div>

  <div class="time-date-box">
    <div class="time-display" id="currentTime">00:00:00</div>
    <div class="date-display" id="currentDate">Loading...</div>
    <div class="toggle-container mt-4">
      <span>24-Hour Format</span>
      <div class="toggle-switch" id="timeFormatToggle">
        <div class="toggle-slider"></div>
      </div>
    </div>
  </div>

  <!-- Reset Counter Popup (initially hidden) -->
  <div id="resetPopup" class="reset-popup" role="dialog" aria-modal="true" aria-hidden="true">
    <p>System Locked. Enter reset code to continue:</p>
    <input type="password" id="resetField" class="reset-field" placeholder="Enter Reset Code...">
    <button id="resetBtn">Reset Attempts</button>
  </div>

</div>

<!-- Loading Screen -->
<div id="loadingScreen" class="init-screen hidden">
  <div class="loading-cube">
    <div class="cube-face front"></div>
    <div class="cube-face back"></div>
    <div class="cube-face right"></div>
    <div class="cube-face left"></div>
    <div class="cube-face top"></div>
    <div class="cube-face bottom"></div>
  </div>
  <div class="init-text">Loading Dashboard...</div>
  <div class="code-rain" id="loadingCodeRain"></div>
</div>

<!-- Dashboard -->
<div id="dashboard" class="dashboard">
  <!-- Welcome Notification -->
  <div id="welcomeNotification" class="notification">
    <i class="fas fa-user-check"></i> Welcome <span id="loggedUser">User</span>!
  </div>

  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <div>
      <h1 class="text-2xl font-bold"><i class="fas fa-tachometer-alt"></i> Enhanced Private Dashboard</h1>
      <p class="text-sm opacity-80">User: <span id="currentUser">Beta.user</span> | ID: <span id="currentUserID">281573</span></p>
    </div>
    <div class="bg-white text-black px-4 py-2 rounded-lg font-bold">
      Version 2.0.0
    </div>
  </div>

  <!-- Quick Bar with Search, Session Time, Real Time, and Buttons -->
  <div class="dashboard-quickbar">
    <!-- Left Section: Search and Time Displays -->
    <div class="search-group">
        <div class="search-container">
            <input type="text" class="search-bar" id="searchBar" placeholder="Search panels, features...">
            <button class="search-btn" onclick="performSearch()"><i class="fas fa-search"></i></button>
        </div>
        <div class="quickbar-time-info">Session Time: <span id="quickbarSessionTime" class="quickbar-time-value">00:00:00</span></div>
        <div class="quickbar-time-info">Real Time: <span id="quickbarCurrentTime" class="quickbar-time-value">00:00:00</span></div>
    </div>
    
    <!-- Right Section: All other buttons -->
    <div class="quick-btn-group">
      <button class="quick-btn" onclick="togglePanel('settingsModal')">
        <i class="fas fa-cog"></i> Settings
      </button>
      <button class="quick-btn" onclick="togglePanel('timerPanel')">
        <i class="fas fa-stopwatch"></i> Timer
      </button>
      <button class="quick-btn" onclick="togglePanel('notesPanel')">
        <i class="fas fa-pen"></i> Notes
      </button>
      <button class="quick-btn" onclick="showStats()">
        <i class="fas fa-chart-bar"></i> Stats
      </button>
      <button class="quick-btn" onclick="takeScreenshot()">
          <i class="fas fa-camera"></i> Screenshot
      </button>
      <button class="quick-btn" onclick="togglePanelsGridVisibility()">
          <i class="fas fa-toggle-on"></i> Toggle Sections
      </button>
      <button class="quick-btn" onclick="adjustZoom(0.1)">
          <i class="fas fa-search-plus"></i> Zoom In
      </button>
      <button class="quick-btn" onclick="adjustZoom(-0.1)">
          <i class="fas fa-search-minus"></i> Zoom Out
      </button>
      <button class="quick-btn" onclick="restartSystem()">
          <i class="fas fa-redo-alt"></i> Restart
      </button>
      <button class="quick-btn panic-btn" onclick="window.open('https://clever.com', '_blank')">
          <i class="fas fa-exclamation-triangle"></i> Panic
      </button>
      <button class="quick-btn" onclick="toggleTheme()">
        <i class="fas fa-palette"></i> Theme
      </button>
      <button class="quick-btn" onclick="logout()">
        <i class="fas fa-sign-out-alt"></i> Logout
      </button>
    </div>
  </div>

  <!-- Announcement Bar (newly added) -->
  <div class="announcement-bar mt-4">
      <div class="announcement-content">
          <p id="announcementText">Important System Announcement: Scheduled maintenance this weekend. System may experience brief interruptions. Please save your work regularly!</p>
      </div>
  </div>

  <!-- Main Panels Grid -->
  <div class="panels-grid" id="panelsGrid">
    <!-- Calendar Panel -->
    <div class="panel" data-panel="calendar">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-calendar"></i> Calendar</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="minimizePanel(this)"><i class="fas fa-minus"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div class="calendar-grid" id="calendarGrid">
        <!-- Calendar will be generated here -->
      </div>
    </div>

    <!-- Important Dates Panel -->
    <div class="panel" data-panel="importantDates">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-star"></i> Important Dates</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="clearImportantDates()"><i class="fas fa-trash"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div class="content">
        <input type="date" id="importantDateDay" class="important-date-input" value="2025-08-24">
        <input type="time" id="importantDateTime" class="important-date-input" value="09:00">
        <input type="text" id="importantDateEvent" class="important-date-event-input" placeholder="Event Description...">
        <button class="quick-btn w-full mt-2" onclick="addImportantDate()">Add Event</button>
        <div id="importantDatesList" class="mt-4 max-h-40 overflow-y-auto space-y-2">
            <!-- Important dates will be populated here -->
        </div>
      </div>
    </div>

    <!-- Random Facts Panel -->
    <div class="panel" data-panel="facts">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-lightbulb"></i> Random Facts</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="refreshFact()"><i class="fas fa-sync"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div id="randomFact" class="text-sm">
        Did you know? The human brain contains approximately 86 billion neurons!
      </div>
    </div>

    <!-- Daily Quotes Panel -->
    <div class="panel" data-panel="quotes">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-quote-left"></i> Daily Quote</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="refreshQuote()"><i class="fas fa-sync"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div id="dailyQuote" class="text-sm italic">
        "The only way to do great work is to love what you do." - Steve Jobs
      </div>
    </div>

    <!-- Updates Panel -->
    <div class="panel" data-panel="updates">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-sync-alt"></i> System Updates</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div class="space-y-2" id="systemUpdatesList">
        <div class="system-update-item">Enhanced UI v2.0 Deployed</div>
        <div class="system-update-item">New Security Features Added</div>
        <div class="system-update-item">Performance Optimizations</div>
      </div>
    </div>

    <!-- Notifications Panel -->
    <div class="panel" data-panel="notifications">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-bell"></i> Notifications</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="clearNotifications()"><i class="fas fa-trash"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div id="notificationsList" class="space-y-2">
        <div class="p-2 bg-blue-900 rounded text-xs">System initialized successfully</div>
        <div class="p-2 bg-green-900 rounded text-xs">All security checks passed</div>
      </div>
    </div>

    <!-- Activity Logs Panel -->
    <div class="panel" data-panel="activityLogs">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-list"></i> Activity Logs</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="downloadActivityLogs()"><i class="fas fa-download"></i></button>
          <button class="panel-btn" onclick="clearActivityLogs()"><i class="fas fa-trash"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div id="activityLogsList" class="max-h-40 overflow-y-auto">
        <!-- Activity logs will be populated here -->
      </div>
    </div>

    <!-- Error Log Panel -->
    <div class="panel" data-panel="errorLog">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-bug"></i> Error Log</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="downloadErrorLogs()"><i class="fas fa-download"></i></button>
          <button class="panel-btn" onclick="clearErrorLogs()"><i class="fas fa-trash"></i></button>
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div id="errorLogsList" class="max-h-40 overflow-y-auto space-y-2">
        <!-- Error logs will be populated here -->
      </div>
    </div>

    <!-- Login History Panel -->
    <div class="panel" data-panel="loginHistory">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-history"></i> Login History</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div id="loginHistoryList" class="space-y-2 max-h-40 overflow-y-auto">
        <!-- Login history will be populated here -->
      </div>
    </div>

    <!-- Mouse Clicker Panel -->
    <div class="panel" data-panel="mouseClicker">
      <div class="panel-header">
        <div class="panel-title"><i class="fas fa-mouse-pointer"></i> Mouse Clicker</div>
        <div class="panel-controls">
          <button class="panel-btn" onclick="closePanel(this)"><i class="fas fa-times"></i></button>
        </div>
      </div>
      <div class="content">
        <div id="clickCountDisplay" class="click-count-display">0</div>
        <button class="click-button" onclick="incrementClickCounter()">Click Me!</button>
        <div class="mouse-clicker-controls">
            <button class="quick-btn mt-2" onclick="resetClickCounter()"><i class="fas fa-undo-alt"></i> Reset</button>
        </div>
      </div>
    </div>

  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="settings-modal">
    <div class="settings-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-cog"></i> System Settings</h2>
        <button onclick="togglePanel('settingsModal')" class="text-2xl text-gray-400 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="settings-grid">
        <div class="setting-item">
          <span>Dark Mode</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Auto-save Notes</span>
          <div class="toggle-switch active" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Sound Notifications</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Auto-refresh Data</span>
          <div class="toggle-switch active" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Compact View</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Show Animations</span>
          <div class="toggle-switch active" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>High Contrast</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Auto-backup</span>
          <div class="toggle-switch active" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Security Mode</span>
          <div class="toggle-switch active" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Advanced Logging</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Performance Mode</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Developer Mode</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Experimental Features</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Data Compression</span>
          <div class="toggle-switch active" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
        <div class="setting-item">
          <span>Real-time Sync</span>
          <div class="toggle-switch" onclick="toggleSetting(this)">
            <div class="toggle-slider"></div>
          </div>
        </div>
      </div>

      <!-- Keybinds Section -->
      <div class="mt-8">
        <h3 class="text-xl font-bold text-orange-500 mb-4"><i class="fas fa-keyboard"></i> Keybinds Configuration</h3>
        <div class="space-y-3" id="keybindsList">
          <div class="keybind-item">
            <span>Open Settings</span>
            <input type="text" class="keybind-input" value="Ctrl+," placeholder="Press keys...">
          </div>
          <div class="keybind-item">
            <span>Quick Search</span>
            <input type="text" class="keybind-input" value="Ctrl+K" placeholder="Press keys...">
          </div>
          <div class="keybind-item">
            <span>New Note</span>
            <input type="text" class="keybind-input" value="Ctrl+N" placeholder="Press keys...">
          </div>
          <div class="keybind-item">
            <span>Save All</span>
            <input type="text" class="keybind-input" value="Ctrl+S" placeholder="Press keys...">
          </div>
          <div class="keybind-item">
            <span>Toggle Theme</span>
            <input type="text" class="keybind-input" value="Ctrl+T" placeholder="Press keys...">
          </div>
        </div>
      </div>

      <!-- Theme Selector -->
      <div class="mt-8">
        <h3 class="text-xl font-bold text-orange-500 mb-4"><i class="fas fa-palette"></i> Accent Theme Selection</h3>
        <div class="theme-selector">
          <div class="theme-option active" style="background: linear-gradient(135deg, #ff4500, #ff6b35);" onclick="applyAccentTheme('orange', event)">Orange</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #0066cc, #004499);" onclick="applyAccentTheme('blue', event)">Blue</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #00cc44, #009933);" onclick="applyAccentTheme('green', event)">Green</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #cc0044, #990033);" onclick="applyAccentTheme('red', event)">Red</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #8800cc, #6600aa);" onclick="applyAccentTheme('purple', event)">Purple</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #ffaa00, #ff8800);" onclick="applyAccentTheme('amber', event)">Amber</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #00aaaa, #008888);" onclick="applyAccentTheme('teal', event)">Teal</div>
          <div class="theme-option" style="background: linear-gradient(135deg, #ff0088, #cc0066);" onclick="applyAccentTheme('pink', event)">Pink</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Timer Panel -->
  <div id="timerPanel" class="settings-modal">
    <div class="settings-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-stopwatch"></i> Timer & Stopwatch</h2>
        <button onclick="togglePanel('timerPanel')" class="text-2xl text-gray-400 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Stopwatch -->
        <div class="bg-gray-800 p-6 rounded-lg">
          <h3 class="text-lg font-bold mb-4 text-center">Stopwatch</h3>
          <div class="timer-display" id="stopwatchDisplay">00:00:00</div>
          <div class="timer-controls">
            <button class="tool-btn" onclick="startStopwatch()"><i class="fas fa-play"></i> Start</button>
            <button class="tool-btn" onclick="pauseStopwatch()"><i class="fas fa-pause"></i> Pause</button>
            <button class="tool-btn" onclick="resetStopwatch()"><i class="fas fa-stop"></i> Reset</button>
          </div>
        </div>

        <!-- Timer -->
        <div class="bg-gray-800 p-6 rounded-lg">
          <h3 class="text-lg font-bold mb-4 text-center">Countdown Timer</h3>
          <div class="timer-display" id="timerDisplay">00:00:00</div>
          <div class="flex justify-center gap-2 mb-4">
            <input type="number" id="timerHours" class="w-16 p-2 bg-gray-700 rounded text-center" placeholder="HH" min="0" max="23">
            <input type="number" id="timerMinutes" class="w-16 p-2 bg-gray-700 rounded text-center" placeholder="MM" min="0" max="59">
            <input type="number" id="timerSeconds" class="w-16 p-2 bg-gray-700 rounded text-center" placeholder="SS" min="0" max="59">
          </div>
          <div class="timer-controls">
            <button class="tool-btn" onclick="startTimer()"><i class="fas fa-play"></i> Start</button>
            <button class="tool-btn" onclick="pauseTimer()"><i class="fas fa-pause"></i> Pause</button>
            <button class="tool-btn" onclick="resetTimer()"><i class="fas fa-stop"></i> Reset</button>
          </div>
        </div>
      </div>

      <!-- Reminders -->
      <div class="mt-8">
        <h3 class="text-lg font-bold mb-4"><i class="fas fa-bell"></i> Reminders</h3>
        <div class="flex gap-2 mb-4">
          <input type="text" id="reminderText" class="flex-1 p-2 bg-gray-700 rounded" placeholder="Reminder text...">
          <input type="datetime-local" id="reminderTime" class="p-2 bg-gray-700 rounded">
          <button class="tool-btn" onclick="addReminder()"><i class="fas fa-plus"></i> Add</button>
        </div>
        <div id="remindersList" class="space-y-2">
          <!-- Reminders will be populated here -->
        </div>
      </div>
    </div>
  </div>

  <!-- Notes Panel -->
  <div id="notesPanel" class="settings-modal">
    <div class="settings-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-pen"></i> Enhanced Notes</h2>
        <button onclick="togglePanel('notesPanel')" class="text-2xl text-gray-400 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="drawing-tools">
        <button class="tool-btn active" data-tool="pen" onclick="selectTool(this, 'pen')">
          <i class="fas fa-pen"></i> Pen
        </button>
        <button class="tool-btn" data-tool="brush" onclick="selectTool(this, 'brush')">
          <i class="fas fa-paint-brush"></i> Brush
        </button>
        <button class="tool-btn" data-tool="eraser" onclick="selectTool(this, 'eraser')">
          <i class="fas fa-eraser"></i> Eraser
        </button>
        <button class="tool-btn" data-tool="text" onclick="selectTool(this, 'text')">
          <i class="fas fa-text-height"></i> Text
        </button>
        <button class="tool-btn" data-tool="line" onclick="selectTool(this, 'line')">
          <i class="fas fa-minus"></i> Line
        </button>
        <button class="tool-btn" data-tool="rectangle" onclick="selectTool(this, 'rectangle')">
          <i class="fas fa-square"></i> Rectangle
        </button>
        <button class="tool-btn" data-tool="circle" onclick="selectTool(this, 'circle')">
          <i class="fas fa-circle"></i> Circle
        </button>
        
        <div class="flex items-center gap-2">
          <label class="text-sm">Color:</label>
          <input type="color" id="penColor" class="color-picker" value="#ff4500">
        </div>
        
        <div class="flex items-center gap-2">
          <label class="text-sm">Thickness:</label>
          <input type="range" id="penThickness" class="thickness-slider" min="1" max="20" value="2">
        </div>
        
        <div class="flex items-center gap-2">
          <label class="text-sm">Material:</label>
          <select id="penMaterial" class="bg-gray-700 text-white p-1 rounded">
            <option value="solid">Solid</option>
            <option value="dashed">Dashed</option>
            <option value="dotted">D-otted</option>
          </select>
        </div>
        
        <button class="tool-btn" onclick="clearCanvas()">
          <i class="fas fa-trash"></i> Clear
        </button>
        <button class="tool-btn" onclick="saveCanvas()">
          <i class="fas fa-save"></i> Save
        </button>
      </div>
      
      <canvas id="drawingCanvas" width="760" height="400" class="w-full border border-gray-600 rounded mt-4 bg-white cursor-crosshair"></canvas>
      
      <!-- Text Notes Section -->
      <div class="mt-6">
        <h3 class="text-lg font-bold mb-2"><i class="fas fa-sticky-note"></i> Text Notes</h3>
        <textarea id="textNotes" class="w-full h-32 p-3 bg-gray-700 rounded resize-none" placeholder="Type your notes here..."></textarea>
        <div class="flex gap-2 mt-2">
          <button class="tool-btn" onclick="saveTextNotes()"><i class="fas fa-save"></i> Save Notes</button>
          <button class="tool-btn" onclick="clearTextNotes()"><i class="fas fa-trash"></i> Clear Notes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Calculator Panel (Removed from quickbar, still available in code for direct call if needed) -->
  <div id="calculatorPanel" class="settings-modal" style="display:none;"> 
    <div class="settings-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-calculator"></i> Calculator & Converter</h2>
        <button onclick="togglePanel('calculatorPanel')" class="text-2xl text-gray-400 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Calculator -->
        <div class="calculator">
          <h3 class="text-lg font-bold mb-4 text-center">Calculator</h3>
          <div class="calc-display" id="calcDisplay">0</div>
          <div class="calc-buttons">
            <button class="calc-btn" onclick="clearCalc()">C</button>
            <button class="calc-btn" onclick="deleteLast()">⌫</button>
            <button class="calc-btn operator" onclick="appendToCalc('/')">/</button>
            <button class="calc-btn operator" onclick="appendToCalc('*')">×</button>
            
            <button class="calc-btn" onclick="appendToCalc('7')">7</button>
            <button class="calc-btn" onclick="appendToCalc('8')">8</button>
            <button class="calc-btn" onclick="appendToCalc('9')">9</button>
            <button class="calc-btn operator" onclick="appendToCalc('-')">-</button>
            
            <button class="calc-btn" onclick="appendToCalc('4')">4</button>
            <button class="calc-btn" onclick="appendToCalc('5')">5</button>
            <button class="calc-btn" onclick="appendToCalc('6')">6</button>
            <button class="calc-btn operator" onclick="appendToCalc('+')">+</button>
            
            <button class="calc-btn" onclick="appendToCalc('1')">1</button>
            <button class="calc-btn" onclick="appendToCalc('2')">2</button>
            <button class="calc-btn" onclick="appendToCalc('3')">3</button>
            <button class="calc-btn equals" onclick="calculateResult()" rowspan="2">=</button>
            
            <button class="calc-btn" onclick="appendToCalc('0')" style="grid-column: span 2;">0</button>
            <button class="calc-btn" onclick="appendToCalc('.')">.</button>
          </div>
        </div>

        <!-- Unit Converter -->
        <div class="bg-gray-800 p-6 rounded-lg">
          <h3 class="text-lg font-bold mb-4 text-center">Unit Converter</h3>
          <div class="space-y-4">
            <select id="conversionType" class="w-full p-2 bg-gray-700 rounded" onchange="updateConversionUnits()">
              <option value="length">Length</option>
              <option value="weight">Weight</option>
              <option value="temperature">Temperature</option>
              <option value="volume">Volume</option>
            </select>
            
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm mb-1">From:</label>
                <select id="fromUnit" class="w-full p-2 bg-gray-700 rounded">
                  <option value="m">Meters</option>
                  <option value="km">Kilometers</option>
                  <option value="cm">Centimeters</option>
                  <option value="mm">Millimeters</option>
                  <option value="in">Inches</option>
                  <option value="ft">Feet</option>
                </select>
                <input type="number" id="fromValue" class="w-full p-2 bg-gray-700 rounded mt-2" placeholder="Enter value" oninput="convertUnits()">
              </div>
              
              <div>
                <label class="block text-sm mb-1">To:</label>
                <select id="toUnit" class="w-full p-2 bg-gray-700 rounded" onchange="convertUnits()">
                  <option value="m">Meters</option>
                  <option value="km">Kilometers</option>
                  <option value="cm">Centimeters</option>
                  <option value="mm">Millimeters</option>
                  <option value="in">Inches</option>
                  <option value="ft">Feet</option>
                </select>
                <input type="number" id="toValue" class="w-full p-2 bg-gray-700 rounded mt-2" readonly>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Media Panel (Removed from quickbar, still available in code for direct call if needed) -->
  <div id="mediaPanel" class="settings-modal" style="display:none;">
    <div class="settings-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-play"></i> Media Player</h2>
        <button onclick="togglePanel('mediaPanel')" class="text-2xl text-gray-400 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="media-container">
        <div class="flex gap-2 mb-4">
          <input type="url" id="mediaUrl" class="media-input" placeholder="Enter YouTube URL...">
          <button class="tool-btn" onclick="loadMedia()"><i class="fas fa-play"></i> Load</button>
        </div>
        <iframe id="mediaFrame" class="media-frame" src="" frameborder="0" allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <!-- Stats Panel -->
  <div id="statsPanel" class="settings-modal">
    <div class="settings-content">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-orange-500"><i class="fas fa-chart-bar"></i> Usage Statistics</h2>
        <button onclick="togglePanel('statsPanel')" class="text-2xl text-gray-400 hover:text-white">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="stats-grid">
        <div class="stat-item">
          <div class="stat-number" id="buttonPresses">0</div>
          <div class="stat-label">Button Presses</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="toggleSwitches">0</div>
          <div class="stat-label">Toggle Switches</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="panelsOpened">0</div>
          <div class="stat-label">Panels Opened</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="panelsClosed">0</div>
          <div class="stat-label">Panels Closed</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="searchQueries">0</div>
          <div class="stat-label">Search Queries</div>
        </div>
        <div class="stat-item">
          <div class="stat-number" id="sessionTime">00:00:00</div>
          <div class="stat-label">Session Time</div>
        </div>
      </div>

      <!-- Chart -->
      <div class="mt-8">
        <canvas id="statsChart" style="height: 400px;"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Link to Socket.IO client library -->
<script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
<!-- Link to your external JavaScript file -->
<script src="/script.js"></script>

</body>
</html>
```

---

### **3. `static/style.css` (FULL Code)**

**REPLACE EVERYTHING** in your existing `static/style.css` with this:

```css
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap');

:root {
  --primary-bg: #0a0a0a;
  --secondary-bg: #1a1a1a;
  --accent-color: #ff4500;
  --accent-secondary: #ff6b35;
  --text-primary: #ffffff;
  --text-secondary: #cccccc;
  --border-color: #333;
  --success-color: #00ff41;
  --warning-color: #ffaa00;
  --error-color: #ff0040;
}

/* Light Theme Variables */
body.light-theme {
  --primary-bg: #f0f2f5;
  --secondary-bg: #ffffff;
  --accent-color: #007bff; /* Using a blue accent for light mode as an example */
  --accent-secondary: #0056b3;
  --text-primary: #333333;
  --text-secondary: #666666;
  --border-color: #e0e0e0;
  --success-color: #28a745; /* Green for light theme success */
  --warning-color: #ffc107; /* Yellow for light theme warning */
  --error-color: #dc3545;   /* Red for light theme error */
}

/* Adjust specific elements for light theme */
body.light-theme .login-box {
  background: rgba(255, 255, 255, 0.95);
  border: 3px solid var(--accent-color);
  box-shadow: 0 0 30px rgba(0, 123, 255, 0.3);
}
body.light-theme .login-box h2 {
  background: linear-gradient(45deg, var(--accent-color), #333);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
body.light-theme .login-box input {
  background: rgba(240, 240, 240, 0.8);
  border: 2px solid var(--border-color);
  color: #333;
}
body.light-theme .toggle-container span, body.light-theme .time-date-box .date-display {
  color: var(--text-primary);
}
body.light-theme .dashboard-header {
  background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
  color: white; /* Keep header text white for contrast */
}
body.light-theme .quick-btn {
  background: var(--accent-color);
  color: white;
}
body.light-theme .quick-btn:hover {
  background: var(--accent-secondary);
}
body.light-theme .dashboard-quickbar {
    background: var(--secondary-bg);
    border-color: var(--border-color);
}
body.light-theme .search-bar {
  background: var(--primary-bg);
  border-color: var(--border-color);
  color: var(--text-primary);
}
body.light-theme .search-btn {
  background: var(--accent-color);
}
body.light-theme .search-btn:hover {
    background: var(--accent-secondary);
}
body.light-theme .quickbar-time-info {
    background-color: var(--primary-bg);
    border-color: var(--border-color);
    color: var(--text-primary);
}
body.light-theme .panels-grid {
  border: none;
}
body.light-theme .panel {
  background: var(--secondary-bg);
  border: 1px solid var(--border-color);
  color: var(--text-primary);
}
body.light-theme .panel-title {
  color: var(--accent-color);
}
body.light-theme .panel-controls .panel-btn {
  background: var(--secondary-bg);
  border-color: var(--border-color);
  color: var(--text-secondary);
}
body.light-theme .panel-controls .panel-btn:hover {
  background: var(--accent-color);
  color: white;
}
body.light-theme .calendar-cell {
  background: var(--primary-bg);
  color: var(--text-primary);
}
body.light-theme .calendar-cell:hover, body.light-theme .calendar-cell.today {
  background: var(--accent-color);
  color: white;
}
body.light-theme .log-entry {
  background: var(--primary-bg);
  border-left-color: var(--accent-color); /* Kept accent for log importance */
  color: var(--text-primary);
}
body.light-theme .log-time {
  color: var(--text-secondary);
}
body.light-theme .login-entry-container {
    background-color: var(--primary-bg);
}
body.light-theme .login-entry-container.success {
    border-left: 4px solid var(--success-color);
}
body.light-theme .login-entry-container.failed {
    border-left: 4px solid var(--error-color);
    background-color: var(--primary-bg); /* Use primary for list item backgrounds */
}
body.light-theme .error-log-entry.error { /* This rule is specific to .error class, adjusted below */
    border-left: 4px solid var(--error-color);
    background-color: var(--primary-bg);
    color: var(--text-primary);
}

/* Fixed styling for system update items to match theme */
body.light-theme .system-update-item {
    background-color: var(--primary-bg); /* Match other list items */
    border-left: 4px solid var(--accent-secondary); /* Give it an accent */
    color: var(--text-primary);
}

body.light-theme .notification {
  background: var(--secondary-bg);
  border: 2px solid var(--success-color); /* Accent border to signify its status */
  color: var(--text-primary); /* Should contrast well with bg */
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* Adjust shadow for both themes */
  z-index: 1000;
  animation: slideIn 0.5s ease;
}

body.light-theme .settings-content {
  background: var(--secondary-bg);
  border-color: var(--accent-color);
  color: var(--text-primary);
}
body.light-theme .settings-content h2, body.light-theme .settings-content h3 {
  color: var(--accent-color);
}
body.light-theme .setting-item {
  background: var(--primary-bg);
  border-color: var(--border-color);
}
body.light-theme .tool-btn, body.light-theme .timer-controls .tool-btn {
  background: var(--accent-color);
  color: white;
}
body.light-theme .tool-btn:hover, body.light-theme .tool-btn.active, body.light-theme .timer-controls .tool-btn:hover {
  background: var(--accent-secondary);
}
body.light-theme #drawingCanvas {
  background: #f0f0f0; /* Ensure white canvas in light mode */
}
body.light-theme #textNotes {
  background: var(--primary-bg);
  color: var(--text-primary);
}
body.light-theme .calculator {
  background: var(--primary-bg);
}
body.light-theme .calc-display {
  background: var(--secondary-bg);
  border-color: var(--border-color);
  color: var(--accent-color);
}
body.light-theme .calc-buttons {
    border-color: var(--border-color);
}
body.light-theme .calc-btn {
  background: var(--secondary-bg);
  color: var(--text-primary);
}
body.light-theme .calc-btn:hover {
  background: var(--accent-color);
}
body.light-theme .calc-btn.operator {
  background: var(--accent-color);
}
body.light-theme .calc-btn.equals {
  background: var(--success-color);
  color: black;
}
body.light-theme .media-input {
  background: var(--secondary-bg);
  border-color: var(--border-color);
  color: var(--text-primary);
}
body.light-theme .media-frame {
  background: var(--secondary-bg);
}
body.light-theme .stat-item {
  background: var(--primary-bg);
  border-color: var(--border-color);
}
body.light-theme .keybind-input {
  background: var(--secondary-bg);
  border-color: var(--border-color);
  color: var(--text-primary);
}
/* Light theme specific styles for new elements */
body.light-theme .important-date-input,
body.light-theme .important-date-event-input,
body.light-theme .important-date-item,
body.light-theme #randomFact,
body.light-theme #dailyQuote,
body.light-theme .error-log-entry,
body.light-theme .announcement-bar,
body.light-theme .reset-popup .reset-field { /* Added announcement-bar and reset elements for light theme */
    background-color: var(--primary-bg) !important; /* Use !important to ensure override */
    color: var(--text-primary) !important;
    border-color: var(--border-color) !important;
}
body.light-theme .important-date-item {
    border-left-color: var(--accent-secondary) !important;
}
body.light-theme .click-button,
body.light-theme .reset-popup button { /* Added reset button for light theme */
    background: var(--accent-color) !important;
    color: white !important;
}
body.light-theme .click-button:hover,
body.light-theme .reset-popup button:hover { /* Added reset button hover for light theme */
    background: var(--accent-secondary) !important;
}
body.light-theme .announcement-content { /* Added announcement-content for light theme */
    color: var(--accent-color) !important;
}
body.light-theme .reset-popup {
  background: rgba(255, 255, 255, 0.98) !important; /* Lighter background for popup */
  border-color: var(--accent-color) !important;
  box-shadow: 0 0 30px rgba(0, 123, 255, 0.3) !important;
}
body.light-theme .reset-popup p {
  color: var(--text-primary) !important;
}


* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Roboto', sans-serif;
  background: var(--primary-bg);
  color: var(--text-primary);
  overflow-x: hidden;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Initialization Screen */
.init-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: radial-gradient(circle at center, #1a1a2e, #16213e, #0f0f0f);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.rotating-cube {
  width: 80px;
  height: 80px;
  position: relative;
  transform-style: preserve-3d;
  animation: rotateCube 2s infinite linear;
  margin-bottom: 30px;
}

.cube-face {
  position: absolute;
  width: 80px;
  height: 80px;
  background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
  border: 2px solid #fff;
  opacity: 0.8;
}

.cube-face.front { transform: rotateY(0deg) translateZ(40px); }
.cube-face.back { transform: rotateY(180deg) translateZ(40px); }
.cube-face.right { transform: rotateY(90deg) translateZ(40px); }
.cube-face.left { transform: rotateY(-90deg) translateZ(40px); }
.cube-face.top { transform: rotateX(90deg) translateZ(40px); }
.cube-face.bottom { transform: rotateX(-90deg) translateZ(40px); }

@keyframes rotateCube {
  0% { transform: rotateX(0deg) rotateY(0deg); }
  100% { transform: rotateX(360deg) rotateY(360deg); }
}

.init-text {
  font-family: 'Orbitron', monospace;
  font-size: 24px;
  font-weight: 700;
  background: linear-gradient(45deg, #ff4500, #ff0040);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientShift 3s ease-in-out infinite;
  text-align: center;
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.code-rain {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0.3;
}

.code-char {
  position: absolute;
  color: var(--success-color);
  font-family: 'Courier New', monospace;
  font-size: 12px;
  animation: fall 3s linear infinite;
}

@keyframes fall {
  0% { transform: translateY(-100vh); opacity: 1; }
  100% { transform: translateY(100vh); opacity: 0; }
}

/* Enhanced Login Styles */
.login-container {
  min-height: 100vh;
  background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
}

.login-quickbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.9);
  backdrop-filter: blur(10px);
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 1000;
  border-bottom: 1px solid var(--border-color);
}

.login-quickbar button {
  background: var(--accent-color);
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.3s ease;
  margin: 0 5px;
}

.login-quickbar button:hover {
  background: var(--accent-secondary);
  transform: translateY(-2px);
}

.panic-btn {
  background: var(--error-color) !important;
}

.login-box {
  background: rgba(26, 26, 26, 0.95);
  backdrop-filter: blur(15px);
  border: 3px solid var(--accent-color);
  border-radius: 20px;
  box-shadow: 0 0 30px rgba(255, 69, 0, 0.5);
  width: 420px;
  padding: 40px 30px;
  text-align: center;
  position: relative;
  margin-top: 60px;
  transition: all 0.3s ease;
}

.login-box.error-shake {
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-10px); }
  75% { transform: translateX(10px); }
}

.login-box h2 {
  font-family: 'Orbitron', monospace;
  font-size: 28px;
  font-weight: 900;
  margin-bottom: 30px;
  background: linear-gradient(45deg, var(--accent-color), #fff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.input-group {
  position: relative;
  margin-bottom: 20px;
}

.login-box input {
  width: 100%;
  padding: 15px;
  background: rgba(30, 30, 30, 0.8);
  border: 2px solid var(--border-color);
  color: white;
  border-radius: 10px;
  font-size: 16px;
  transition: all 0.3s ease;
}

.login-box input:focus {
  border-color: var(--accent-color);
  box-shadow: 0 0 15px rgba(255, 69, 0, 0.3);
  outline: none;
}

.toggle-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 15px 0;
  padding: 10px;
  background: rgba(30, 30, 30, 0.5);
  border-radius: 10px;
}

.toggle-switch {
  position: relative;
  width: 50px;
  height: 25px;
  background: #333;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.toggle-switch.active {
  background: var(--success-color);
}

.toggle-slider {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 21px;
  height: 21px;
  background: white;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.toggle-switch.active .toggle-slider {
  transform: translateX(25px);
}

.submit-btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
  color: white;
  font-size: 18px;
  font-weight: 700;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.submit-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(255, 69, 0, 0.4);
}

.time-date-box {
  background: rgba(30, 30, 30, 0.8);
  border: 2px solid var(--border-color);
  border-radius: 15px;
  padding: 20px;
  margin-top: 20px;
  text-align: center;
}

.time-display {
  font-family: 'Orbitron', monospace;
  font-size: 24px;
  font-weight: 700;
  color: var(--accent-color);
  margin-bottom: 10px;
}

.date-display {
  font-size: 16px;
  color: var(--text-secondary);
}

/* Dashboard Styles */
.dashboard {
  min-height: 100vh;
  background: var(--primary-bg);
  padding: 20px;
  display: none;
}

.dashboard.active {
  display: block;
}

.dashboard-header {
  background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
  padding: 20px 30px;
  border-radius: 15px;
  margin-bottom: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: white;
}

.dashboard-quickbar {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between; /* Space out the left and right groups */
  gap: 10px;
  margin-bottom: 20px;
  padding: 15px;
  background: var(--secondary-bg);
  border-radius: 15px;
  border: 1px solid var(--border-color);
  align-items: center; /* Align items vertically in quickbar */
}

/* Styles for the time displays within the search container */
.quickbar-time-info {
    display: flex;
    align-items: center;
    gap: 5px; /* Space between the text labels and the actual time */
    font-size: 12px;
    white-space: nowrap;
    background-color: var(--primary-bg); /* Add background */
    padding: 6px 10px; /* Add padding */
    border-radius: 6px; /* Add border-radius */
    border: 1px solid var(--border-color); /* Add border */
    color: var(--text-primary); /* Ensure text color adapts */
}
.quickbar-time-value {
    font-family: 'Orbitron', monospace;
    color: var(--accent-color);
    font-weight: bold;
    font-size: 13px; /* Slightly smaller than regular buttons but legible */
}

.search-group { /* New container for search input and time displays */
    display: flex;
    align-items: center;
    gap: 10px; /* Space between search and time info */
    flex-grow: 1; /* Allow it to grow, but respecting max-width */
    max-width: 50%; /* Adjust based on desired layout balance */
    min-width: 350px; /* Ensure minimum width for contents */
}
.search-container { /* This now just wraps the input and search button visually */
  position: relative;
  display: flex; /* Make it a flex container to align search bar and button */
  flex-grow: 1;
  max-width: 300px; /* Restrict max width of the input group */
}

.search-bar {
  width: 100%;
  padding: 10px 40px 10px 15px;
  background: var(--primary-bg);
  border: 2px solid var(--border-color);
  border-radius: 25px;
  color: white;
  font-size: 14px;
  flex-grow: 1; /* Allow the input to take available space */
}

.search-btn {
  position: absolute; /* Keep it absolute for placement inside the search input visuals */
  right: 5px;
  top: 50%;
  transform: translateY(-50%);
  background: var(--accent-color);
  border: none;
  border-radius: 50%;
  width: 30px;
  height: 30px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
}
.search-btn:hover {
    background: var(--accent-secondary);
}

.quick-btn-group { /* New container for all buttons to the right */
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: flex-end; /* Align buttons to the right within their group */
}

.quick-btn {
  background: var(--accent-color);
  color: white;
  border: none;
  padding: 10px 15px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.quick-btn:hover {
  background: var(--accent-secondary);
  transform: translateY(-2px);
}

.notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--secondary-bg); /* Use theme background */
  border: 2px solid var(--success-color); /* Accent border to signify its status */
  color: var(--text-primary); /* Use theme text color */
  padding: 15px 25px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* Adjust shadow for both themes */
  z-index: 1000;
  animation: slideIn 0.5s ease;
}

@keyframes slideIn {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

.panels-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
  transition: opacity 0.3s ease-in-out;
}

.panel {
  background: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 15px;
  padding: 20px;
  position: relative;
  transition: all 0.3s ease;
  resize: both;
  overflow: auto;
  min-height: 200px;
}

.panel:hover {
  box-shadow: 0 5px 20px rgba(255, 69, 0, 0.2);
}

.panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid var(--border-color);
}

.panel-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--accent-color);
}

.panel-controls {
  display: flex;
  gap: 5px;
}

.panel-btn {
  background: none;
  border: 1px solid var(--border-color);
  color: var(--text-secondary);
  border-radius: 4px;
  width: 25px;
  height: 25px;
  cursor: pointer;
  font-size: 10px;
  transition: all 0.3s ease;
}

.panel-btn:hover {
  background: var(--accent-color);
  color: white;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 5px;
  margin-top: 15px;
}

.calendar-cell {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--primary-bg);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 12px;
}

.calendar-cell:hover {
  background: var(--accent-color);
}

.calendar-cell.today {
  background: var(--accent-color);
  color: white;
  font-weight: bold;
}

/* Login History Entries */
.login-entry-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    margin-bottom: 5px;
    border-radius: 6px;
    font-size: 12px;
    border: 1px solid var(--border-color);
    background-color: var(--primary-bg);
    transition: background-color 0.3s ease;
}
.login-entry-container.success {
    border-left: 4px solid var(--success-color);
    background-color: var(--primary-bg); /* Use primary for list item backgrounds */
}
.login-entry-container.failed {
    border-left: 4px solid var(--error-color);
    background-color: var(--primary-bg); /* Use primary for list item backgrounds */
}
.login-entry-status {
    font-weight: bold;
    color: var(--text-primary);
}
.login-entry-time {
    color: var(--text-secondary);
    font-size: 10px;
}

/* Important Dates styling */
.important-date-input, .important-date-event-input {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 8px;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    background-color: var(--primary-bg); /* Added background color */
    color: var(--text-primary);
    font-size: 14px;
    transition: border-color 0.3s ease;
}
.important-date-input:focus, .important-date-event-input:focus {
    outline: none;
    border-color: var(--accent-color);
}
.important-date-item {
    padding: 8px 10px;
    margin-bottom: 8px;
    border-radius: 6px;
    background-color: var(--primary-bg); /* Added background color */
    border-left: 4px solid var(--accent-secondary); /* Accent for visual interest */
    color: var(--text-primary);
    font-size: 13px;
    display: flex;
    flex-direction: column;
    gap: 2px;
}
.important-date-item .date-time {
    font-weight: bold;
    color: var(--accent-color);
}
.important-date-item .event-description {
    color: var(--text-secondary);
}


/* System Updates Panel Styling */
.system-update-item {
    padding: 8px;
    border-radius: 6px;
    margin-bottom: 8px;
    font-size: 12px;
    background-color: var(--primary-bg); /* Apply theme-adaptive background */
    border-left: 4px solid var(--accent-secondary); /* Give it a subtle accent border */
    color: var(--text-primary); /* Ensure text color adapts */
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}


/* Settings Modal */
.settings-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.8);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
}

.settings-content {
  background: var(--secondary-bg);
  border: 2px solid var(--accent-color);
  border-radius: 20px;
  padding: 30px;
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
}

.settings-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  background: var(--primary-bg);
  border-radius: 10px;
  border: 1px solid var(--border-color);
}

/* Drawing Tools */
.drawing-tools {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 15px;
  padding: 15px;
  background: var(--primary-bg);
  border-radius: 10px;
}

.tool-btn {
  padding: 8px 12px;
  background: var(--accent-color);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: all 0.3s ease;
}

.tool-btn:hover, .tool-btn.active {
  background: var(--accent-secondary);
  transform: scale(1.05);
}

.color-picker {
  width: 30px;
  height: 30px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.thickness-slider {
  width: 100px;
  accent-color: var(--accent-color);
}

/* Timer/Stopwatch */
.timer-display {
  font-family: 'Orbitron', monospace;
  font-size: 36px;
  font-weight: 700;
  color: var(--accent-color);
  text-align: center;
  margin: 20px 0;
}

.timer-controls {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-top: 15px;
}

/* Activity Logs */
.log-entry {
  padding: 10px;
  background: var(--primary-bg);
  border-left: 4px solid var(--accent-color);
  margin-bottom: 10px;
  border-radius: 6px;
  font-size: 12px;
  display: flex;
  justify-content: space-between;
}

.log-time {
  color: var(--text-secondary);
  font-size: 10px;
}

/* Error Log Entries */
.error-log-entry {
    padding: 10px;
    background: var(--primary-bg); /* Added background color */
    border-left: 4px solid var(--error-color);
    margin-bottom: 10px;
    border-radius: 6px;
    font-size: 12px;
    display: flex;
    justify-content: space-between;
    color: var(--text-primary);
}
.error-log-time {
    color: var(--text-secondary);
    font-size: 10px;
}


/* Stats Display */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 15px;
  margin-top: 15px;
}

.stat-item {
  text-align: center;
  padding: 15px;
  background: var(--primary-bg);
  border-radius: 10px;
  border: 1px solid var(--border-color);
}

.stat-number {
  font-family: 'Orbitron', monospace;
  font-size: 24px;
  font-weight: 700;
  color: var(--accent-color);
}

.stat-label {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 5px;
}

/* Themes */
.theme-selector {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 15px;
}

.theme-option {
  aspect-ratio: 1;
  border-radius: 10px;
  cursor: pointer;
  border: 3px solid transparent;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: bold;
}

.theme-option:hover, .theme-option.active {
  border-color: var(--accent-color);
  transform: scale(1.05);
}

/* Calculator */
.calculator {
  background: var(--primary-bg);
  border-radius: 15px;
  padding: 20px;
  margin-top: 15px;
}

.calc-display {
  background: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 15px;
  text-align: right;
  font-family: 'Orbitron', monospace;
  font-size: 24px;
  color: var(--accent-color);
  margin-bottom: 15px;
  min-height: 60px;
}

.calc-buttons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

.calc-btn {
  aspect-ratio: 1;
  border: none;
  border-radius: 8px;
  background: var(--secondary-bg);
  color: white;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.calc-btn:hover {
  background: var(--accent-color);
}

.calc-btn.operator {
  background: var(--accent-color);
}

.calc-btn.equals {
  background: var(--success-color);
  color: black;
}

/* Media Player */
.media-container {
  background: var(--primary-bg);
  border-radius: 15px;
  padding: 20px;
  margin-top: 15px;
}

.media-input {
  width: 100%;
  padding: 10px;
  background: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  color: white;
  margin-bottom: 15px;
}

.media-frame {
  width: 100%;
  height: 400px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  background: var(--secondary-bg);
}

/* Keybinds */
.keybind-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  background: var(--primary-bg);
  border-radius: 8px;
  margin-bottom: 10px;
}

.keybind-input {
  background: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 4px;
  padding: 5px 10px;
  color: white;
  font-family: 'Courier New', monospace;
}

/* Clicker Button */
.click-button {
    width: 100%;
    padding: 15px;
    background: var(--accent-color); /* Matches quick-btn */
    color: white;
    font-size: 18px;
    font-weight: 700;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 10px;
}
.click-button:hover {
    background: var(--accent-secondary);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(var(--accent-color), 0.4);
}
.click-count-display {
    font-family: 'Orbitron', monospace;
    font-size: 48px;
    font-weight: 900;
    color: var(--accent-color);
    text-align: center;
    margin-bottom: 20px;
    padding: 10px;
    background-color: var(--primary-bg); /* Add background */
    border-radius: 10px;
    border: 1px solid var(--border-color);
}

/* Daily Quotes & Random Facts content styling */
#randomFact, #dailyQuote {
    background-color: var(--primary-bg); /* Background for text content */
    padding: 15px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    line-height: 1.5;
    font-style: italic;
    color: var(--text-primary);
}

/* Announcement Bar */
.announcement-bar {
  background-color: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 10px;
  padding: 10px 20px;
  overflow: hidden; /* Crucial for the moving text */
  margin-bottom: 20px; /* Space between announcement and panels */
  position: relative;
}

.announcement-content {
  white-space: nowrap; /* Keep text on a single line */
  display: inline-block; /* Essential for animation */
  padding-left: 100%; /* Start the text off-screen to the right */
  color: var(--accent-color); /* Make the text stand out */
  font-weight: bold;
  animation: marquee 20s linear infinite; /* Adjust time as needed for speed */
}

@keyframes marquee {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-100%); } /* Move fully to the left */
}

/* Reset Popup styles */
.reset-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(26, 26, 26, 0.98);
  backdrop-filter: blur(10px);
  border: 3px solid var(--accent-color);
  border-radius: 15px;
  padding: 30px;
  text-align: center;
  z-index: 1001; /* Above login box */
  box-shadow: 0 0 40px rgba(255, 69, 0, 0.6);
  width: 350px;
  max-width: 90%;
  display: none; /* Hidden by default */
}

.reset-popup p {
  margin-bottom: 20px;
  font-size: 1.1em;
  color: var(--text-primary);
}

.reset-popup .reset-field {
  width: 100%;
  padding: 12px;
  margin-bottom: 20px;
  border-radius: 8px;
  border: 2px solid var(--border-color);
  background: var(--primary-bg);
  color: var(--text-primary);
  font-size: 16px;
  text-align: center;
}

.reset-popup button {
  width: 100%;
  padding: 12px;
  background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  font-weight: bold;
  transition: all 0.3s ease;
}

.reset-popup button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 69, 0, 0.3);
}


/* Responsive */
@media (max-width: 1200px) {
    .dashboard-quickbar .search-group {
        flex-direction: column; /* Stack search bar and time info on smaller screens */
        max-width: 100%;
        align-items: flex-start; /* Align text left */
    }
    .dashboard-quickbar .quickbar-time-info {
        width: 100%;
        justify-content: space-between;
    }
    .dashboard-quickbar .quick-btn-group {
        width: 100%; /* Make buttons take full width when stacked */
        justify-content: center;
    }
    .search-container {
        max-width: 100%;
    }
}
@media (max-width: 768px) {
  .login-box {
    width: 90%;
    margin: 20px auto;
  }
  
  .panels-grid {
    grid-template-columns: 1fr;
  }
  
  .dashboard-quickbar {
    flex-direction: column;
    gap: 10px;
  }
  
  .search-container {
    max-width: 100%;
  }
}

/* Loading Animation */
.loading-cube {
  width: 60px;
  height: 60px;
  position: relative;
  transform-style: preserve-3d;
  animation: loadingRotate 1.5s infinite linear;
}

.loading-face {
  position: absolute;
  width: 60px;
  height: 60px;
  background: linear-gradient(45deg, var(--accent-color), var(--accent-secondary));
  border: 1px solid #fff;
  opacity: 0.9;
}

.loading-face.front { transform: rotateY(0deg) translateZ(30px); }
.loading-face.back { transform: rotateY(180deg) translateZ(30px); }
.loading-face.right { transform: rotateY(90deg) translateZ(30px); }
.loading-face.left { transform: rotateY(-90deg) translateZ(30px); }
.loading-face.top { transform: rotateX(90deg) translateZ(30px); }
.loading-face.bottom { transform: rotateX(-90deg) translateZ(30px); }

@keyframes loadingRotate {
  0% { transform: rotateX(0deg) rotateY(0deg); }
  100% { transform: rotateX(360deg) rotateY(360deg); }
}

/* Hidden by default */
.hidden { display: none !important; }
